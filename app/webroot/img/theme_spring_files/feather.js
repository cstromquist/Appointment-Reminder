AV_version="1.5.8";AV_betaversion="";AV_closureCompiled=!0;AV_imgrecvServer="http://featherservices.aviary.com/FeatherReceiver.aspx";AV_imgrecvBase="http://featherservices.aviary.com/";AV_imgtrackServer="http://featherservices.aviary.com/featherlog.aspx";AV_filterServer="http://featherservices.aviary.com/moa.ashx";AV__jsonp_imgserver="http://featherservices.aviary.com/imgjsonpserver.aspx";AV__featherTargetAnnounce="http://featherservices.aviary.com/feather_target_announce.html";
AV__featherFilterAnnounce="http://featherservices.aviary.com/feather_filter_announce.html";AV_proxyServer="http://www.aviary.com/apps/xmlapi/proxy.aspx";typeof AV_feather_baseURL=="undefined"&&(AV_feather_baseURL="http://feather.aviary.com/1.5.8/");var avpw_swfobject=function(){function a(){if(!P){try{var a=o.getElementsByTagName("body")[0].appendChild(o.createElement("span"));a.parentNode.removeChild(a)}catch(c){return}P=!0;for(var a=Q.length,d=0;d<a;d++)Q[d]()}}function c(a){P?a():Q[Q.length]=a}function d(a){if(typeof J.addEventListener!=x)J.addEventListener("load",a,!1);else if(typeof o.addEventListener!=x)o.addEventListener("load",a,!1);else if(typeof J.attachEvent!=x)z(J,"onload",a);else if(typeof J.onload=="function"){var c=J.onload;J.onload=
function(){c();a()}}else J.onload=a}function e(){var a=o.getElementsByTagName("body")[0],c=o.createElement(E);c.setAttribute("type",B);var d=a.appendChild(c);if(d){var e=0;(function(){if(typeof d.GetVariable!=x){var h=d.GetVariable("$version");if(h)h=h.split(" ")[1].split(","),w.pv=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)]}else if(e<10){e++;setTimeout(arguments.callee,10);return}a.removeChild(c);d=null;f()})()}else f()}function f(){var a=M.length;if(a>0)for(var c=0;c<a;c++){var d=M[c].id,
e=M[c].callbackFn,h={success:!1,id:d};if(w.pv[0]>0){var f=u(d);if(f)if(A(M[c].swfVersion)&&!(w.wk&&w.wk<312)){if(H(d,!0),e)h.success=!0,h.ref=j(d),e(h)}else if(M[c].expressInstall&&k()){h={};h.data=M[c].expressInstall;h.width=f.getAttribute("width")||"0";h.height=f.getAttribute("height")||"0";if(f.getAttribute("class"))h.styleclass=f.getAttribute("class");if(f.getAttribute("align"))h.align=f.getAttribute("align");for(var o={},f=f.getElementsByTagName("param"),q=f.length,p=0;p<q;p++)f[p].getAttribute("name").toLowerCase()!=
"movie"&&(o[f[p].getAttribute("name")]=f[p].getAttribute("value"));m(h,o,d,e)}else l(f),e&&e(h)}else if(H(d,!0),e){if((d=j(d))&&typeof d.SetVariable!=x)h.success=!0,h.ref=d;e(h)}}}function j(a){var c=null;if((a=u(a))&&a.nodeName=="OBJECT")typeof a.SetVariable!=x?c=a:(a=a.getElementsByTagName(E)[0])&&(c=a);return c}function k(){return!N&&A("6.0.65")&&(w.win||w.mac)&&!(w.wk&&w.wk<312)}function m(a,c,d,e){N=!0;ea=e||null;fa={success:!1,id:d};var h=u(d);if(h){h.nodeName=="OBJECT"?(S=p(h),$=null):(S=h,
$=d);a.id=T;if(typeof a.width==x||!/%$/.test(a.width)&&parseInt(a.width,10)<310)a.width="310";if(typeof a.height==x||!/%$/.test(a.height)&&parseInt(a.height,10)<137)a.height="137";o.title=o.title.slice(0,47)+" - Flash Player Installation";e=w.ie&&w.win?"ActiveX":"PlugIn";e="MMredirectURL="+encodeURI(window.location).toString().replace(/&/g,"%26")+"&MMplayerType="+e+"&MMdoctitle="+o.title;typeof c.flashvars!=x?c.flashvars+="&"+e:c.flashvars=e;if(w.ie&&w.win&&h.readyState!=4)e=o.createElement("div"),
d+="SWFObjectNew",e.setAttribute("id",d),h.parentNode.insertBefore(e,h),h.style.display="none",function(){h.readyState==4?h.parentNode.removeChild(h):setTimeout(arguments.callee,10)}();q(a,c,d)}}function l(a){if(w.ie&&w.win&&a.readyState!=4){var c=o.createElement("div");a.parentNode.insertBefore(c,a);c.parentNode.replaceChild(p(a),c);a.style.display="none";(function(){a.readyState==4?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)})()}else a.parentNode.replaceChild(p(a),a)}function p(a){var c=
o.createElement("div");if(w.win&&w.ie)c.innerHTML=a.innerHTML;else if(a=a.getElementsByTagName(E)[0])if(a=a.childNodes)for(var d=a.length,e=0;e<d;e++)!(a[e].nodeType==1&&a[e].nodeName=="PARAM")&&a[e].nodeType!=8&&c.appendChild(a[e].cloneNode(!0));return c}function q(a,c,d){var e,h=u(d);if(w.wk&&w.wk<312)return e;if(h){if(typeof a.id==x)a.id=d;if(w.ie&&w.win){var f="",j;for(j in a)if(a[j]!=Object.prototype[j])j.toLowerCase()=="data"?c.movie=a[j]:j.toLowerCase()=="styleclass"?f+=' class="'+a[j]+'"':
j.toLowerCase()!="classid"&&(f+=" "+j+'="'+a[j]+'"');j="";for(var k in c)c[k]!=Object.prototype[k]&&(j+='<param name="'+k+'" value="'+c[k]+'" />');h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+j+"</object>";aa[aa.length]=a.id;e=u(a.id)}else{k=o.createElement(E);k.setAttribute("type",B);for(var m in a)a[m]!=Object.prototype[m]&&(m.toLowerCase()=="styleclass"?k.setAttribute("class",a[m]):m.toLowerCase()!="classid"&&k.setAttribute(m,a[m]));for(f in c)c[f]!=Object.prototype[f]&&
f.toLowerCase()!="movie"&&(a=k,j=f,m=c[f],d=o.createElement("param"),d.setAttribute("name",j),d.setAttribute("value",m),a.appendChild(d));h.parentNode.replaceChild(k,h);e=k}}return e}function v(a){var c=u(a);if(c&&c.nodeName=="OBJECT")w.ie&&w.win?(c.style.display="none",function(){if(c.readyState==4){var d=u(a);if(d){for(var e in d)typeof d[e]=="function"&&(d[e]=null);d.parentNode.removeChild(d)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c)}function u(a){var c=null;try{c=o.getElementById(a)}catch(d){}return c}
function z(a,c,d){a.attachEvent(c,d);R[R.length]=[a,c,d]}function A(a){var c=w.pv,a=a.split(".");a[0]=parseInt(a[0],10);a[1]=parseInt(a[1],10)||0;a[2]=parseInt(a[2],10)||0;return c[0]>a[0]||c[0]==a[0]&&c[1]>a[1]||c[0]==a[0]&&c[1]==a[1]&&c[2]>=a[2]?!0:!1}function C(a,c,d,e){if(!w.ie||!w.mac){var h=o.getElementsByTagName("head")[0];if(h){d=d&&typeof d=="string"?d:"screen";e&&(ga=U=null);if(!U||ga!=d)e=o.createElement("style"),e.setAttribute("type","text/css"),e.setAttribute("media",d),U=h.appendChild(e),
w.ie&&w.win&&typeof o.styleSheets!=x&&o.styleSheets.length>0&&(U=o.styleSheets[o.styleSheets.length-1]),ga=d;w.ie&&w.win?U&&typeof U.addRule==E&&U.addRule(a,c):U&&typeof o.createTextNode!=x&&U.appendChild(o.createTextNode(a+" {"+c+"}"))}}}function H(a,c){if(ka){var d=c?"visible":"hidden";P&&u(a)?u(a).style.visibility=d:C("#"+a,"visibility:"+d)}}function K(a){return/[\\\"<>\.;]/.exec(a)!=null&&typeof encodeURIComponent!=x?encodeURIComponent(a):a}var x="undefined",E="object",B="application/x-shockwave-flash",
T="SWFObjectExprInst",J=window,o=document,h=navigator,la=!1,Q=[function(){la?e():f()}],M=[],aa=[],R=[],S,$,ea,fa,P=!1,N=!1,U,ga,ka=!0,w=function(){var a=typeof o.getElementById!=x&&typeof o.getElementsByTagName!=x&&typeof o.createElement!=x,c=h.userAgent.toLowerCase(),d=h.platform.toLowerCase(),e=d?/win/.test(d):/win/.test(c),d=d?/mac/.test(d):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,f=!+"\u000b1",j=[0,0,0],k=null;if(typeof h.plugins!=x&&typeof h.plugins["Shockwave Flash"]==
E){if((k=h.plugins["Shockwave Flash"].description)&&!(typeof h.mimeTypes!=x&&h.mimeTypes[B]&&!h.mimeTypes[B].enabledPlugin))la=!0,f=!1,k=k.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),j[0]=parseInt(k.replace(/^(.*)\..*$/,"$1"),10),j[1]=parseInt(k.replace(/^.*\.(.*)\s.*$/,"$1"),10),j[2]=/[a-zA-Z]/.test(k)?parseInt(k.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}else if(typeof J.ActiveXObject!=x)try{var m=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(m&&(k=m.GetVariable("$version")))f=!0,k=k.split(" ")[1].split(","),
j=[parseInt(k[0],10),parseInt(k[1],10),parseInt(k[2],10)]}catch(l){}return{w3:a,pv:j,wk:c,ie:f,win:e,mac:d}}();(function(){w.w3&&((typeof o.readyState!=x&&o.readyState=="complete"||typeof o.readyState==x&&(o.getElementsByTagName("body")[0]||o.body))&&a(),P||(typeof o.addEventListener!=x&&o.addEventListener("DOMContentLoaded",a,!1),w.ie&&w.win&&(o.attachEvent("onreadystatechange",function(){o.readyState=="complete"&&(o.detachEvent("onreadystatechange",arguments.callee),a())}),J==top&&function(){if(!P){try{o.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,
0);return}a()}}()),w.wk&&function(){P||(/loaded|complete/.test(o.readyState)?a():setTimeout(arguments.callee,0))}(),d(a)))})();(function(){w.ie&&w.win&&window.attachEvent("onunload",function(){for(var a=R.length,c=0;c<a;c++)R[c][0].detachEvent(R[c][1],R[c][2]);a=aa.length;for(c=0;c<a;c++)v(aa[c]);for(var d in w)w[d]=null;w=null;for(var e in avpw_swfobject)avpw_swfobject[e]=null;avpw_swfobject=null})})();return{registerObject:function(a,c,d,e){if(w.w3&&a&&c){var h={};h.id=a;h.swfVersion=c;h.expressInstall=
d;h.callbackFn=e;M[M.length]=h;H(a,!1)}else e&&e({success:!1,id:a})},getObjectById:function(a){if(w.w3)return j(a)},embedSWF:function(a,d,e,h,f,j,l,o,p,u){var v={success:!1,id:d};w.w3&&!(w.wk&&w.wk<312)&&a&&d&&e&&h&&f?(H(d,!1),c(function(){e+="";h+="";var c={};if(p&&typeof p===E)for(var z in p)c[z]=p[z];c.data=a;c.width=e;c.height=h;z={};if(o&&typeof o===E)for(var w in o)z[w]=o[w];if(l&&typeof l===E)for(var C in l)typeof z.flashvars!=x?z.flashvars+="&"+C+"="+l[C]:z.flashvars=C+"="+l[C];if(A(f))w=
q(c,z,d),c.id==d&&H(d,!0),v.success=!0,v.ref=w;else if(j&&k()){c.data=j;m(c,z,d,u);return}else H(d,!0);u&&u(v)})):u&&u(v)},switchOffAutoHideShow:function(){ka=!1},ua:w,getFlashPlayerVersion:function(){return{major:w.pv[0],minor:w.pv[1],release:w.pv[2]}},hasFlashPlayerVersion:A,createSWF:function(a,c,d){if(w.w3)return q(a,c,d)},showExpressInstall:function(a,c,d,e){w.w3&&k()&&m(a,c,d,e)},removeSWF:function(a){w.w3&&v(a)},createCSS:function(a,c,d,e){w.w3&&C(a,c,d,e)},addDomLoadEvent:c,addLoadEvent:d,
getQueryParamValue:function(a){var c=o.location.search||o.location.hash;if(c){/\?/.test(c)&&(c=c.split("?")[1]);if(a==null)return K(c);for(var c=c.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return K(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(N){var a=u(T);if(a&&S){a.parentNode.replaceChild(S,a);if($&&(H($,!0),w.ie&&w.win))S.style.display="block";ea&&ea(fa)}N=!1}}}}();(function(a,c){function d(a){return h.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function e(a){if(!ra[a]){var c=h("<"+a+">").appendTo("body"),d=c.css("display");c.remove();if(d==="none"||d==="")d="block";ra[a]=d}return ra[a]}function f(a,c){var d={};h.each(Da.concat.apply([],Da.slice(0,c)),function(){d[this]=a});return d}function j(){try{return new a.XMLHttpRequest}catch(c){}}function k(){h(a).unload(function(){for(var a in ba)ba[a](0,1)})}function m(a,c,d,e){if(h.isArray(c)&&c.length)h.each(c,
function(c,y){d||$a.test(a)?e(a,y):m(a+"["+(typeof y==="object"||h.isArray(y)?c:"")+"]",y,d,e)});else if(d||c==null||typeof c!=="object")e(a,c);else if(h.isArray(c)||h.isEmptyObject(c))e(a,"");else for(var f in c)m(a+"["+f+"]",c[f],d,e)}function l(a,d,e,h,f,j){f=f||d.dataTypes[0];j=j||{};j[f]=!0;for(var f=a[f],k=0,m=f?f.length:0,ta=a===sa,s;k<m&&(ta||!s);k++)s=f[k](d,e,h),typeof s==="string"&&(!ta||j[s]?s=c:(d.dataTypes.unshift(s),s=l(a,d,e,h,s,j)));(ta||!s)&&!j["*"]&&(s=l(a,d,e,h,"*",j));return s}
function p(a){return function(c,d){var n;typeof c!=="string"&&(d=c,c="*");if(h.isFunction(d))for(var e=c.toLowerCase().split(Ea),f=0,j=e.length,k,m;f<j;f++)k=e[f],(m=/^\+/.test(k))&&(k=k.substr(1)||"*"),n=a[k]=a[k]||[],k=n,k[m?"unshift":"push"](d)}}function q(a,c,d){var e=c==="width"?a.offsetWidth:a.offsetHeight;if(d==="border")return e;h.each(c==="width"?bb:cb,function(){d||(e-=parseFloat(h.css(a,"padding"+this))||0);d==="margin"?e+=parseFloat(h.css(a,"margin"+this))||0:e-=parseFloat(h.css(a,"border"+
this+"Width"))||0});return e}function v(a,c){c.src?h.ajax({url:c.src,async:!1,dataType:"script"}):h.globalEval(c.text||c.textContent||c.innerHTML||"");c.parentNode&&c.parentNode.removeChild(c)}function u(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function z(a,c){if(c.nodeType===1){var d=c.nodeName.toLowerCase();c.clearAttributes();c.mergeAttributes(a);if(d==="object")c.outerHTML=a.outerHTML;else if(d!=="input"||a.type!=="checkbox"&&
a.type!=="radio")if(d==="option")c.selected=a.defaultSelected;else{if(d==="input"||d==="textarea")c.defaultValue=a.defaultValue}else a.checked&&(c.defaultChecked=c.checked=a.checked),c.value!==a.value&&(c.value=a.value);c.removeAttribute(h.expando)}}function A(a,c){if(c.nodeType===1&&h.hasData(a)){var d=h.expando,e=h.data(a),f=h.data(c,e);if(e=e[d]){var j=e.events,f=f[d]=h.extend({},e);if(j){delete f.handle;f.events={};for(var k in j){d=0;for(e=j[k].length;d<e;d++)h.event.add(c,k+(j[k][d].namespace?
".":"")+j[k][d].namespace,j[k][d],j[k][d].data)}}}}}function C(a,c,d){if(h.isFunction(c))return h.grep(a,function(a,n){return!!c.call(a,n,a)===d});if(c.nodeType)return h.grep(a,function(a){return a===c===d});if(typeof c==="string"){var e=h.grep(a,function(a){return a.nodeType===1});if(Va.test(c))return h.filter(c,e,!d);c=h.filter(c,e)}return h.grep(a,function(a){return h.inArray(a,c)>=0===d})}function H(a,c){return(a&&a!=="*"?a+".":"")+c.replace(U,"`").replace(ga,"&")}function K(a){var c,d,e,f,j,
k,m,l,s,o,q,p=[];f=[];j=h._data(this,"events");if(a.liveFired!==this&&j&&j.live&&!a.target.disabled&&(!a.button||a.type!=="click")){a.namespace&&(q=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));a.liveFired=this;var u=j.live.slice(0);for(m=0;m<u.length;m++)j=u[m],j.origType.replace(P,"")===a.type?f.push(j.selector):u.splice(m--,1);f=h(a.target).closest(f,a.currentTarget);l=0;for(s=f.length;l<s;l++){o=f[l];for(m=0;m<u.length;m++)if(j=u[m],o.selector===j.selector&&(!q||q.test(j.namespace))&&
!o.elem.disabled){k=o.elem;e=null;if(j.preType==="mouseenter"||j.preType==="mouseleave")a.type=j.preType,e=h(a.relatedTarget).closest(j.selector)[0];(!e||e!==k)&&p.push({elem:k,handleObj:j,level:o.level})}}l=0;for(s=p.length;l<s;l++){f=p[l];if(d&&f.level>d)break;a.currentTarget=f.elem;a.data=f.handleObj.data;a.handleObj=f.handleObj;q=f.handleObj.origHandler.apply(f.elem,arguments);if(q===!1||a.isPropagationStopped())if(d=f.level,q===!1&&(c=!1),a.isImmediatePropagationStopped())break}return c}}function x(a,
d,e){var f=h.extend({},e[0]);f.type=a;f.originalEvent={};f.liveFired=c;h.event.handle.call(d,f);f.isDefaultPrevented()&&e[0].preventDefault()}function E(){return!0}function B(){return!1}function T(a){for(var c in a)if(c!=="toJSON")return!1;return!0}function J(a,d,e){if(e===c&&a.nodeType===1)if(e=a.getAttribute("data-"+d),typeof e==="string"){try{e=e==="true"?!0:e==="false"?!1:e==="null"?null:h.isNaN(e)?la.test(e)?h.parseJSON(e):e:parseFloat(e)}catch(f){}h.data(a,d,e)}else e=c;return e}var o=a.document,
h=function(){function n(){if(!d.isReady){try{o.documentElement.doScroll("left")}catch(a){setTimeout(n,1);return}d.ready()}}var d=function(a,c){return new d.fn.init(a,c,f)},e=a.jQuery,h=a.$,f,j=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,k=/\S/,m=/^\s+/,l=/\s+$/,s=/\d/,q=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,p=/^[\],:{}\s]*$/,u=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,A=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,v=/(?:^|:|,)(?:\s*\[)+/g,z=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,
C=/(msie) ([\w.]+)/,x=/(mozilla)(?:.*? rv:([\w.]+))?/,D=navigator.userAgent,Fa=!1,va,wa="then done fail isResolved isRejected promise".split(" "),ca,db=Object.prototype.toString,xa=Object.prototype.hasOwnProperty,ya=Array.prototype.push,ha=Array.prototype.slice,H=String.prototype.trim,B=Array.prototype.indexOf,K={};d.fn=d.prototype={constructor:d,init:function(a,n,e){var h,f;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!n&&o.body)return this.context=
o,this[0]=o.body,this.selector="body",this.length=1,this;if(typeof a==="string"){h=j.exec(a);if(!h||!h[1]&&n)return!n||n.jquery?(n||e).find(a):this.constructor(n).find(a);if(h[1])return f=(n=n instanceof d?n[0]:n)?n.ownerDocument||n:o,(e=q.exec(a))?d.isPlainObject(n)?(a=[o.createElement(e[1])],d.fn.attr.call(a,n,!0)):a=[f.createElement(e[1])]:(e=d.buildFragment([h[1]],[f]),a=(e.cacheable?d.clone(e.fragment):e.fragment).childNodes),d.merge(this,a);if((n=o.getElementById(h[2]))&&n.parentNode){if(n.id!==
h[2])return e.find(a);this.length=1;this[0]=n}this.context=o;this.selector=a;return this}if(d.isFunction(a))return e.ready(a);a.selector!==c&&(this.selector=a.selector,this.context=a.context);return d.makeArray(a,this)},selector:"",jquery:"1.5.1",length:0,size:function(){return this.length},toArray:function(){return ha.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,c,n){var e=this.constructor();d.isArray(a)?ya.apply(e,a):d.merge(e,
a);e.prevObject=this;e.context=this.context;c==="find"?e.selector=this.selector+(this.selector?" ":"")+n:c&&(e.selector=this.selector+"."+c+"("+n+")");return e},each:function(a,c){return d.each(this,a,c)},ready:function(a){d.bindReady();va.done(a);return this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ha.apply(this,arguments),"slice",ha.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,
function(c,d){return a.call(c,d,c)}))},end:function(){return this.prevObject||this.constructor(null)},push:ya,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var a,n,e,h,f,G,j=arguments[0]||{},I=1,k=arguments.length,D=!1;typeof j==="boolean"&&(D=j,j=arguments[1]||{},I=2);typeof j!=="object"&&!d.isFunction(j)&&(j={});for(k===I&&(j=this,--I);I<k;I++)if((a=arguments[I])!=null)for(n in a)e=j[n],h=a[n],j!==h&&(D&&h&&(d.isPlainObject(h)||(f=d.isArray(h)))?(f?(f=!1,
G=e&&d.isArray(e)?e:[]):G=e&&d.isPlainObject(e)?e:{},j[n]=d.extend(D,G,h)):h!==c&&(j[n]=h));return j};d.extend({noConflict:function(c){a.$=h;c&&(a.jQuery=e);return d},isReady:!1,readyWait:1,ready:function(a){a===!0&&d.readyWait--;if(!d.readyWait||a!==!0&&!d.isReady){if(!o.body)return setTimeout(d.ready,1);d.isReady=!0;a!==!0&&--d.readyWait>0||(va.resolveWith(o,[d]),d.fn.trigger&&d(o).trigger("ready").unbind("ready"))}},bindReady:function(){if(!Fa){Fa=!0;if(o.readyState==="complete")return setTimeout(d.ready,
1);if(o.addEventListener)o.addEventListener("DOMContentLoaded",ca,!1),a.addEventListener("load",d.ready,!1);else if(o.attachEvent){o.attachEvent("onreadystatechange",ca);a.attachEvent("onload",d.ready);var c=!1;try{c=a.frameElement==null}catch(e){}o.documentElement.doScroll&&c&&n()}}},isFunction:function(a){return d.type(a)==="function"},isArray:Array.isArray||function(a){return d.type(a)==="array"},isWindow:function(a){return a&&typeof a==="object"&&"setInterval"in a},isNaN:function(a){return a==
null||!s.test(a)||isNaN(a)},type:function(a){return a==null?String(a):K[db.call(a)]||"object"},isPlainObject:function(a){if(!a||d.type(a)!=="object"||a.nodeType||d.isWindow(a))return!1;if(a.constructor&&!xa.call(a,"constructor")&&!xa.call(a.constructor.prototype,"isPrototypeOf"))return!1;for(var n in a);return n===c||xa.call(a,n)},isEmptyObject:function(a){for(var c in a)return!1;return!0},error:function(a){throw a;},parseJSON:function(c){if(typeof c!=="string"||!c)return null;c=d.trim(c);if(p.test(c.replace(u,
"@").replace(A,"]").replace(v,"")))return a.JSON&&a.JSON.parse?a.JSON.parse(c):(new Function("return "+c))();d.error("Invalid JSON: "+c)},parseXML:function(c,n,e){a.DOMParser?(e=new DOMParser,n=e.parseFromString(c,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(c));e=n.documentElement;(!e||!e.nodeName||e.nodeName==="parsererror")&&d.error("Invalid XML: "+c);return n},noop:function(){},globalEval:function(a){if(a&&k.test(a)){var c=o.head||o.getElementsByTagName("head")[0]||
o.documentElement,n=o.createElement("script");d.support.scriptEval()?n.appendChild(o.createTextNode(a)):n.text=a;c.insertBefore(n,c.firstChild);c.removeChild(n)}},nodeName:function(a,c){return a.nodeName&&a.nodeName.toUpperCase()===c.toUpperCase()},each:function(a,n,e){var h,f=0,G=a.length,j=G===c||d.isFunction(a);if(e)if(j)for(h in a){if(n.apply(a[h],e)===!1)break}else for(;f<G;){if(n.apply(a[f++],e)===!1)break}else if(j)for(h in a){if(n.call(a[h],h,a[h])===!1)break}else for(e=a[0];f<G&&n.call(e,
f,e)!==!1;e=a[++f]);return a},trim:H?function(a){return a==null?"":H.call(a)}:function(a){return a==null?"":(a+"").replace(m,"").replace(l,"")},makeArray:function(a,c){var n=c||[];if(a!=null){var e=d.type(a);a.length==null||e==="string"||e==="function"||e==="regexp"||d.isWindow(a)?ya.call(n,a):d.merge(n,a)}return n},inArray:function(a,c){if(c.indexOf)return c.indexOf(a);for(var n=0,d=c.length;n<d;n++)if(c[n]===a)return n;return-1},merge:function(a,n){var d=a.length,e=0;if(typeof n.length==="number")for(var h=
n.length;e<h;e++)a[d++]=n[e];else for(;n[e]!==c;)a[d++]=n[e++];a.length=d;return a},grep:function(a,c,n){for(var d=[],e,n=!!n,h=0,y=a.length;h<y;h++)e=!!c(a[h],h),n!==e&&d.push(a[h]);return d},map:function(a,c,n){for(var d=[],e,h=0,y=a.length;h<y;h++)e=c(a[h],h,n),e!=null&&(d[d.length]=e);return d.concat.apply([],d)},guid:1,proxy:function(a,n,e){arguments.length===2&&(typeof n==="string"?(e=a,a=e[n],n=c):n&&!d.isFunction(n)&&(e=n,n=c));!n&&a&&(n=function(){return a.apply(e||this,arguments)});a&&(n.guid=
a.guid=a.guid||n.guid||d.guid++);return n},access:function(a,n,e,h,f,G){var j=a.length;if(typeof n==="object"){for(var I in n)d.access(a,I,n[I],h,f,e);return a}if(e!==c){h=!G&&h&&d.isFunction(e);for(I=0;I<j;I++)f(a[I],n,h?e.call(a[I],I,f(a[I],n)):e,G);return a}return j?f(a[0],n):c},now:function(){return(new Date).getTime()},_Deferred:function(){var a=[],c,n,e,h={done:function(){if(!e){var n=arguments,f,G,j,I,k;c&&(k=c,c=0);f=0;for(G=n.length;f<G;f++)j=n[f],I=d.type(j),I==="array"?h.done.apply(h,j):
I==="function"&&a.push(j);k&&h.resolveWith(k[0],k[1])}return this},resolveWith:function(d,h){if(!e&&!c&&!n){n=1;try{for(;a[0];)a.shift().apply(d,h)}catch(y){throw y;}finally{c=[d,h],n=0}}return this},resolve:function(){h.resolveWith(d.isFunction(this.promise)?this.promise():this,arguments);return this},isResolved:function(){return n||c},cancel:function(){e=1;a=[];return this}};return h},Deferred:function(a){var c=d._Deferred(),n=d._Deferred(),e;d.extend(c,{then:function(a,n){c.done(a).fail(n);return this},
fail:n.done,rejectWith:n.resolveWith,reject:n.resolve,isRejected:n.isResolved,promise:function(a){if(a==null){if(e)return e;e=a={}}for(var n=wa.length;n--;)a[wa[n]]=c[wa[n]];return a}});c.done(n.cancel).fail(c.cancel);delete c.cancel;a&&a.call(c,c);return c},when:function(a){var c=arguments.length,n=c<=1&&a&&d.isFunction(a.promise)?a:d.Deferred(),e=n.promise();if(c>1){for(var h=ha.call(arguments,0),f=c,j=function(a){return function(c){h[a]=arguments.length>1?ha.call(arguments,0):c;--f||n.resolveWith(e,
h)}};c--;)(a=h[c])&&d.isFunction(a.promise)?a.promise().then(j(c),n.reject):--f;f||n.resolveWith(e,h)}else n!==a&&n.resolve(a);return e},uaMatch:function(a){a=a.toLowerCase();a=z.exec(a)||w.exec(a)||C.exec(a)||a.indexOf("compatible")<0&&x.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(c,n){return new a.fn.init(c,n)}d.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.subclass=this.subclass;a.fn.init=function L(L,n){n&&n instanceof d&&
!(n instanceof a)&&(n=a(n));return d.fn.init.call(this,L,n,c)};a.fn.init.prototype=a.fn;var c=a(o);return a},browser:{}});va=d._Deferred();d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,c){K["[object "+c+"]"]=c.toLowerCase()});D=d.uaMatch(D);D.browser&&(d.browser[D.browser]=!0,d.browser.version=D.version);d.browser.webkit&&(d.browser.safari=!0);B&&(d.inArray=function(a,c){return B.call(c,a)});k.test("\u00a0")&&(m=/^[\s\xA0]+/,l=/[\s\xA0]+$/);f=d(o);o.addEventListener?
ca=function(){o.removeEventListener("DOMContentLoaded",ca,!1);d.ready()}:o.attachEvent&&(ca=function(){o.readyState==="complete"&&(o.detachEvent("onreadystatechange",ca),d.ready())});return d}();(function(){h.support={};var c=o.createElement("div");c.style.display="none";c.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var d=c.getElementsByTagName("*"),e=c.getElementsByTagName("a")[0],f=o.createElement("select"),j=f.appendChild(o.createElement("option")),
k=c.getElementsByTagName("input")[0];if(d&&d.length&&e){h.support={leadingWhitespace:c.firstChild.nodeType===3,tbody:!c.getElementsByTagName("tbody").length,htmlSerialize:!!c.getElementsByTagName("link").length,style:/red/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55$/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:k.value==="on",optSelected:j.selected,deleteExpando:!0,optDisabled:!1,checkClone:!1,noCloneEvent:!0,noCloneChecked:!0,boxModel:null,
inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableHiddenOffsets:!0};k.checked=!0;h.support.noCloneChecked=k.cloneNode(!0).checked;f.disabled=!0;h.support.optDisabled=!j.disabled;var F=null;h.support.scriptEval=function(){if(F===null){var c=o.documentElement,n=o.createElement("script"),d="script"+h.now();try{n.appendChild(o.createTextNode("window."+d+"=1;"))}catch(e){}c.insertBefore(n,c.firstChild);a[d]?(F=!0,delete a[d]):F=!1;c.removeChild(n)}return F};try{delete c.test}catch(m){h.support.deleteExpando=
!1}!c.addEventListener&&c.attachEvent&&c.fireEvent&&(c.attachEvent("onclick",function s(){h.support.noCloneEvent=!1;c.detachEvent("onclick",s)}),c.cloneNode(!0).fireEvent("onclick"));c=o.createElement("div");c.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";d=o.createDocumentFragment();d.appendChild(c.firstChild);h.support.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked;h(function(){var a=o.createElement("div"),c=o.getElementsByTagName("body")[0];if(c){a.style.width=
a.style.paddingLeft="1px";c.appendChild(a);h.boxModel=h.support.boxModel=a.offsetWidth===2;"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,h.support.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",h.support.shrinkWrapBlocks=a.offsetWidth!==2);a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";var n=a.getElementsByTagName("td");h.support.reliableHiddenOffsets=n[0].offsetHeight===0;n[0].style.display=
"";n[1].style.display="none";h.support.reliableHiddenOffsets=h.support.reliableHiddenOffsets&&n[0].offsetHeight===0;a.innerHTML="";c.removeChild(a).style.display="none"}});d=function(a){var c=o.createElement("div"),a="on"+a;if(!c.attachEvent)return!0;var n=a in c;n||(c.setAttribute(a,"return;"),n=typeof c[a]==="function");return n};h.support.submitBubbles=d("submit");h.support.changeBubbles=d("change");c=d=e=null}})();var la=/^(?:\{.*\}|\[.*\])$/;h.extend({cache:{},uuid:0,expando:"jQuery"+(h.fn.jquery+
Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?h.cache[a[h.expando]]:a[h.expando];return!!a&&!T(a)},data:function(a,d,e,f){if(h.acceptData(a)){var j=h.expando,k=typeof d==="string",F=a.nodeType,m=F?h.cache:a,l=F?a[h.expando]:a[h.expando]&&h.expando;if(l&&(!f||!l||m[l][j])||!(k&&e===c)){l||(F?a[h.expando]=l=++h.uuid:l=h.expando);m[l]||(m[l]={},F||(m[l].toJSON=h.noop));if(typeof d==="object"||typeof d===
"function")f?m[l][j]=h.extend(m[l][j],d):m[l]=h.extend(m[l],d);a=m[l];f&&(a[j]||(a[j]={}),a=a[j]);e!==c&&(a[d]=e);if(d==="events"&&!a[d])return a[j]&&a[j].events;return k?a[d]:a}}},removeData:function(c,d,e){if(h.acceptData(c)){var f=h.expando,j=c.nodeType,k=j?h.cache:c,m=j?c[h.expando]:h.expando;if(k[m]){if(d){var l=e?k[m][f]:k[m];if(l&&(delete l[d],!T(l)))return}if(e&&(delete k[m][f],!T(k[m])))return;d=k[m][f];h.support.deleteExpando||k!=a?delete k[m]:k[m]=null;d?(k[m]={},j||(k[m].toJSON=h.noop),
k[m][f]=d):j&&(h.support.deleteExpando?delete c[h.expando]:c.removeAttribute?c.removeAttribute(h.expando):c[h.expando]=null)}}},_data:function(a,c,d){return h.data(a,c,d,!0)},acceptData:function(a){if(a.nodeName){var c=h.noData[a.nodeName.toLowerCase()];if(c)return c!==!0&&a.getAttribute("classid")===c}return!0}});h.fn.extend({data:function(a,d){var e=null;if(typeof a==="undefined"){if(this.length&&(e=h.data(this[0]),this[0].nodeType===1))for(var f=this[0].attributes,j,k=0,m=f.length;k<m;k++)j=f[k].name,
j.indexOf("data-")===0&&(j=j.substr(5),J(this[0],j,e[j]));return e}if(typeof a==="object")return this.each(function(){h.data(this,a)});var l=a.split(".");l[1]=l[1]?"."+l[1]:"";if(d===c)return e=this.triggerHandler("getData"+l[1]+"!",[l[0]]),e===c&&this.length&&(e=h.data(this[0],a),e=J(this[0],a,e)),e===c&&l[1]?this.data(l[0]):e;return this.each(function(){var c=h(this),e=[l[0],d];c.triggerHandler("setData"+l[1]+"!",e);h.data(this,a,d);c.triggerHandler("changeData"+l[1]+"!",e)})},removeData:function(a){return this.each(function(){h.removeData(this,
a)})}});h.extend({queue:function(a,c,d){if(a){var c=(c||"fx")+"queue",e=h._data(a,c);if(!d)return e||[];!e||h.isArray(d)?e=h._data(a,c,h.makeArray(d)):e.push(d);return e}},dequeue:function(a,c){var c=c||"fx",d=h.queue(a,c),e=d.shift();e==="inprogress"&&(e=d.shift());e&&(c==="fx"&&d.unshift("inprogress"),e.call(a,function(){h.dequeue(a,c)}));d.length||h.removeData(a,c+"queue",!0)}});h.fn.extend({queue:function(a,d){typeof a!=="string"&&(d=a,a="fx");if(d===c)return h.queue(this[0],a);return this.each(function(){var c=
h.queue(this,a,d);a==="fx"&&c[0]!=="inprogress"&&h.dequeue(this,a)})},dequeue:function(a){return this.each(function(){h.dequeue(this,a)})},delay:function(a,c){a=h.fx?h.fx.speeds[a]||a:a;c=c||"fx";return this.queue(c,function(){var d=this;setTimeout(function(){h.dequeue(d,c)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var Q=/[\n\t\r]/g,M=/\s+/,aa=/\r/g,R=/^(?:href|src|style)$/,S=/^(?:button|input)$/i,$=/^(?:button|input|object|select|textarea)$/i,ea=/^a(?:rea)?$/i,fa=/^(?:radio|checkbox)$/i;
h.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};h.fn.extend({attr:function(a,c){return h.access(this,a,c,!0,h.attr)},removeAttr:function(a){return this.each(function(){h.attr(this,a,"");this.nodeType===1&&this.removeAttribute(a)})},addClass:function(a){if(h.isFunction(a))return this.each(function(c){var d=h(this);d.addClass(a.call(this,
c,d.attr("class")))});if(a&&typeof a==="string")for(var c=(a||"").split(M),d=0,e=this.length;d<e;d++){var f=this[d];if(f.nodeType===1)if(f.className){for(var j=" "+f.className+" ",k=f.className,m=0,l=c.length;m<l;m++)j.indexOf(" "+c[m]+" ")<0&&(k+=" "+c[m]);f.className=h.trim(k)}else f.className=a}return this},removeClass:function(a){if(h.isFunction(a))return this.each(function(c){var d=h(this);d.removeClass(a.call(this,c,d.attr("class")))});if(a&&typeof a==="string"||a===c)for(var d=(a||"").split(M),
e=0,f=this.length;e<f;e++){var j=this[e];if(j.nodeType===1&&j.className)if(a){for(var k=(" "+j.className+" ").replace(Q," "),m=0,l=d.length;m<l;m++)k=k.replace(" "+d[m]+" "," ");j.className=h.trim(k)}else j.className=""}return this},toggleClass:function(a,c){var d=typeof a,e=typeof c==="boolean";if(h.isFunction(a))return this.each(function(d){var e=h(this);e.toggleClass(a.call(this,d,e.attr("class"),c),c)});return this.each(function(){if(d==="string")for(var f,j=0,k=h(this),m=c,l=a.split(M);f=l[j++];)m=
e?m:!k.hasClass(f),k[m?"addClass":"removeClass"](f);else if(d==="undefined"||d==="boolean")this.className&&h._data(this,"__className__",this.className),this.className=this.className||a===!1?"":h._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",c=0,d=this.length;c<d;c++)if((" "+this[c].className+" ").replace(Q," ").indexOf(a)>-1)return!0;return!1},val:function(a){if(!arguments.length){var d=this[0];if(d){if(h.nodeName(d,"option")){var e=d.attributes.value;return!e||e.specified?
d.value:d.text}if(h.nodeName(d,"select")){var e=d.selectedIndex,f=[],j=d.options,d=d.type==="select-one";if(e<0)return null;for(var k=d?e:0,m=d?e+1:j.length;k<m;k++){var l=j[k];if(l.selected&&(h.support.optDisabled?!l.disabled:l.getAttribute("disabled")===null)&&(!l.parentNode.disabled||!h.nodeName(l.parentNode,"optgroup"))){a=h(l).val();if(d)return a;f.push(a)}}if(d&&!f.length&&j.length)return h(j[e]).val();return f}if(fa.test(d.type)&&!h.support.checkOn)return d.getAttribute("value")===null?"on":
d.value;return(d.value||"").replace(aa,"")}return c}var o=h.isFunction(a);return this.each(function(c){var d=h(this),e=a;if(this.nodeType===1)if(o&&(e=a.call(this,c,d.val())),e==null?e="":typeof e==="number"?e+="":h.isArray(e)&&(e=h.map(e,function(a){return a==null?"":a+""})),h.isArray(e)&&fa.test(this.type))this.checked=h.inArray(d.val(),e)>=0;else if(h.nodeName(this,"select")){var f=h.makeArray(e);h("option",this).each(function(){this.selected=h.inArray(h(this).val(),f)>=0});f.length||(this.selectedIndex=
-1)}else this.value=e})}});h.extend({attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,d,e,f){if(!a||a.nodeType===3||a.nodeType===8||a.nodeType===2)return c;if(f&&d in h.attrFn)return h(a)[d](e);var f=a.nodeType!==1||!h.isXMLDoc(a),j=e!==c,d=f&&h.props[d]||d;if(a.nodeType===1){var k=R.test(d);if((d in a||a[d]!==c)&&f&&!k){j&&(d==="type"&&S.test(a.nodeName)&&a.parentNode&&h.error("type property can't be changed"),e===null?a.nodeType===1&&a.removeAttribute(d):
a[d]=e);if(h.nodeName(a,"form")&&a.getAttributeNode(d))return a.getAttributeNode(d).nodeValue;if(d==="tabIndex")return(d=a.getAttributeNode("tabIndex"))&&d.specified?d.value:$.test(a.nodeName)||ea.test(a.nodeName)&&a.href?0:c;return a[d]}if(!h.support.style&&f&&d==="style")return j&&(a.style.cssText=""+e),a.style.cssText;j&&a.setAttribute(d,""+e);if(!a.attributes[d]&&a.hasAttribute&&!a.hasAttribute(d))return c;a=!h.support.hrefNormalized&&f&&k?a.getAttribute(d,2):a.getAttribute(d);return a===null?
c:a}j&&(a[d]=e);return a[d]}});var P=/\.(.*)$/,N=/^(?:textarea|input|select)$/i,U=/\./g,ga=/ /g,ka=/[^\w\s.|`]/g,w=function(a){return a.replace(ka,"\\$&")};h.event={add:function(d,e,f,j){if(d.nodeType!==3&&d.nodeType!==8){try{h.isWindow(d)&&d!==a&&!d.frameElement&&(d=a)}catch(k){}if(f===!1)f=B;else if(!f)return;var m,l;f.handler&&(m=f,f=m.handler);f.guid||(f.guid=h.guid++);if(l=h._data(d)){var o=l.events,q=l.handle;o||(l.events=o={});q||(l.handle=q=function(){return typeof h!=="undefined"&&!h.event.triggered?
h.event.handle.apply(q.elem,arguments):c});q.elem=d;for(var e=e.split(" "),s,p=0,u;s=e[p++];){l=m?h.extend({},m):{handler:f,data:j};s.indexOf(".")>-1?(u=s.split("."),s=u.shift(),l.namespace=u.slice(0).sort().join(".")):(u=[],l.namespace="");l.type=s;l.guid||(l.guid=f.guid);var A=o[s],v=h.event.special[s]||{};if(!A&&(A=o[s]=[],!v.setup||v.setup.call(d,j,u,q)===!1))d.addEventListener?d.addEventListener(s,q,!1):d.attachEvent&&d.attachEvent("on"+s,q);v.add&&(v.add.call(d,l),l.handler.guid||(l.handler.guid=
f.guid));A.push(l);h.event.global[s]=!0}d=null}}},global:{},remove:function(a,d,e,f){if(a.nodeType!==3&&a.nodeType!==8){e===!1&&(e=B);var j,k,m=0,l,o,s,q,p,u,v=h.hasData(a)&&h._data(a),A=v&&v.events;if(v&&A)if(d&&d.type&&(e=d.handler,d=d.type),!d||typeof d==="string"&&d.charAt(0)===".")for(j in d=d||"",A)h.event.remove(a,j+d);else{for(d=d.split(" ");j=d[m++];)if(q=j,l=j.indexOf(".")<0,o=[],l||(o=j.split("."),j=o.shift(),s=RegExp("(^|\\.)"+h.map(o.slice(0).sort(),w).join("\\.(?:.*\\.)?")+"(\\.|$)")),
p=A[j])if(e){q=h.event.special[j]||{};for(k=f||0;k<p.length;k++)if(u=p[k],e.guid===u.guid){if(l||s.test(u.namespace))f==null&&p.splice(k--,1),q.remove&&q.remove.call(a,u);if(f!=null)break}if(p.length===0||f!=null&&p.length===1)(!q.teardown||q.teardown.call(a,o)===!1)&&h.removeEvent(a,j,v.handle),delete A[j]}else for(k=0;k<p.length;k++)if(u=p[k],l||s.test(u.namespace))h.event.remove(a,q,u.handler,k),p.splice(k--,1);if(h.isEmptyObject(A))(d=v.handle)&&(d.elem=null),delete v.events,delete v.handle,h.isEmptyObject(v)&&
h.removeData(a,c,!0)}}},trigger:function(a,d,e,f){var j=a.type||a;if(!f){a=typeof a==="object"?a[h.expando]?a:h.extend(h.Event(j),a):h.Event(j);j.indexOf("!")>=0&&(a.type=j=j.slice(0,-1),a.exclusive=!0);e||(a.stopPropagation(),h.event.global[j]&&h.each(h.cache,function(){var c=this[h.expando];c&&c.events&&c.events[j]&&h.event.trigger(a,d,c.handle.elem)}));if(!e||e.nodeType===3||e.nodeType===8)return c;a.result=c;a.target=e;d=h.makeArray(d);d.unshift(a)}a.currentTarget=e;(f=h._data(e,"handle"))&&f.apply(e,
d);f=e.parentNode||e.ownerDocument;try{e&&e.nodeName&&h.noData[e.nodeName.toLowerCase()]||e["on"+j]&&e["on"+j].apply(e,d)===!1&&(a.result=!1,a.preventDefault())}catch(k){}if(!a.isPropagationStopped()&&f)h.event.trigger(a,d,f,!0);else if(!a.isDefaultPrevented()){var m,f=a.target,l=j.replace(P,""),o=h.nodeName(f,"a")&&l==="click",s=h.event.special[l]||{};if((!s._default||s._default.call(e,a)===!1)&&!o&&(!f||!f.nodeName||!h.noData[f.nodeName.toLowerCase()])){try{f[l]&&(m=f["on"+l],m&&(f["on"+l]=null),
h.event.triggered=!0,f[l]())}catch(q){}m&&(f["on"+l]=m);h.event.triggered=!1}}},handle:function(d){var e,f,j,k;k=[];var m=h.makeArray(arguments),d=m[0]=h.event.fix(d||a.event);d.currentTarget=this;(e=d.type.indexOf(".")<0&&!d.exclusive)||(f=d.type.split("."),d.type=f.shift(),k=f.slice(0).sort(),j=RegExp("(^|\\.)"+k.join("\\.(?:.*\\.)?")+"(\\.|$)"));d.namespace=d.namespace||k.join(".");k=h._data(this,"events");f=(k||{})[d.type];if(k&&f){f=f.slice(0);k=0;for(var l=f.length;k<l;k++){var o=f[k];if(e||
j.test(o.namespace))if(d.handler=o.handler,d.data=o.data,d.handleObj=o,o=o.handler.apply(this,m),o!==c&&(d.result=o,o===!1&&(d.preventDefault(),d.stopPropagation())),d.isImmediatePropagationStopped())break}}return d.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[h.expando])return a;for(var d=a,a=h.Event(d),e=this.props.length,f;e;)f=this.props[--e],a[f]=d[f];a.target||(a.target=a.srcElement||o);a.target.nodeType===3&&(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(a.pageX==null&&a.clientX!=null)d=o.documentElement,e=o.body,a.pageX=a.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=a.clientY+(d&&d.scrollTop||
e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0);a.which==null&&(a.charCode!=null||a.keyCode!=null)&&(a.which=a.charCode!=null?a.charCode:a.keyCode);!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&a.button!==c&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1E8,proxy:h.proxy,special:{ready:{setup:h.bindReady,teardown:h.noop},live:{add:function(a){h.event.add(this,H(a.origType,a.selector),h.extend({},a,{handler:K,guid:a.handler.guid}))},remove:function(a){h.event.remove(this,
H(a.origType,a.selector),a)}},beforeunload:{setup:function(a,c,d){h.isWindow(this)&&(this.onbeforeunload=d)},teardown:function(a,c){this.onbeforeunload===c&&(this.onbeforeunload=null)}}}};h.removeEvent=o.removeEventListener?function(a,c,d){a.removeEventListener&&a.removeEventListener(c,d,!1)}:function(a,c,d){a.detachEvent&&a.detachEvent("on"+c,d)};h.Event=function(a){if(!this.preventDefault)return new h.Event(a);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||
a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?E:B):this.type=a;this.timeStamp=h.now();this[h.expando]=!0};h.Event.prototype={preventDefault:function(){this.isDefaultPrevented=E;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=E;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=E;this.stopPropagation()},
isDefaultPrevented:B,isPropagationStopped:B,isImmediatePropagationStopped:B};var za=function(a){var c=a.relatedTarget;try{if(c===o||c.parentNode){for(;c&&c!==this;)c=c.parentNode;c!==this&&(a.type=a.data,h.event.handle.apply(this,arguments))}}catch(d){}},Aa=function(a){a.type=a.data;h.event.handle.apply(this,arguments)};h.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,c){h.event.special[a]={setup:function(d){h.event.add(this,c,d&&d.selector?Aa:za,a)},teardown:function(a){h.event.remove(this,
c,a&&a.selector?Aa:za)}}});h.support.submitBubbles||(h.event.special.submit={setup:function(){if(this.nodeName&&this.nodeName.toLowerCase()!=="form")h.event.add(this,"click.specialSubmit",function(a){var c=a.target,d=c.type;(d==="submit"||d==="image")&&h(c).closest("form").length&&x("submit",this,arguments)}),h.event.add(this,"keypress.specialSubmit",function(a){var c=a.target,d=c.type;(d==="text"||d==="password")&&h(c).closest("form").length&&a.keyCode===13&&x("submit",this,arguments)});else return!1},
teardown:function(){h.event.remove(this,".specialSubmit")}});if(!h.support.changeBubbles){var da,Ba=function(a){var c=a.type,d=a.value;c==="radio"||c==="checkbox"?d=a.checked:c==="select-multiple"?d=a.selectedIndex>-1?h.map(a.options,function(a){return a.selected}).join("-"):"":a.nodeName.toLowerCase()==="select"&&(d=a.selectedIndex);return d},ja=function(a,d){var e=a.target,f,j;if(N.test(e.nodeName)&&!e.readOnly&&(f=h._data(e,"_change_data"),j=Ba(e),(a.type!=="focusout"||e.type!=="radio")&&h._data(e,
"_change_data",j),!(f===c||j===f)))if(f!=null||j)a.type="change",a.liveFired=c,h.event.trigger(a,d,e)};h.event.special.change={filters:{focusout:ja,beforedeactivate:ja,click:function(a){var c=a.target,d=c.type;(d==="radio"||d==="checkbox"||c.nodeName.toLowerCase()==="select")&&ja.call(this,a)},keydown:function(a){var c=a.target,d=c.type;(a.keyCode===13&&c.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(d==="checkbox"||d==="radio")||d==="select-multiple")&&ja.call(this,a)},beforeactivate:function(a){a=
a.target;h._data(a,"_change_data",Ba(a))}},setup:function(){if(this.type==="file")return!1;for(var a in da)h.event.add(this,a+".specialChange",da[a]);return N.test(this.nodeName)},teardown:function(){h.event.remove(this,".specialChange");return N.test(this.nodeName)}};da=h.event.special.change.filters;da.focus=da.beforeactivate}o.addEventListener&&h.each({focus:"focusin",blur:"focusout"},function(a,c){function d(a){a=h.event.fix(a);a.type=c;return h.event.handle.call(this,a)}h.event.special[c]={setup:function(){this.addEventListener(a,
d,!0)},teardown:function(){this.removeEventListener(a,d,!0)}}});h.each(["bind","one"],function(a,d){h.fn[d]=function(a,e,f){if(typeof a==="object"){for(var n in a)this[d](n,e,a[n],f);return this}if(h.isFunction(e)||e===!1)f=e,e=c;var j=d==="one"?h.proxy(f,function(a){h(this).unbind(a,j);return f.apply(this,arguments)}):f;if(a==="unload"&&d!=="one")this.one(a,e,f);else{n=0;for(var k=this.length;n<k;n++)h.event.add(this[n],a,j,e)}return this}});h.fn.extend({unbind:function(a,c){if(typeof a!=="object"||
a.preventDefault)for(var d=0,e=this.length;d<e;d++)h.event.remove(this[d],a,c);else for(d in a)this.unbind(d,a[d]);return this},delegate:function(a,c,d,e){return this.live(c,d,e,a)},undelegate:function(a,c,d){return arguments.length===0?this.unbind("live"):this.die(c,null,d,a)},trigger:function(a,c){return this.each(function(){h.event.trigger(a,c,this)})},triggerHandler:function(a,c){if(this[0]){var d=h.Event(a);d.preventDefault();d.stopPropagation();h.event.trigger(d,c,this[0]);return d.result}},
toggle:function(a){for(var c=arguments,d=1;d<c.length;)h.proxy(a,c[d++]);return this.click(h.proxy(a,function(e){var f=(h._data(this,"lastToggle"+a.guid)||0)%d;h._data(this,"lastToggle"+a.guid,f+1);e.preventDefault();return c[f].apply(this,arguments)||!1}))},hover:function(a,c){return this.mouseenter(a).mouseleave(c||a)}});var Ca={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};h.each(["live","die"],function(a,d){h.fn[d]=function(a,e,f,n){var j,k=0,m,l,o=n||this.selector,
n=n?this:h(this.context);if(typeof a==="object"&&!a.preventDefault){for(j in a)n[d](j,e,a[j],o);return this}h.isFunction(e)&&(f=e,e=c);for(a=(a||"").split(" ");(j=a[k++])!=null;)if(m=P.exec(j),l="",m&&(l=m[0],j=j.replace(P,"")),j==="hover")a.push("mouseenter"+l,"mouseleave"+l);else if(m=j,j==="focus"||j==="blur"?(a.push(Ca[j]+l),j+=l):j=(Ca[j]||j)+l,d==="live"){l=0;for(var q=n.length;l<q;l++)h.event.add(n[l],"live."+H(j,o),{data:e,selector:o,handler:f,origType:j,origHandler:f,preType:m})}else n.unbind("live."+
H(j,o),f);return this}});h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,c){h.fn[c]=function(a,d){d==null&&(d=a,a=null);return arguments.length>0?this.bind(c,a,d):this.trigger(c)};h.attrFn&&(h.attrFn[c]=!0)});(function(){function a(c,d,e,f,h,n){for(var h=0,j=f.length;h<j;h++){var k=f[h];if(k){for(var y=!1,k=k[c];k;){if(k.sizcache===
e){y=f[k.sizset];break}if(k.nodeType===1)if(n||(k.sizcache=e,k.sizset=h),typeof d!=="string"){if(k===d){y=!0;break}}else if(s.filter(d,[k]).length>0){y=k;break}k=k[c]}f[h]=y}}}function d(a,c,e,h,f,n){for(var f=0,j=h.length;f<j;f++){var k=h[f];if(k){for(var y=!1,k=k[a];k;){if(k.sizcache===e){y=h[k.sizset];break}k.nodeType===1&&!n&&(k.sizcache=e,k.sizset=f);if(k.nodeName.toLowerCase()===c){y=k;break}k=k[a]}h[f]=y}}}var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
f=0,j=Object.prototype.toString,k=!1,m=!0,l=/\\/g,q=/\W/;[0,0].sort(function(){m=!1;return 0});var s=function(a,c,d,f){var d=d||[],h=c=c||o;if(c.nodeType!==1&&c.nodeType!==9)return[];if(!a||typeof a!=="string")return d;var n,k,y,I,m,l,X=!0,q=s.isXML(c),F=[],A=a;do if(e.exec(""),n=e.exec(A))if(A=n[3],F.push(n[1]),n[2]){I=n[3];break}while(n);if(F.length>1&&u.exec(a))if(F.length===2&&p.relative[F[0]])k=H(F[0]+F[1],c);else for(k=p.relative[F[0]]?[c]:s(F.shift(),c);F.length;)a=F.shift(),p.relative[a]&&
(a+=F.shift()),k=H(a,k);else if(!f&&F.length>1&&c.nodeType===9&&!q&&p.match.ID.test(F[0])&&!p.match.ID.test(F[F.length-1])&&(m=s.find(F.shift(),c,q),c=m.expr?s.filter(m.expr,m.set)[0]:m.set[0]),c){m=f?{expr:F.pop(),set:z(f)}:s.find(F.pop(),F.length===1&&(F[0]==="~"||F[0]==="+")&&c.parentNode?c.parentNode:c,q);k=m.expr?s.filter(m.expr,m.set):m.set;for(F.length>0?y=z(k):X=!1;F.length;)n=l=F.pop(),p.relative[l]?n=F.pop():l="",n==null&&(n=c),p.relative[l](y,n,q)}else y=[];y||(y=k);y||s.error(l||a);if(j.call(y)===
"[object Array]")if(X)if(c&&c.nodeType===1)for(a=0;y[a]!=null;a++)y[a]&&(y[a]===!0||y[a].nodeType===1&&s.contains(c,y[a]))&&d.push(k[a]);else for(a=0;y[a]!=null;a++)y[a]&&y[a].nodeType===1&&d.push(k[a]);else d.push.apply(d,y);else z(y,d);I&&(s(I,h,d,f),s.uniqueSort(d));return d};s.uniqueSort=function(a){if(C&&(k=m,a.sort(C),k))for(var c=1;c<a.length;c++)a[c]===a[c-1]&&a.splice(c--,1);return a};s.matches=function(a,c){return s(a,null,null,c)};s.matchesSelector=function(a,c){return s(c,null,null,[a]).length>
0};s.find=function(a,c,d){var e;if(!a)return[];for(var f=0,h=p.order.length;f<h;f++){var n,j=p.order[f];if(n=p.leftMatch[j].exec(a)){var k=n[1];n.splice(1,1);if(k.substr(k.length-1)!=="\\"&&(n[1]=(n[1]||"").replace(l,""),e=p.find[j](n,c,d),e!=null)){a=a.replace(p.match[j],"");break}}}e||(e=typeof c.getElementsByTagName!=="undefined"?c.getElementsByTagName("*"):[]);return{set:e,expr:a}};s.filter=function(a,d,e,f){for(var h,n,j=a,k=[],y=d,I=d&&d[0]&&s.isXML(d[0]);a&&d.length;){for(var G in p.filter)if((h=
p.leftMatch[G].exec(a))!=null&&h[2]){var m,l,ab=p.filter[G];l=h[1];n=!1;h.splice(1,1);if(l.substr(l.length-1)!=="\\"){y===k&&(k=[]);if(p.preFilter[G])if(h=p.preFilter[G](h,y,e,k,f,I)){if(h===!0)continue}else n=m=!0;if(h)for(var X=0;(l=y[X])!=null;X++)if(l){m=ab(l,h,X,y);var o=f^!!m;e&&m!=null?o?n=!0:y[X]=!1:o&&(k.push(l),n=!0)}if(m!==c){e||(y=k);a=a.replace(p.match[G],"");if(!n)return[];break}}}if(a===j)if(n==null)s.error(a);else break;j=a}return y};s.error=function(a){throw"Syntax error, unrecognized expression: "+
a;};var p=s.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,
PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,c){var d=typeof c==="string",e=d&&!q.test(c),d=d&&!e;e&&(c=c.toLowerCase());for(var e=0,h=a.length,f;e<h;e++)if(f=a[e]){for(;(f=f.previousSibling)&&f.nodeType!==1;);a[e]=d||f&&f.nodeName.toLowerCase()===c?f||!1:f===c}d&&s.filter(c,
a,!0)},">":function(a,c){var d,e=typeof c==="string",f=0,h=a.length;if(e&&!q.test(c))for(c=c.toLowerCase();f<h;f++){if(d=a[f])d=d.parentNode,a[f]=d.nodeName.toLowerCase()===c?d:!1}else{for(;f<h;f++)(d=a[f])&&(a[f]=e?d.parentNode:d.parentNode===c);e&&s.filter(c,a,!0)}},"":function(c,e,h){var j,k=f++,G=a;typeof e==="string"&&!q.test(e)&&(e=e.toLowerCase(),j=e,G=d);G("parentNode",e,k,c,j,h)},"~":function(c,e,h){var j,k=f++,G=a;typeof e==="string"&&!q.test(e)&&(e=e.toLowerCase(),j=e,G=d);G("previousSibling",
e,k,c,j,h)}},find:{ID:function(a,c,d){if(typeof c.getElementById!=="undefined"&&!d)return(a=c.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,c){if(typeof c.getElementsByName!=="undefined"){for(var d=[],e=c.getElementsByName(a[1]),f=0,h=e.length;f<h;f++)e[f].getAttribute("name")===a[1]&&d.push(e[f]);return d.length===0?null:d}},TAG:function(a,c){if(typeof c.getElementsByTagName!=="undefined")return c.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,c,d,e,f,h){a=" "+a[1].replace(l,
"")+" ";if(h)return a;for(var h=0,n;(n=c[h])!=null;h++)n&&(f^(n.className&&(" "+n.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?d||e.push(n):d&&(c[h]=!1));return!1},ID:function(a){return a[1].replace(l,"")},TAG:function(a){return a[1].replace(l,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||s.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var c=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=c[1]+(c[2]||1)-0;
a[3]=c[3]-0}else a[2]&&s.error(a[0]);a[0]=f++;return a},ATTR:function(a,c,d,e,f,h){c=a[1]=a[1].replace(l,"");!h&&p.attrMap[c]&&(a[1]=p.attrMap[c]);a[4]=(a[4]||a[5]||"").replace(l,"");a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,c,d,f,h){if(a[1]==="not")if((e.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=s(a[3],null,null,c);else return a=s.filter(a[3],c,d,1^h),d||f.push.apply(f,a),!1;else if(p.match.POS.test(a[0])||p.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);
return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,c,d){return!!s(d[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.getAttribute("type")},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===
a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,c){return c===0},last:function(a,c,d,e){return c===e.length-1},even:function(a,c){return c%2===
0},odd:function(a,c){return c%2===1},lt:function(a,c,d){return c<d[3]-0},gt:function(a,c,d){return c>d[3]-0},nth:function(a,c,d){return d[3]-0===c},eq:function(a,c,d){return d[3]-0===c}},filter:{PSEUDO:function(a,c,d,e){var f=c[1],h=p.filters[f];if(h)return h(a,d,c,e);if(f==="contains")return(a.textContent||a.innerText||s.getText([a])||"").indexOf(c[3])>=0;if(f==="not"){c=c[3];d=0;for(e=c.length;d<e;d++)if(c[d]===a)return!1;return!0}s.error(f)},CHILD:function(a,c){var d=c[1],e=a;switch(d){case "only":case "first":for(;e=
e.previousSibling;)if(e.nodeType===1)return!1;if(d==="first")return!0;e=a;case "last":for(;e=e.nextSibling;)if(e.nodeType===1)return!1;return!0;case "nth":var d=c[2],f=c[3];if(d===1&&f===0)return!0;var h=c[0],n=a.parentNode;if(n&&(n.sizcache!==h||!a.nodeIndex)){for(var j=0,e=n.firstChild;e;e=e.nextSibling)e.nodeType===1&&(e.nodeIndex=++j);n.sizcache=h}e=a.nodeIndex-f;return d===0?e===0:e%d===0&&e/d>=0}},ID:function(a,c){return a.nodeType===1&&a.getAttribute("id")===c},TAG:function(a,c){return c===
"*"&&a.nodeType===1||a.nodeName.toLowerCase()===c},CLASS:function(a,c){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(c)>-1},ATTR:function(a,c){var d=c[1],d=p.attrHandle[d]?p.attrHandle[d](a):a[d]!=null?a[d]:a.getAttribute(d),e=d+"",f=c[2],h=c[4];return d==null?f==="!=":f==="="?e===h:f==="*="?e.indexOf(h)>=0:f==="~="?(" "+e+" ").indexOf(h)>=0:h?f==="!="?e!==h:f==="^="?e.indexOf(h)===0:f==="$="?e.substr(e.length-h.length)===h:f==="|="?e===h||e.substr(0,h.length+1)===h+"-":!1:e&&d!==
!1},POS:function(a,c,d,e){var f=p.setFilters[c[2]];if(f)return f(a,d,c,e)}}},u=p.match.POS,v=function(a,c){return"\\"+(c-0+1)},A;for(A in p.match)p.match[A]=RegExp(p.match[A].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[A]=RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[A].source.replace(/\\(\d+)/g,v));var z=function(a,c){a=Array.prototype.slice.call(a,0);if(c)return c.push.apply(c,a),c;return a};try{Array.prototype.slice.call(o.documentElement.childNodes,0)}catch(w){z=function(a,c){var d=0,e=c||
[];if(j.call(a)==="[object Array]")Array.prototype.push.apply(e,a);else if(typeof a.length==="number")for(var f=a.length;d<f;d++)e.push(a[d]);else for(;a[d];d++)e.push(a[d]);return e}}var C,x;o.documentElement.compareDocumentPosition?C=function(a,c){if(a===c)return k=!0,0;if(!a.compareDocumentPosition||!c.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(c)&4?-1:1}:(C=function(a,c){var d,e,f=[],h=[];d=a.parentNode;e=c.parentNode;var n=d;if(a===c)return k=
!0,0;if(d===e)return x(a,c);if(!d)return-1;if(!e)return 1;for(;n;)f.unshift(n),n=n.parentNode;for(n=e;n;)h.unshift(n),n=n.parentNode;d=f.length;e=h.length;for(n=0;n<d&&n<e;n++)if(f[n]!==h[n])return x(f[n],h[n]);return n===d?x(a,h[n],-1):x(f[n],c,1)},x=function(a,c,d){if(a===c)return d;for(a=a.nextSibling;a;){if(a===c)return-1;a=a.nextSibling}return 1});s.getText=function(a){for(var c="",d,e=0;a[e];e++)d=a[e],d.nodeType===3||d.nodeType===4?c+=d.nodeValue:d.nodeType!==8&&(c+=s.getText(d.childNodes));
return c};(function(){var a=o.createElement("div"),d="script"+(new Date).getTime(),e=o.documentElement;a.innerHTML="<a name='"+d+"'/>";e.insertBefore(a,e.firstChild);o.getElementById(d)&&(p.find.ID=function(a,d,e){if(typeof d.getElementById!=="undefined"&&!e)return(d=d.getElementById(a[1]))?d.id===a[1]||typeof d.getAttributeNode!=="undefined"&&d.getAttributeNode("id").nodeValue===a[1]?[d]:c:[]},p.filter.ID=function(a,c){var d=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===
1&&d&&d.nodeValue===c});e.removeChild(a);e=a=null})();(function(){var a=o.createElement("div");a.appendChild(o.createComment(""));a.getElementsByTagName("*").length>0&&(p.find.TAG=function(a,c){var d=c.getElementsByTagName(a[1]);if(a[1]==="*"){for(var e=[],f=0;d[f];f++)d[f].nodeType===1&&e.push(d[f]);d=e}return d});a.innerHTML="<a href='#'></a>";a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(p.attrHandle.href=function(a){return a.getAttribute("href",
2)});a=null})();o.querySelectorAll&&function(){var a=s,c=o.createElement("div");c.innerHTML="<p class='TEST'></p>";if(!c.querySelectorAll||c.querySelectorAll(".TEST").length!==0){s=function(c,d,e,f){d=d||o;if(!f&&!s.isXML(d)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(c);if(h&&(d.nodeType===1||d.nodeType===9)){if(h[1])return z(d.getElementsByTagName(c),e);if(h[2]&&p.find.CLASS&&d.getElementsByClassName)return z(d.getElementsByClassName(h[2]),e)}if(d.nodeType===9){if(c==="body"&&d.body)return z([d.body],
e);if(h&&h[3]){var n=d.getElementById(h[3]);if(!n||!n.parentNode)return z([],e);if(n.id===h[3])return z([n],e)}try{return z(d.querySelectorAll(c),e)}catch(j){}}else if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){var h=d,k=(n=d.getAttribute("id"))||"__sizzle__",y=d.parentNode,I=/^\s*[+~]/.test(c);n?k=k.replace(/'/g,"\\$&"):d.setAttribute("id",k);I&&y&&(d=d.parentNode);try{if(!I||y)return z(d.querySelectorAll("[id='"+k+"'] "+c),e)}catch(G){}finally{n||h.removeAttribute("id")}}}return a(c,d,
e,f)};for(var d in a)s[d]=a[d];c=null}}();(function(){var a=o.documentElement,c=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector,d=!1;try{c.call(o.documentElement,"[test!='']:sizzle")}catch(e){d=!0}c&&(s.matchesSelector=function(a,e){e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!s.isXML(a))try{if(d||!p.match.PSEUDO.test(e)&&!/!=/.test(e))return c.call(a,e)}catch(f){}return s(e,null,null,[a]).length>0})})();(function(){var a=o.createElement("div");a.innerHTML=
"<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==0&&(a.lastChild.className="e",a.getElementsByClassName("e").length!==1))p.order.splice(1,0,"CLASS"),p.find.CLASS=function(a,c,d){if(typeof c.getElementsByClassName!=="undefined"&&!d)return c.getElementsByClassName(a[1])},a=null})();o.documentElement.contains?s.contains=function(a,c){return a!==c&&(a.contains?a.contains(c):!0)}:o.documentElement.compareDocumentPosition?s.contains=
function(a,c){return!!(a.compareDocumentPosition(c)&16)}:s.contains=function(){return!1};s.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":!1};var H=function(a,c){for(var d,e=[],f="",h=c.nodeType?[c]:c;d=p.match.PSEUDO.exec(a);)f+=d[0],a=a.replace(p.match.PSEUDO,"");a=p.relative[a]?a+"*":a;d=0;for(var n=h.length;d<n;d++)s(a,h[d],e);return s.filter(f,e)};h.find=s;h.expr=s.selectors;h.expr[":"]=h.expr.filters;h.unique=s.uniqueSort;h.text=s.getText;h.isXMLDoc=
s.isXML;h.contains=s.contains})();var Sa=/Until$/,Ta=/^(?:parents|prevUntil|prevAll)/,Ua=/,/,Va=/^.[^:#\[\.,]*$/,Wa=Array.prototype.slice,Xa=h.expr.match.POS,Ya={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({find:function(a){for(var c=this.pushStack("","find",a),d=0,e=0,f=this.length;e<f;e++)if(d=c.length,h.find(a,this[e],c),e>0)for(var j=d;j<c.length;j++)for(var k=0;k<d;k++)if(c[k]===c[j]){c.splice(j--,1);break}return c},has:function(a){var c=h(a);return this.filter(function(){for(var a=
0,d=c.length;a<d;a++)if(h.contains(this,c[a]))return!0})},not:function(a){return this.pushStack(C(this,a,!1),"not",a)},filter:function(a){return this.pushStack(C(this,a,!0),"filter",a)},is:function(a){return!!a&&h.filter(a,this).length>0},closest:function(a,c){var d=[],e,f,j=this[0];if(h.isArray(a)){var k,m={},l=1;if(j&&a.length){e=0;for(f=a.length;e<f;e++)k=a[e],m[k]||(m[k]=h.expr.match.POS.test(k)?h(k,c||this.context):k);for(;j&&j.ownerDocument&&j!==c;){for(k in m)e=m[k],(e.jquery?e.index(j)>-1:
h(j).is(e))&&d.push({selector:k,elem:j,level:l});j=j.parentNode;l++}}return d}k=Xa.test(a)?h(a,c||this.context):null;e=0;for(f=this.length;e<f;e++)for(j=this[e];j;){if(k?k.index(j)>-1:h.find.matchesSelector(j,a)){d.push(j);break}j=j.parentNode;if(!j||!j.ownerDocument||j===c)break}d=d.length>1?h.unique(d):d;return this.pushStack(d,"closest",a)},index:function(a){if(!a||typeof a==="string")return h.inArray(this[0],a?h(a):this.parent().children());return h.inArray(a.jquery?a[0]:a,this)},add:function(a,
c){var d=typeof a==="string"?h(a,c):h.makeArray(a),e=h.merge(this.get(),d);return this.pushStack(!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11||!e[0]||!e[0].parentNode||e[0].parentNode.nodeType===11?e:h.unique(e))},andSelf:function(){return this.add(this.prevObject)}});h.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return h.dir(a,"parentNode")},parentsUntil:function(a,c,d){return h.dir(a,"parentNode",d)},next:function(a){return h.nth(a,2,"nextSibling")},
prev:function(a){return h.nth(a,2,"previousSibling")},nextAll:function(a){return h.dir(a,"nextSibling")},prevAll:function(a){return h.dir(a,"previousSibling")},nextUntil:function(a,c,d){return h.dir(a,"nextSibling",d)},prevUntil:function(a,c,d){return h.dir(a,"previousSibling",d)},siblings:function(a){return h.sibling(a.parentNode.firstChild,a)},children:function(a){return h.sibling(a.firstChild)},contents:function(a){return h.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:h.makeArray(a.childNodes)}},
function(a,c){h.fn[a]=function(d,e){var f=h.map(this,c,d),j=Wa.call(arguments);Sa.test(a)||(e=d);e&&typeof e==="string"&&(f=h.filter(e,f));f=this.length>1&&!Ya[a]?h.unique(f):f;(this.length>1||Ua.test(e))&&Ta.test(a)&&(f=f.reverse());return this.pushStack(f,a,j.join(","))}});h.extend({filter:function(a,c,d){d&&(a=":not("+a+")");return c.length===1?h.find.matchesSelector(c[0],a)?[c[0]]:[]:h.find.matches(a,c)},dir:function(a,d,e){for(var f=[],a=a[d];a&&a.nodeType!==9&&(e===c||a.nodeType!==1||!h(a).is(e));)a.nodeType===
1&&f.push(a),a=a[d];return f},nth:function(a,c,d){for(var c=c||1,e=0;a;a=a[d])if(a.nodeType===1&&++e===c)break;return a},sibling:function(a,c){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==c&&d.push(a);return d}});var Za=/ jQuery\d+="(?:\d+|null)"/g,qa=/^\s+/,Ga=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ha=/<([\w:]+)/,eb=/<tbody/i,fb=/<|&#?\w+;/,Ia=/<(?:script|object|embed|option|style)/i,Ja=/checked\s*(?:[^=]|=\s*.checked.)/i,O={option:[1,"<select multiple='multiple'>",
"</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};O.optgroup=O.option;O.tbody=O.tfoot=O.colgroup=O.caption=O.thead;O.th=O.td;h.support.htmlSerialize||(O._default=[1,"div<div>","</div>"]);h.fn.extend({text:function(a){if(h.isFunction(a))return this.each(function(c){var d=
h(this);d.text(a.call(this,c,d.text()))});if(typeof a!=="object"&&a!==c)return this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(a));return h.text(this)},wrapAll:function(a){if(h.isFunction(a))return this.each(function(c){h(this).wrapAll(a.call(this,c))});if(this[0]){var c=h(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},
wrapInner:function(a){if(h.isFunction(a))return this.each(function(c){h(this).wrapInner(a.call(this,c))});return this.each(function(){var c=h(this),d=c.contents();d.length?d.wrapAll(a):c.append(a)})},wrap:function(a){return this.each(function(){h(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,
!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=h(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,
"after",arguments);a.push.apply(a,h(arguments[0]).toArray());return a}},remove:function(a,c){for(var d=0,e;(e=this[d])!=null;d++)if(!a||h.filter(a,[e]).length)!c&&e.nodeType===1&&(h.cleanData(e.getElementsByTagName("*")),h.cleanData([e])),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var a=0,c;(c=this[a])!=null;a++)for(c.nodeType===1&&h.cleanData(c.getElementsByTagName("*"));c.firstChild;)c.removeChild(c.firstChild);return this},clone:function(a,c){a=a==null?!1:a;c=c==
null?a:c;return this.map(function(){return h.clone(this,a,c)})},html:function(a){if(a===c)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Za,""):null;if(typeof a!=="string"||Ia.test(a)||!h.support.leadingWhitespace&&qa.test(a)||O[(Ha.exec(a)||["",""])[1].toLowerCase()])h.isFunction(a)?this.each(function(c){var d=h(this);d.html(a.call(this,c,d.html()))}):this.empty().append(a);else{a=a.replace(Ga,"<$1></$2>");try{for(var d=0,e=this.length;d<e;d++)this[d].nodeType===1&&(h.cleanData(this[d].getElementsByTagName("*")),
this[d].innerHTML=a)}catch(f){this.empty().append(a)}}return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(h.isFunction(a))return this.each(function(c){var d=h(this),e=d.html();d.replaceWith(a.call(this,c,e))});typeof a!=="string"&&(a=h(a).detach());return this.each(function(){var c=this.nextSibling,d=this.parentNode;h(this).remove();c?h(c).before(a):h(d).append(a)})}return this.pushStack(h(h.isFunction(a)?a():a),"replaceWith",a)},detach:function(a){return this.remove(a,!0)},domManip:function(a,
d,e){var f,j,k,m=a[0],l=[];if(!h.support.checkClone&&arguments.length===3&&typeof m==="string"&&Ja.test(m))return this.each(function(){h(this).domManip(a,d,e,!0)});if(h.isFunction(m))return this.each(function(f){var j=h(this);a[0]=m.call(this,f,d?j.html():c);j.domManip(a,d,e)});if(this[0]){k=m&&m.parentNode;h.support.parentNode&&k&&k.nodeType===11&&k.childNodes.length===this.length?f={fragment:k}:f=h.buildFragment(a,this,l);k=f.fragment;k.childNodes.length===1?j=k=k.firstChild:j=k.firstChild;if(j){d=
d&&h.nodeName(j,"tr");j=0;for(var o=this.length,p=o-1;j<o;j++)e.call(d?h.nodeName(this[j],"table")?this[j].getElementsByTagName("tbody")[0]||this[j].appendChild(this[j].ownerDocument.createElement("tbody")):this[j]:this[j],f.cacheable||o>1&&j<p?h.clone(k,!0,!0):k)}l.length&&h.each(l,v)}return this}});h.buildFragment=function(a,c,d){var e,f,j,c=c&&c[0]?c[0].ownerDocument||c[0]:o;a.length===1&&typeof a[0]==="string"&&a[0].length<512&&c===o&&a[0].charAt(0)==="<"&&!Ia.test(a[0])&&(h.support.checkClone||
!Ja.test(a[0]))&&(f=!0,j=h.fragments[a[0]],j&&j!==1&&(e=j));e||(e=c.createDocumentFragment(),h.clean(a,c,e,d));f&&(h.fragments[a[0]]=j?e:1);return{fragment:e,cacheable:f}};h.fragments={};h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,c){h.fn[a]=function(d){var e=[],d=h(d),f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&d.length===1)return d[c](this[0]),this;for(var f=0,j=d.length;f<
j;f++){var k=(f>0?this.clone(!0):this).get();h(d[f])[c](k);e=e.concat(k)}return this.pushStack(e,a,d.selector)}});h.extend({clone:function(a,c,d){var e=a.cloneNode(!0),f,j,k;if((!h.support.noCloneEvent||!h.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!h.isXMLDoc(a)){z(a,e);f=u(a);j=u(e);for(k=0;f[k];++k)z(f[k],j[k])}if(c&&(A(a,e),d)){f=u(a);j=u(e);for(k=0;f[k];++k)A(f[k],j[k])}return e},clean:function(a,c,d,e){c=c||o;typeof c.createElement==="undefined"&&(c=c.ownerDocument||c[0]&&c[0].ownerDocument||
o);for(var f=[],j=0,k;(k=a[j])!=null;j++)if(typeof k==="number"&&(k+=""),k){if(typeof k!=="string"||fb.test(k)){if(typeof k==="string"){k=k.replace(Ga,"<$1></$2>");var m=(Ha.exec(k)||["",""])[1].toLowerCase(),l=O[m]||O._default,p=l[0],q=c.createElement("div");for(q.innerHTML=l[1]+k+l[2];p--;)q=q.lastChild;if(!h.support.tbody){p=eb.test(k);m=m==="table"&&!p?q.firstChild&&q.firstChild.childNodes:l[1]==="<table>"&&!p?q.childNodes:[];for(l=m.length-1;l>=0;--l)h.nodeName(m[l],"tbody")&&!m[l].childNodes.length&&
m[l].parentNode.removeChild(m[l])}!h.support.leadingWhitespace&&qa.test(k)&&q.insertBefore(c.createTextNode(qa.exec(k)[0]),q.firstChild);k=q.childNodes}}else k=c.createTextNode(k);k.nodeType?f.push(k):f=h.merge(f,k)}if(d)for(j=0;f[j];j++)!e||!h.nodeName(f[j],"script")||f[j].type&&f[j].type.toLowerCase()!=="text/javascript"?(f[j].nodeType===1&&f.splice.apply(f,[j+1,0].concat(h.makeArray(f[j].getElementsByTagName("script")))),d.appendChild(f[j])):e.push(f[j].parentNode?f[j].parentNode.removeChild(f[j]):
f[j]);return f},cleanData:function(a){for(var c,d,e=h.cache,f=h.expando,j=h.event.special,k=h.support.deleteExpando,m=0,l;(l=a[m])!=null;m++)if(!l.nodeName||!h.noData[l.nodeName.toLowerCase()])if(d=l[h.expando]){if((c=e[d]&&e[d][f])&&c.events){for(var p in c.events)j[p]?h.event.remove(l,p):h.removeEvent(l,p,c.handle);c.handle&&(c.handle.elem=null)}k?delete l[h.expando]:l.removeAttribute&&l.removeAttribute(h.expando);delete e[d]}}});var Ka=/alpha\([^)]*\)/i,gb=/opacity=([^)]*)/,hb=/-([a-z])/ig,ib=
/([A-Z])/g,La=/^-?\d+(?:px)?$/i,jb=/^-?\d/,kb={position:"absolute",visibility:"hidden",display:"block"},bb=["Left","Right"],cb=["Top","Bottom"],ia,V,na,lb=function(a,c){return c.toUpperCase()};h.fn.css=function(a,d){if(arguments.length===2&&d===c)return this;return h.access(this,a,d,!0,function(a,d,e){return e!==c?h.style(a,d,e):h.css(a,d)})};h.extend({cssHooks:{opacity:{get:function(a,c){if(c){var d=ia(a,"opacity","opacity");return d===""?"1":d}return a.style.opacity}}},cssNumber:{zIndex:!0,fontWeight:!0,
opacity:!0,zoom:!0,lineHeight:!0},cssProps:{"float":h.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,d,e,f){if(a&&a.nodeType!==3&&a.nodeType!==8&&a.style){var j,k=h.camelCase(d),m=a.style,l=h.cssHooks[k],d=h.cssProps[k]||k;if(e===c){if(l&&"get"in l&&(j=l.get(a,!1,f))!==c)return j;return m[d]}if(!(typeof e==="number"&&isNaN(e)||e==null))if(typeof e==="number"&&!h.cssNumber[k]&&(e+="px"),!l||!("set"in l)||(e=l.set(a,e))!==c)try{m[d]=e}catch(p){}}},css:function(a,d,e){var f,j=h.camelCase(d),
k=h.cssHooks[j],d=h.cssProps[j]||j;if(k&&"get"in k&&(f=k.get(a,!0,e))!==c)return f;if(ia)return ia(a,d,j)},swap:function(a,c,d){var e={},f;for(f in c)e[f]=a.style[f],a.style[f]=c[f];d.call(a);for(f in c)a.style[f]=e[f]},camelCase:function(a){return a.replace(hb,lb)}});h.curCSS=h.css;h.each(["height","width"],function(a,c){h.cssHooks[c]={get:function(a,d,e){var f;if(d){a.offsetWidth!==0?f=q(a,c,e):h.swap(a,kb,function(){f=q(a,c,e)});if(f<=0&&(f=ia(a,c,c),f==="0px"&&na&&(f=na(a,c,c)),f!=null))return f===
""||f==="auto"?"0px":f;if(f<0||f==null)return f=a.style[c],f===""||f==="auto"?"0px":f;return typeof f==="string"?f:f+"px"}},set:function(a,c){if(!La.test(c))return c;c=parseFloat(c);if(c>=0)return c+"px"}}});h.support.opacity||(h.cssHooks.opacity={get:function(a,c){return gb.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":c?"1":""},set:function(a,c){var d=a.style;d.zoom=1;var e=h.isNaN(c)?"":"alpha(opacity="+c*100+")",f=d.filter||"";d.filter=Ka.test(f)?
f.replace(Ka,e):d.filter+" "+e}});o.defaultView&&o.defaultView.getComputedStyle&&(V=function(a,d,e){var f,e=e.replace(ib,"-$1").toLowerCase();if(!(d=a.ownerDocument.defaultView))return c;if(d=d.getComputedStyle(a,null))f=d.getPropertyValue(e),f===""&&!h.contains(a.ownerDocument.documentElement,a)&&(f=h.style(a,e));return f});o.documentElement.currentStyle&&(na=function(a,c){var d,e=a.currentStyle&&a.currentStyle[c],f=a.runtimeStyle&&a.runtimeStyle[c],h=a.style;!La.test(e)&&jb.test(e)&&(d=h.left,f&&
(a.runtimeStyle.left=a.currentStyle.left),h.left=c==="fontSize"?"1em":e||0,e=h.pixelLeft+"px",h.left=d,f&&(a.runtimeStyle.left=f));return e===""?"auto":e});ia=V||na;h.expr&&h.expr.filters&&(h.expr.filters.hidden=function(a){var c=a.offsetHeight;return a.offsetWidth===0&&c===0||!h.support.reliableHiddenOffsets&&(a.style.display||h.css(a,"display"))==="none"},h.expr.filters.visible=function(a){return!h.expr.filters.hidden(a)});var mb=/%20/g,$a=/\[\]$/,Ma=/\r?\n/g,nb=/#.*$/,ob=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
pb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,Na=/\?/,sb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,tb=/^(?:select|textarea)/i,Ea=/\s+/,ub=/([?&])_=[^&]*/,vb=/(^|\-)([a-z])/g,wb=function(a,c,d){return c+d.toUpperCase()},Oa=/^([\w\+\.\-]+:)\/\/([^\/?#:]*)(?::(\d+))?/,Pa=h.fn.load,sa={},Qa={},Y,Z;try{Y=o.location.href}catch(Cb){Y=o.createElement("a"),Y.href="",Y=Y.href}Z=Oa.exec(Y.toLowerCase());h.fn.extend({load:function(a,
d,e){if(typeof a!=="string"&&Pa)return Pa.apply(this,arguments);if(!this.length)return this;var f=a.indexOf(" ");if(f>=0)var j=a.slice(f,a.length),a=a.slice(0,f);f="GET";d&&(h.isFunction(d)?(e=d,d=c):typeof d==="object"&&(d=h.param(d,h.ajaxSettings.traditional),f="POST"));var k=this;h.ajax({url:a,type:f,dataType:"html",data:d,complete:function(a,c,d){d=a.responseText;a.isResolved()&&(a.done(function(a){d=a}),k.html(j?h("<div>").append(d.replace(sb,"")).find(j):d));e&&k.each(e,[d,c,a])}});return this},
serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?h.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||tb.test(this.nodeName)||pb.test(this.type))}).map(function(a,c){var d=h(this).val();return d==null?null:h.isArray(d)?h.map(d,function(a){return{name:c.name,value:a.replace(Ma,"\r\n")}}):{name:c.name,value:d.replace(Ma,"\r\n")}}).get()}});h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,c){h.fn[c]=function(a){return this.bind(c,a)}});h.each(["get","post"],function(a,d){h[d]=function(a,e,f,j){h.isFunction(e)&&(j=j||f,f=e,e=c);return h.ajax({type:d,url:a,data:e,success:f,dataType:j})}});h.extend({getScript:function(a,d){return h.get(a,c,d,"script")},getJSON:function(a,c,d){return h.get(a,c,d,"json")},ajaxSetup:function(a,c){c?h.extend(!0,a,h.ajaxSettings,c):(c=a,a=h.extend(!0,h.ajaxSettings,c));for(var d in{context:1,url:1})d in c?a[d]=c[d]:d in h.ajaxSettings&&(a[d]=h.ajaxSettings[d]);
return a},ajaxSettings:{url:Y,isLocal:/(?:^file|^widget|\-extension):$/.test(Z[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML}},ajaxPrefilter:p(sa),
ajaxTransport:p(Qa),ajax:function(a,d){function e(a,d,n,l){if(x!==2){x=2;w&&clearTimeout(w);z=c;A=l||"";D.readyState=a?4:0;var y,G,u;if(n){var l=f,v=D,C=l.contents,B=l.dataTypes,K=l.responseFields,E,L,J,O;for(L in K)L in n&&(v[K[L]]=n[L]);for(;B[0]==="*";)B.shift(),E===c&&(E=l.mimeType||v.getResponseHeader("content-type"));if(E)for(L in C)if(C[L]&&C[L].test(E)){B.unshift(L);break}if(B[0]in n)J=B[0];else{for(L in n){if(!B[0]||l.converters[L+" "+B[0]]){J=L;break}O||(O=L)}J=J||O}J?(J!==B[0]&&B.unshift(J),
n=n[J]):n=void 0}else n=c;if(a>=200&&a<300||a===304){if(f.ifModified){if(E=D.getResponseHeader("Last-Modified"))h.lastModified[q]=E;if(E=D.getResponseHeader("Etag"))h.etag[q]=E}if(a===304)d="notmodified",y=!0;else try{E=f;E.dataFilter&&(n=E.dataFilter(n,E.dataType));var P=E.dataTypes;L={};var M,ma,U=P.length,T,N=P[0],R,ua,W,Q,S;for(M=1;M<U;M++){if(M===1)for(ma in E.converters)typeof ma==="string"&&(L[ma.toLowerCase()]=E.converters[ma]);R=N;N=P[M];if(N==="*")N=R;else if(R!=="*"&&R!==N){ua=R+" "+N;
W=L[ua]||L["* "+N];if(!W)for(Q in S=c,L)if(T=Q.split(" "),T[0]===R||T[0]==="*")if(S=L[T[1]+" "+N]){Q=L[Q];Q===!0?W=S:S===!0&&(W=Q);break}!W&&!S&&h.error("No conversion from "+ua.replace(" "," to "));W!==!0&&(n=W?W(n):S(Q(n)))}}G=n;d="success";y=!0}catch(V){d="parsererror",u=V}}else if(u=d,!d||a)d="error",a<0&&(a=0);D.status=a;D.statusText=d;y?m.resolveWith(j,[G,d,D]):m.rejectWith(j,[D,d,u]);D.statusCode(o);o=c;H&&k.trigger("ajax"+(y?"Success":"Error"),[D,f,y?G:u]);p.resolveWith(j,[D,d]);H&&(k.trigger("ajaxComplete",
[D,f]),--h.active||h.event.trigger("ajaxStop"))}}typeof a==="object"&&(d=a,a=c);var d=d||{},f=h.ajaxSetup({},d),j=f.context||f,k=j!==f&&(j.nodeType||j instanceof h)?h(j):h.event,m=h.Deferred(),p=h._Deferred(),o=f.statusCode||{},q,u={},A,v,z,w,C,x=0,H,B,D={readyState:0,setRequestHeader:function(a,c){x||(u[a.toLowerCase().replace(vb,wb)]=c);return this},getAllResponseHeaders:function(){return x===2?A:null},getResponseHeader:function(a){var d;if(x===2){if(!v)for(v={};d=ob.exec(A);)v[d[1].toLowerCase()]=
d[2];d=v[a.toLowerCase()]}return d===c?null:d},overrideMimeType:function(a){x||(f.mimeType=a);return this},abort:function(a){a=a||"abort";z&&z.abort(a);e(0,a);return this}};m.promise(D);D.success=D.done;D.error=D.fail;D.complete=p.done;D.statusCode=function(a){if(a){var c;if(x<2)for(c in a)o[c]=[o[c],a[c]];else c=a[D.status],D.then(c,c)}return this};f.url=((a||f.url)+"").replace(nb,"").replace(rb,Z[1]+"//");f.dataTypes=h.trim(f.dataType||"*").toLowerCase().split(Ea);f.crossDomain||(C=Oa.exec(f.url.toLowerCase()),
f.crossDomain=C&&(C[1]!=Z[1]||C[2]!=Z[2]||(C[3]||(C[1]==="http:"?80:443))!=(Z[3]||(Z[1]==="http:"?80:443))));f.data&&f.processData&&typeof f.data!=="string"&&(f.data=h.param(f.data,f.traditional));l(sa,f,d,D);if(x===2)return!1;H=f.global;f.type=f.type.toUpperCase();f.hasContent=!qb.test(f.type);H&&h.active++===0&&h.event.trigger("ajaxStart");if(!f.hasContent&&(f.data&&(f.url+=(Na.test(f.url)?"&":"?")+f.data),q=f.url,f.cache===!1)){C=h.now();var K=f.url.replace(ub,"$1_="+C);f.url=K+(K===f.url?(Na.test(f.url)?
"&":"?")+"_="+C:"")}if(f.data&&f.hasContent&&f.contentType!==!1||d.contentType)u["Content-Type"]=f.contentType;f.ifModified&&(q=q||f.url,h.lastModified[q]&&(u["If-Modified-Since"]=h.lastModified[q]),h.etag[q]&&(u["If-None-Match"]=h.etag[q]));u.Accept=f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+(f.dataTypes[0]!=="*"?", */*; q=0.01":""):f.accepts["*"];for(B in f.headers)D.setRequestHeader(B,f.headers[B]);if(f.beforeSend&&(f.beforeSend.call(j,D,f)===!1||x===2))return D.abort(),
!1;for(B in{success:1,error:1,complete:1})D[B](f[B]);if(z=l(Qa,f,d,D)){D.readyState=1;H&&k.trigger("ajaxSend",[D,f]);f.async&&f.timeout>0&&(w=setTimeout(function(){D.abort("timeout")},f.timeout));try{x=1,z.send(u,e)}catch(E){status<2?e(-1,E):h.error(E)}}else e(-1,"No Transport");return D},param:function(a,d){var e=[],f=function(a,c){c=h.isFunction(c)?c():c;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(c)};d===c&&(d=h.ajaxSettings.traditional);if(h.isArray(a)||a.jquery&&!h.isPlainObject(a))h.each(a,
function(){f(this.name,this.value)});else for(var j in a)m(j,a[j],d,f);return e.join("&").replace(mb,"+")}});h.extend({active:0,lastModified:{},etag:{}});var xb=h.now(),oa=/(\=)\?(&|$)|()\?\?()/i;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return h.expando+"_"+xb++}});h.ajaxPrefilter("json jsonp",function(c,d,e){var f=typeof c.data==="string";if(c.dataTypes[0]==="jsonp"||d.jsonpCallback||d.jsonp!=null||c.jsonp!==!1&&(oa.test(c.url)||f&&oa.test(c.data))){var j,k=c.jsonpCallback=h.isFunction(c.jsonpCallback)?
c.jsonpCallback():c.jsonpCallback,m=a[k],d=c.url,l=c.data,p="$1"+k+"$2",o=function(){a[k]=m;j&&h.isFunction(m)&&a[k](j[0])};c.jsonp!==!1&&(d=d.replace(oa,p),c.url===d&&(f&&(l=l.replace(oa,p)),c.data===l&&(d+=(/\?/.test(d)?"&":"?")+c.jsonp+"="+k)));c.url=d;c.data=l;a[k]=function(a){j=[a]};e.then(o,o);c.converters["script json"]=function(){j||h.error(k+" was not called");return j[0]};c.dataTypes[0]="json";return"script"}});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){h.globalEval(a);return a}}});h.ajaxPrefilter("script",function(a){a.cache===c&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});h.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=o.head||o.getElementsByTagName("head")[0]||o.documentElement;return{send:function(f,h){d=o.createElement("script");d.async="async";a.scriptCharset&&(d.charset=a.scriptCharset);d.src=a.url;d.onload=d.onreadystatechange=function(a,
f){if(!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=c,f||h(200,"success")};e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var yb=h.now(),ba;h.ajaxSettings.xhr=a.ActiveXObject?function(){var c;if(!(c=!this.isLocal&&j()))a:{try{c=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}c=void 0}return c}:j;V=h.ajaxSettings.xhr();h.support.ajax=!!V;h.support.cors=V&&"withCredentials"in V;V=c;h.support.ajax&&
h.ajaxTransport(function(a){if(!a.crossDomain||h.support.cors){var d;return{send:function(e,f){var j=a.xhr(),m,l;a.username?j.open(a.type,a.url,a.async,a.username,a.password):j.open(a.type,a.url,a.async);if(a.xhrFields)for(l in a.xhrFields)j[l]=a.xhrFields[l];a.mimeType&&j.overrideMimeType&&j.overrideMimeType(a.mimeType);(!a.crossDomain||a.hasContent)&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(l in e)j.setRequestHeader(l,e[l])}catch(p){}j.send(a.hasContent&&a.data||
null);d=function(e,k){var l,p,o,q,G;try{if(d&&(k||j.readyState===4))if(d=c,m&&(j.onreadystatechange=h.noop,delete ba[m]),k)j.readyState!==4&&j.abort();else{l=j.status;o=j.getAllResponseHeaders();q={};(G=j.responseXML)&&G.documentElement&&(q.xml=G);q.text=j.responseText;try{p=j.statusText}catch(u){p=""}l||!a.isLocal||a.crossDomain?l===1223&&(l=204):l=q.text?200:404}}catch(v){k||f(-1,v)}q&&f(l,p,q,o)};a.async&&j.readyState!==4?(ba||(ba={},k()),m=yb++,j.onreadystatechange=ba[m]=d):d()},abort:function(){d&&
d(0,1)}}}});var ra={},zb=/^(?:toggle|show|hide)$/,Ab=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,pa,Da=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];h.fn.extend({show:function(a,c,d){if(a||a===0)return this.animate(f("show",3),a,c,d);for(var d=0,j=this.length;d<j;d++)a=this[d],c=a.style.display,!h._data(a,"olddisplay")&&c==="none"&&(c=a.style.display=""),c===""&&h.css(a,"display")==="none"&&h._data(a,"olddisplay",
e(a.nodeName));for(d=0;d<j;d++)if(a=this[d],c=a.style.display,c===""||c==="none")a.style.display=h._data(a,"olddisplay")||"";return this},hide:function(a,c,d){if(a||a===0)return this.animate(f("hide",3),a,c,d);a=0;for(c=this.length;a<c;a++)d=h.css(this[a],"display"),d!=="none"&&!h._data(this[a],"olddisplay")&&h._data(this[a],"olddisplay",d);for(a=0;a<c;a++)this[a].style.display="none";return this},_toggle:h.fn.toggle,toggle:function(a,c,d){var e=typeof a==="boolean";h.isFunction(a)&&h.isFunction(c)?
this._toggle.apply(this,arguments):a==null||e?this.each(function(){var c=e?a:h(this).is(":hidden");h(this)[c?"show":"hide"]()}):this.animate(f("toggle",3),a,c,d);return this},fadeTo:function(a,c,d,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:c},a,d,e)},animate:function(a,c,d,f){var j=h.speed(c,d,f);if(h.isEmptyObject(a))return this.each(j.complete);return this[j.queue===!1?"each":"queue"](function(){var c=h.extend({},j),d,f=this.nodeType===1,k=f&&h(this).is(":hidden"),
m=this;for(d in a){var l=h.camelCase(d);d!==l&&(a[l]=a[d],delete a[d],d=l);if(a[d]==="hide"&&k||a[d]==="show"&&!k)return c.complete.call(this);if(f&&(d==="height"||d==="width"))if(c.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],h.css(this,"display")==="inline"&&h.css(this,"float")==="none")h.support.inlineBlockNeedsLayout?e(this.nodeName)==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1):this.style.display="inline-block";h.isArray(a[d])&&
((c.specialEasing=c.specialEasing||{})[d]=a[d][1],a[d]=a[d][0])}c.overflow!=null&&(this.style.overflow="hidden");c.curAnim=h.extend({},a);h.each(a,function(d,e){var f=new h.fx(m,c,d);if(zb.test(e))f[e==="toggle"?k?"show":"hide":e](a);else{var j=Ab.exec(e),l=f.cur();if(j){var p=parseFloat(j[2]),o=j[3]||(h.cssNumber[d]?"":"px");o!=="px"&&(h.style(m,d,(p||1)+o),l*=(p||1)/f.cur(),h.style(m,d,l+o));j[1]&&(p=(j[1]==="-="?-1:1)*p+l);f.custom(l,p,o)}else f.custom(l,e,"")}});return!0})},stop:function(a,c){var d=
h.timers;a&&this.queue([]);this.each(function(){for(var a=d.length-1;a>=0;a--)d[a].elem===this&&(c&&d[a](!0),d.splice(a,1))});c||this.dequeue();return this}});h.each({slideDown:f("show",1),slideUp:f("hide",1),slideToggle:f("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,c){h.fn[a]=function(a,d,e){return this.animate(c,a,d,e)}});h.extend({speed:function(a,c,d){var e=a&&typeof a==="object"?h.extend({},a):{complete:d||!d&&c||h.isFunction(a)&&a,duration:a,
easing:d&&c||c&&!h.isFunction(c)&&c};e.duration=h.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in h.fx.speeds?h.fx.speeds[e.duration]:h.fx.speeds._default;e.old=e.complete;e.complete=function(){e.queue!==!1&&h(this).dequeue();h.isFunction(e.old)&&e.old.call(this)};return e},easing:{linear:function(a,c,d,e){return d+e*a},swing:function(a,c,d,e){return(-Math.cos(a*Math.PI)/2+0.5)*e+d}},timers:[],fx:function(a,c,d){this.options=c;this.elem=a;this.prop=d;c.orig||(c.orig={})}});h.fx.prototype=
{update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(h.fx.step[this.prop]||h.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,c=h.css(this.elem,this.prop);return isNaN(a=parseFloat(c))?!c||c==="auto"?0:c:a},custom:function(a,c,d){function e(a){return f.step(a)}var f=this,j=h.fx;this.startTime=h.now();this.start=a;this.end=c;this.unit=d||this.unit||(h.cssNumber[this.prop]?
"":"px");this.now=this.start;this.pos=this.state=0;e.elem=this.elem;e()&&h.timers.push(e)&&!pa&&(pa=setInterval(j.tick,j.interval))},show:function(){this.options.orig[this.prop]=h.style(this.elem,this.prop);this.options.show=!0;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());h(this.elem).show()},hide:function(){this.options.orig[this.prop]=h.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var c=h.now(),d=!0;if(a||c>=this.options.duration+
this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=!0;for(var e in this.options.curAnim)this.options.curAnim[e]!==!0&&(d=!1);if(d){if(this.options.overflow!=null&&!h.support.shrinkWrapBlocks){var f=this.elem,j=this.options;h.each(["","X","Y"],function(a,c){f.style["overflow"+c]=j.overflow[a]})}this.options.hide&&h(this.elem).hide();if(this.options.hide||this.options.show)for(var k in this.options.curAnim)h.style(this.elem,k,this.options.orig[k]);
this.options.complete.call(this.elem)}return!1}a=c-this.startTime;this.state=a/this.options.duration;c=this.options.easing||(h.easing.swing?"swing":"linear");this.pos=h.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||c](this.state,a,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update();return!0}};h.extend(h.fx,{tick:function(){for(var a=h.timers,c=0;c<a.length;c++)a[c]()||a.splice(c--,1);a.length||h.fx.stop()},interval:13,stop:function(){clearInterval(pa);
pa=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){h.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}});h.expr&&h.expr.filters&&(h.expr.filters.animated=function(a){return h.grep(h.timers,function(c){return a===c.elem}).length});var Bb=/^t(?:able|d|h)$/i,Ra=/^(?:body|html)$/i;"getBoundingClientRect"in o.documentElement?
h.fn.offset=function(a){var c=this[0],e;if(a)return this.each(function(c){h.offset.setOffset(this,a,c)});if(!c||!c.ownerDocument)return null;if(c===c.ownerDocument.body)return h.offset.bodyOffset(c);try{e=c.getBoundingClientRect()}catch(f){}var j=c.ownerDocument,k=j.documentElement;if(!e||!h.contains(k,c))return e?{top:e.top,left:e.left}:{top:0,left:0};c=j.body;j=d(j);return{top:e.top+(j.pageYOffset||h.support.boxModel&&k.scrollTop||c.scrollTop)-(k.clientTop||c.clientTop||0),left:e.left+(j.pageXOffset||
h.support.boxModel&&k.scrollLeft||c.scrollLeft)-(k.clientLeft||c.clientLeft||0)}}:h.fn.offset=function(a){var c=this[0];if(a)return this.each(function(c){h.offset.setOffset(this,a,c)});if(!c||!c.ownerDocument)return null;if(c===c.ownerDocument.body)return h.offset.bodyOffset(c);h.offset.initialize();var d,e=c.offsetParent,f=c.ownerDocument,j=f.documentElement,k=f.body;d=(f=f.defaultView)?f.getComputedStyle(c,null):c.currentStyle;for(var l=c.offsetTop,m=c.offsetLeft;(c=c.parentNode)&&c!==k&&c!==j;){if(h.offset.supportsFixedPosition&&
d.position==="fixed")break;d=f?f.getComputedStyle(c,null):c.currentStyle;l-=c.scrollTop;m-=c.scrollLeft;c===e&&(l+=c.offsetTop,m+=c.offsetLeft,h.offset.doesNotAddBorder&&(!h.offset.doesAddBorderForTableAndCells||!Bb.test(c.nodeName))&&(l+=parseFloat(d.borderTopWidth)||0,m+=parseFloat(d.borderLeftWidth)||0),e=c.offsetParent);h.offset.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"&&(l+=parseFloat(d.borderTopWidth)||0,m+=parseFloat(d.borderLeftWidth)||0)}if(d.position==="relative"||d.position===
"static")l+=k.offsetTop,m+=k.offsetLeft;h.offset.supportsFixedPosition&&d.position==="fixed"&&(l+=Math.max(j.scrollTop,k.scrollTop),m+=Math.max(j.scrollLeft,k.scrollLeft));return{top:l,left:m}};h.offset={initialize:function(){var a=o.body,c=o.createElement("div"),d,e,f,j=parseFloat(h.css(a,"marginTop"))||0;h.extend(c.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});c.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
a.insertBefore(c,a.firstChild);d=c.firstChild;e=d.firstChild;f=d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=e.offsetTop!==5;this.doesAddBorderForTableAndCells=f.offsetTop===5;e.style.position="fixed";e.style.top="20px";this.supportsFixedPosition=e.offsetTop===20||e.offsetTop===15;e.style.position=e.style.top="";d.style.overflow="hidden";d.style.position="relative";this.subtractsBorderForOverflowNotVisible=e.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==j;a.removeChild(c);
h.offset.initialize=h.noop},bodyOffset:function(a){var c=a.offsetTop,d=a.offsetLeft;h.offset.initialize();h.offset.doesNotIncludeMarginInBodyOffset&&(c+=parseFloat(h.css(a,"marginTop"))||0,d+=parseFloat(h.css(a,"marginLeft"))||0);return{top:c,left:d}},setOffset:function(a,c,d){var e=h.css(a,"position");e==="static"&&(a.style.position="relative");var f=h(a),j=f.offset(),k=h.css(a,"top"),l=h.css(a,"left"),m=e==="absolute"&&h.inArray("auto",[k,l])>-1,e={},p={};m&&(p=f.position());k=m?p.top:parseInt(k,
10)||0;l=m?p.left:parseInt(l,10)||0;h.isFunction(c)&&(c=c.call(a,d,j));c.top!=null&&(e.top=c.top-j.top+k);c.left!=null&&(e.left=c.left-j.left+l);"using"in c?c.using.call(a,e):f.css(e)}};h.fn.extend({position:function(){if(!this[0])return null;var a=this[0],c=this.offsetParent(),d=this.offset(),e=Ra.test(c[0].nodeName)?{top:0,left:0}:c.offset();d.top-=parseFloat(h.css(a,"marginTop"))||0;d.left-=parseFloat(h.css(a,"marginLeft"))||0;e.top+=parseFloat(h.css(c[0],"borderTopWidth"))||0;e.left+=parseFloat(h.css(c[0],
"borderLeftWidth"))||0;return{top:d.top-e.top,left:d.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||o.body;a&&!Ra.test(a.nodeName)&&h.css(a,"position")==="static";)a=a.offsetParent;return a})}});h.each(["Left","Top"],function(a,e){var f="scroll"+e;h.fn[f]=function(e){var j=this[0],k;if(!j)return null;if(e!==c)return this.each(function(){(k=d(this))?k.scrollTo(a?h(k).scrollLeft():e,a?e:h(k).scrollTop()):this[f]=e});return(k=d(j))?"pageXOffset"in k?k[a?
"pageYOffset":"pageXOffset"]:h.support.boxModel&&k.document.documentElement[f]||k.document.body[f]:j[f]}});h.each(["Height","Width"],function(a,d){var e=d.toLowerCase();h.fn["inner"+d]=function(){return this[0]?parseFloat(h.css(this[0],e,"padding")):null};h.fn["outer"+d]=function(a){return this[0]?parseFloat(h.css(this[0],e,a?"margin":"border")):null};h.fn[e]=function(a){var f=this[0];if(!f)return a==null?null:this;if(h.isFunction(a))return this.each(function(c){var d=h(this);d[e](a.call(this,c,d[e]()))});
if(h.isWindow(f)){var j=f.document.documentElement["client"+d];return f.document.compatMode==="CSS1Compat"&&j||f.document.body["client"+d]||j}if(f.nodeType===9)return Math.max(f.documentElement["client"+d],f.body["scroll"+d],f.documentElement["scroll"+d],f.body["offset"+d],f.documentElement["offset"+d]);if(a===c)return f=h.css(f,e),j=parseFloat(f),h.isNaN(j)?f:j;return this.css(e,typeof a==="string"?a:a+"px")}});a.avpw_jQuery=a.avpw$=h})(window);(function(a,c){function d(c){return!a(c).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.8.11",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({_focus:a.fn.focus,focus:function(c,d){return typeof c==="number"?this.each(function(){var j=this;setTimeout(function(){a(j).focus();d&&d.call(j)},c)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;c=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,
"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?a(document):c},zIndex:function(d){if(d!==c)return this.css("zIndex",d);if(this.length)for(var d=a(this[0]),f;d.length&&d[0]!==document;){f=d.css("position");if(f===
"absolute"||f==="relative"||f==="fixed")if(f=parseInt(d.css("zIndex"),10),!isNaN(f)&&f!==0)return f;d=d.parent()}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(d,f){function j(c,d,e,f){a.each(k,function(){d-=parseFloat(a.curCSS(c,"padding"+this,!0))||0;e&&(d-=parseFloat(a.curCSS(c,
"border"+this+"Width",!0))||0);f&&(d-=parseFloat(a.curCSS(c,"margin"+this,!0))||0)});return d}var k=f==="Width"?["Left","Right"]:["Top","Bottom"],m=f.toLowerCase(),l={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+f]=function(d){if(d===c)return l["inner"+f].call(this);return this.each(function(){a(this).css(m,j(this,d)+"px")})};a.fn["outer"+f]=function(c,d){if(typeof c!=="number")return l["outer"+f].call(this,c);return this.each(function(){a(this).css(m,
j(this,c,!0,d)+"px")})}}),a.extend(a.expr[":"],{data:function(c,d,j){return!!a.data(c,j[3])},focusable:function(c){var f=c.nodeName.toLowerCase(),j=a.attr(c,"tabindex");if("area"===f){f=c.parentNode;j=f.name;if(!c.href||!j||f.nodeName.toLowerCase()!=="map")return!1;c=a("img[usemap=#"+j+"]")[0];return!!c&&d(c)}return(/input|select|textarea|button|object/.test(f)?!c.disabled:"a"==f?c.href||!isNaN(j):!isNaN(j))&&d(c)},tabbable:function(c){var d=a.attr(c,"tabindex");return(isNaN(d)||d>=0)&&a(c).is(":focusable")}}),
a(function(){var c=document.body,d=c.appendChild(d=document.createElement("div"));a.extend(d.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=d.offsetHeight===100;a.support.selectstart="onselectstart"in d;c.removeChild(d).style.display="none"}),a.extend(a.ui,{plugin:{add:function(c,d,j){var c=a.ui[c].prototype,k;for(k in j)c.plugins[k]=c.plugins[k]||[],c.plugins[k].push([d,j[k]])},call:function(a,c,d){if((c=a.plugins[c])&&a.element[0].parentNode)for(var k=0;k<c.length;k++)a.options[c[k][0]]&&
c[k][1].apply(a.element,d)}},contains:function(a,c){return document.compareDocumentPosition?a.compareDocumentPosition(c)&16:a!==c&&a.contains(c)},hasScroll:function(c,d){if(a(c).css("overflow")==="hidden")return!1;var d=d&&d==="left"?"scrollLeft":"scrollTop",j=!1;if(c[d]>0)return!0;c[d]=1;j=c[d]>0;c[d]=0;return j},isOverAxis:function(a,c,d){return a>c&&a<c+d},isOver:function(c,d,j,k,m,l){return a.ui.isOverAxis(c,j,m)&&a.ui.isOverAxis(d,k,l)}}))})(avpw_jQuery);
(function(a,c){if(a.cleanData){var d=a.cleanData;a.cleanData=function(c){for(var e=0,k;(k=c[e])!=null;e++)a(k).triggerHandler("remove");d(c)}}else{var e=a.fn.remove;a.fn.remove=function(c,d){return this.each(function(){d||(!c||a.filter(c,[this]).length)&&a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return e.call(a(this),c,d)})}}a.widget=function(c,d,e){var m=c.split(".")[0],l,c=c.split(".")[1];l=m+"-"+c;if(!e)e=d,d=a.Widget;a.expr[":"][l]=function(d){return!!a.data(d,
c)};a[m]=a[m]||{};a[m][c]=function(a,c){arguments.length&&this._createWidget(a,c)};d=new d;d.options=a.extend(!0,{},d.options);a[m][c].prototype=a.extend(!0,d,{namespace:m,widgetName:c,widgetEventPrefix:a[m][c].prototype.widgetEventPrefix||c,widgetBaseClass:l},e);a.widget.bridge(c,a[m][c])};a.widget.bridge=function(d,e){a.fn[d]=function(k){var m=typeof k==="string",l=Array.prototype.slice.call(arguments,1),p=this,k=!m&&l.length?a.extend.apply(null,[!0,k].concat(l)):k;if(m&&k.charAt(0)==="_")return p;
m?this.each(function(){var e=a.data(this,d),j=e&&a.isFunction(e[k])?e[k].apply(e,l):e;if(j!==e&&j!==c)return p=j,!1}):this.each(function(){var c=a.data(this,d);c?c.option(k||{})._init():a.data(this,d,new e(k,this))});return p}};a.Widget=function(a,c){arguments.length&&this._createWidget(a,c)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(c,d){a.data(d,this.widgetName,this);this.element=a(d);this.options=a.extend(!0,{},this.options,this._getCreateOptions(),
c);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},
option:function(d,e){var k=d;if(arguments.length===0)return a.extend({},this.options);if(typeof d==="string"){if(e===c)return this.options[d];k={};k[d]=e}this._setOptions(k);return this},_setOptions:function(c){var d=this;a.each(c,function(a,c){d._setOption(a,c)});return this},_setOption:function(a,c){this.options[a]=c;a==="disabled"&&this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},enable:function(){return this._setOption("disabled",
!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(c,d,e){var m=this.options[c],d=a.Event(d);d.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();e=e||{};if(d.originalEvent)for(var c=a.event.props.length,l;c;)l=a.event.props[--c],d[l]=d.originalEvent[l];this.element.trigger(d,e);return!(a.isFunction(m)&&m.call(this.element[0],d,e)===!1||d.isDefaultPrevented())}}})(avpw_jQuery);
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(a){return c._mouseDown(a)}).bind("click."+this.widgetName,function(d){if(!0===a.data(d.target,c.widgetName+".preventClickEvent"))return a.removeData(d.target,c.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(c){c.originalEvent=
c.originalEvent||{};if(!c.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(c);this._mouseDownEvent=c;var d=this,e=c.which==1,f=typeof this.options.cancel=="string"?a(c.target).parents().add(c.target).filter(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(c))return!0;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay);if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=
this._mouseStart(c)!==!1,!this._mouseStarted))return c.preventDefault(),!0;!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return d._mouseMove(a)};this._mouseUpDelegate=function(a){return d._mouseUp(a)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);c.preventDefault();return c.originalEvent.mouseHandled=!0}},_mouseMove:function(c){if(a.browser.msie&&
!(document.documentMode>=9)&&!c.button)return this._mouseUp(c);if(this._mouseStarted)return this._mouseDrag(c),c.preventDefault();if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1)?this._mouseDrag(c):this._mouseUp(c);return!this._mouseStarted},_mouseUp:function(c){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted)this._mouseStarted=
!1,c.target==this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c);return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(avpw_jQuery);
(function(a){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e=a.fn.position,f=a.fn.offset;a.fn.position=function(f){if(!f||!f.of)return e.apply(this,arguments);var f=a.extend({},f),k=a(f.of),m=k[0],l=(f.collision||"flip").split(" "),p=f.offset?f.offset.split(" "):[0,0],q,v,u;m.nodeType===9?(q=k.width(),v=k.height(),u={top:0,left:0}):m.setTimeout?(q=k.width(),v=k.height(),u={top:k.scrollTop(),left:k.scrollLeft()}):m.preventDefault?(f.at="left top",q=v=0,u={top:f.of.pageY,left:f.of.pageX}):
(q=k.outerWidth(),v=k.outerHeight(),u=k.offset());a.each(["my","at"],function(){var a=(f[this]||"").split(" ");a.length===1&&(a=c.test(a[0])?a.concat(["center"]):d.test(a[0])?["center"].concat(a):["center","center"]);a[0]=c.test(a[0])?a[0]:"center";a[1]=d.test(a[1])?a[1]:"center";f[this]=a});l.length===1&&(l[1]=l[0]);p[0]=parseInt(p[0],10)||0;p.length===1&&(p[1]=p[0]);p[1]=parseInt(p[1],10)||0;f.at[0]==="right"?u.left+=q:f.at[0]==="center"&&(u.left+=q/2);f.at[1]==="bottom"?u.top+=v:f.at[1]==="center"&&
(u.top+=v/2);u.left+=p[0];u.top+=p[1];return this.each(function(){var c=a(this),d=c.outerWidth(),e=c.outerHeight(),k=parseInt(a.curCSS(this,"marginLeft",!0))||0,m=parseInt(a.curCSS(this,"marginTop",!0))||0,x=d+k+(parseInt(a.curCSS(this,"marginRight",!0))||0),E=e+m+(parseInt(a.curCSS(this,"marginBottom",!0))||0),B=a.extend({},u),T;f.my[0]==="right"?B.left-=d:f.my[0]==="center"&&(B.left-=d/2);f.my[1]==="bottom"?B.top-=e:f.my[1]==="center"&&(B.top-=e/2);B.left=Math.round(B.left);B.top=Math.round(B.top);
T={left:B.left-k,top:B.top-m};a.each(["left","top"],function(c,k){a.ui.position[l[c]]&&a.ui.position[l[c]][k](B,{targetWidth:q,targetHeight:v,elemWidth:d,elemHeight:e,collisionPosition:T,collisionWidth:x,collisionHeight:E,offset:p,my:f.my,at:f.at})});a.fn.bgiframe&&c.bgiframe();c.offset(a.extend(B,{using:f.using}))})};a.ui.position={fit:{left:function(c,d){var e=a(window),e=d.collisionPosition.left+d.collisionWidth-e.width()-e.scrollLeft();c.left=e>0?c.left-e:Math.max(c.left-d.collisionPosition.left,
c.left)},top:function(c,d){var e=a(window),e=d.collisionPosition.top+d.collisionHeight-e.height()-e.scrollTop();c.top=e>0?c.top-e:Math.max(c.top-d.collisionPosition.top,c.top)}},flip:{left:function(c,d){if(d.at[0]!=="center"){var e=a(window),e=d.collisionPosition.left+d.collisionWidth-e.width()-e.scrollLeft(),f=d.my[0]==="left"?-d.elemWidth:d.my[0]==="right"?d.elemWidth:0,p=d.at[0]==="left"?d.targetWidth:-d.targetWidth,q=-2*d.offset[0];c.left+=d.collisionPosition.left<0?f+p+q:e>0?f+p+q:0}},top:function(c,
d){if(d.at[1]!=="center"){var e=a(window),e=d.collisionPosition.top+d.collisionHeight-e.height()-e.scrollTop(),f=d.my[1]==="top"?-d.elemHeight:d.my[1]==="bottom"?d.elemHeight:0,p=d.at[1]==="top"?d.targetHeight:-d.targetHeight,q=-2*d.offset[1];c.top+=d.collisionPosition.top<0?f+p+q:e>0?f+p+q:0}}}};if(!a.offset.setOffset)a.offset.setOffset=function(c,d){if(/static/.test(a.curCSS(c,"position")))c.style.position="relative";var e=a(c),f=e.offset(),p=parseInt(a.curCSS(c,"top",!0),10)||0,q=parseInt(a.curCSS(c,
"left",!0),10)||0,f={top:d.top-f.top+p,left:d.left-f.left+q};"using"in d?d.using.call(c,f):e.css(f)},a.fn.offset=function(c){var d=this[0];if(!d||!d.ownerDocument)return null;if(c)return this.each(function(){a.offset.setOffset(this,c)});return f.call(this)}})(avpw_jQuery);
(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position=
"relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).is(".ui-resizable-handle"))return!1;
this.handle=this._getHandle(c);if(!this.handle)return!1;return!0},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this._cacheHelperProportions();if(a.ui.ddmanager)a.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:c.pageX-
this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);d.containment&&this._setContainment();if(this._trigger("start",c)===!1)return this._clear(),!1;this._cacheHelperProportions();a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c);this.helper.addClass("ui-draggable-dragging");
this._mouseDrag(c,!0);return!0},_mouseDrag:function(c,d){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!d){d=this._uiHash();if(this._trigger("drag",c,d)===!1)return this._mouseUp({}),!1;this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,c);return!1},
_mouseStop:function(c){var d=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,c));if(this.dropped)d=this.dropped,this.dropped=!1;if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return!1;if(this.options.revert=="invalid"&&!d||this.options.revert=="valid"&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)){var e=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,
10),function(){e._trigger("stop",c)!==!1&&e._clear()})}else this._trigger("stop",c)!==!1&&this._clear();return!1},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(c){var d=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;a(this.options.handle,this.element).find("*").andSelf().each(function(){this==c.target&&(d=!0)});return d},_createHelper:function(c){var d=this.options,c=a.isFunction(d.helper)?a(d.helper.apply(this.element[0],
[c])):d.helper=="clone"?this.element.clone():this.element;c.parents("body").length||c.appendTo(d.appendTo=="parent"?this.element[0].parentNode:d.appendTo);c[0]!=this.element[0]&&!/(fixed|absolute)/.test(c.css("position"))&&c.css("position","absolute");return c},_adjustOffsetFromHelper:function(c){typeof c=="string"&&(c=c.split(" "));a.isArray(c)&&(c={left:+c[0],top:+c[1]||0});if("left"in c)this.offset.click.left=c.left+this.margins.left;if("right"in c)this.offset.click.left=this.helperProportions.width-
c.right+this.margins.left;if("top"in c)this.offset.click.top=c.top+this.margins.top;if("bottom"in c)this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),
10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c=this.options;if(c.containment==
"parent")c.containment=this.helper[0].parentNode;if(c.containment=="document"||c.containment=="window")this.containment=[(c.containment=="document"?0:a(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(c.containment=="document"?0:a(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(c.containment=="document"?0:a(window).scrollLeft())+a(c.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(c.containment=="document"?
0:a(window).scrollTop())+(a(c.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(c.containment)&&c.containment.constructor!=Array){var d=a(c.containment)[0];if(d){var c=a(c.containment).offset(),e=a(d).css("overflow")!="hidden";this.containment=[c.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),c.top+(parseInt(a(d).css("borderTopWidth"),
10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),c.left+(e?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,c.top+(e?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom]}}else if(c.containment.constructor==
Array)this.containment=c.containment},_convertPositionTo:function(c,d){if(!d)d=this.position;var c=c=="absolute"?1:-1,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(e[0].tagName);return{top:d.top+this.offset.relative.top*c+this.offset.parent.top*c-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():
f?0:e.scrollTop())*c),left:d.left+this.offset.relative.left*c+this.offset.parent.left*c-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*c)}},_generatePosition:function(c){var d=this.options,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(e[0].tagName),j=c.pageX,k=c.pageY;
this.originalPosition&&(this.containment&&(c.pageX-this.offset.click.left<this.containment[0]&&(j=this.containment[0]+this.offset.click.left),c.pageY-this.offset.click.top<this.containment[1]&&(k=this.containment[1]+this.offset.click.top),c.pageX-this.offset.click.left>this.containment[2]&&(j=this.containment[2]+this.offset.click.left),c.pageY-this.offset.click.top>this.containment[3]&&(k=this.containment[3]+this.offset.click.top)),d.grid&&(k=this.originalPageY+Math.round((k-this.originalPageY)/d.grid[1])*
d.grid[1],k=this.containment?!(k-this.offset.click.top<this.containment[1]||k-this.offset.click.top>this.containment[3])?k:!(k-this.offset.click.top<this.containment[1])?k-d.grid[1]:k+d.grid[1]:k,j=this.originalPageX+Math.round((j-this.originalPageX)/d.grid[0])*d.grid[0],j=this.containment?!(j-this.offset.click.left<this.containment[0]||j-this.offset.click.left>this.containment[2])?j:!(j-this.offset.click.left<this.containment[0])?j-d.grid[0]:j+d.grid[0]:j));return{top:k-this.offset.click.top-this.offset.relative.top-
this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop()),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&
this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(c,d,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[d,e]);if(c=="drag")this.positionAbs=this._convertPositionTo("absolute");return a.Widget.prototype._trigger.call(this,c,d,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.11"});a.ui.plugin.add("draggable","connectToSortable",{start:function(c,
d){var e=a(this).data("draggable"),f=e.options,j=a.extend({},d,{item:e.element});e.sortables=[];a(f.connectToSortable).each(function(){var d=a.data(this,"sortable");d&&!d.options.disabled&&(e.sortables.push({instance:d,shouldRevert:d.options.revert}),d.refreshPositions(),d._trigger("activate",c,j))})},stop:function(c,d){var e=a(this).data("draggable"),f=a.extend({},d,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=!0;this.instance.cancelHelperRemoval=
!1;if(this.shouldRevert)this.instance.options.revert=!0;this.instance._mouseStop(c);this.instance.options.helper=this.instance.options._helper;e.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",c,f)})},drag:function(c,d){var e=a(this).data("draggable"),f=this;a.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=
e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver)this.instance.isOver=1,this.instance.currentItem=a(f).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return d.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,!0),this.instance._mouseStart(c,!0,!0),this.instance.offset.click.top=e.offset.click.top,this.instance.offset.click.left=
e.offset.click.left,this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top,e._trigger("toSortable",c),e.dropped=this.instance.element,e.currentItem=e.element,this.instance.fromOutside=e;this.instance.currentItem&&this.instance._mouseDrag(c)}else if(this.instance.isOver)this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",
c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),e._trigger("fromSortable",c),e.dropped=!1})}});a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),d=a(this).data("draggable").options;if(c.css("cursor"))d._cursor=c.css("cursor");c.css("cursor",d.cursor)},stop:function(){var c=a(this).data("draggable").options;
c._cursor&&a("body").css("cursor",c._cursor)}});a.ui.plugin.add("draggable","iframeFix",{start:function(){var c=a(this).data("draggable").options;a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")})},stop:function(){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});
a.ui.plugin.add("draggable","opacity",{start:function(c,d){c=a(d.helper);d=a(this).data("draggable").options;if(c.css("opacity"))d._opacity=c.css("opacity");c.css("opacity",d.opacity)},stop:function(c,d){c=a(this).data("draggable").options;c._opacity&&a(d.helper).css("opacity",c._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var c=a(this).data("draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML")c.overflowOffset=c.scrollParent.offset()},drag:function(c){var d=
a(this).data("draggable"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")if(d.overflowOffset.top+d.scrollParent[0].offsetHeight-c.pageY<e.scrollSensitivity)d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed;else if(c.pageY-d.overflowOffset.top<e.scrollSensitivity)d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed;if(!e.axis||e.axis!="y")if(d.overflowOffset.left+d.scrollParent[0].offsetWidth-c.pageX<
e.scrollSensitivity)d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed;else if(c.pageX-d.overflowOffset.left<e.scrollSensitivity)d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed}else{if(!e.axis||e.axis!="x")c.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(c.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));
if(!e.axis||e.axis!="y")c.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(c.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,c)}});a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("draggable"),d=c.options;c.snapElements=[];a(d.snap.constructor!=String?
d.snap.items||":data(draggable)":d.snap).each(function(){var d=a(this),f=d.offset();this!=c.element[0]&&c.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),top:f.top,left:f.left})})},drag:function(c,d){for(var e=a(this).data("draggable"),f=e.options,j=f.snapTolerance,k=d.offset.left,m=k+e.helperProportions.width,l=d.offset.top,p=l+e.helperProportions.height,q=e.snapElements.length-1;q>=0;q--){var v=e.snapElements[q].left,u=v+e.snapElements[q].width,z=e.snapElements[q].top,A=
z+e.snapElements[q].height;if(v-j<k&&k<u+j&&z-j<l&&l<A+j||v-j<k&&k<u+j&&z-j<p&&p<A+j||v-j<m&&m<u+j&&z-j<l&&l<A+j||v-j<m&&m<u+j&&z-j<p&&p<A+j){if(f.snapMode!="inner"){var C=Math.abs(z-p)<=j,H=Math.abs(A-l)<=j,K=Math.abs(v-m)<=j,x=Math.abs(u-k)<=j;if(C)d.position.top=e._convertPositionTo("relative",{top:z-e.helperProportions.height,left:0}).top-e.margins.top;if(H)d.position.top=e._convertPositionTo("relative",{top:A,left:0}).top-e.margins.top;if(K)d.position.left=e._convertPositionTo("relative",{top:0,
left:v-e.helperProportions.width}).left-e.margins.left;if(x)d.position.left=e._convertPositionTo("relative",{top:0,left:u}).left-e.margins.left}var E=C||H||K||x;if(f.snapMode!="outer"){C=Math.abs(z-l)<=j;H=Math.abs(A-p)<=j;K=Math.abs(v-k)<=j;x=Math.abs(u-m)<=j;if(C)d.position.top=e._convertPositionTo("relative",{top:z,left:0}).top-e.margins.top;if(H)d.position.top=e._convertPositionTo("relative",{top:A-e.helperProportions.height,left:0}).top-e.margins.top;if(K)d.position.left=e._convertPositionTo("relative",
{top:0,left:v}).left-e.margins.left;if(x)d.position.left=e._convertPositionTo("relative",{top:0,left:u-e.helperProportions.width}).left-e.margins.left}!e.snapElements[q].snapping&&(C||H||K||x||E)&&e.options.snap.snap&&e.options.snap.snap.call(e.element,c,a.extend(e._uiHash(),{snapItem:e.snapElements[q].item}));e.snapElements[q].snapping=C||H||K||x||E}else e.snapElements[q].snapping&&e.options.snap.release&&e.options.snap.release.call(e.element,c,a.extend(e._uiHash(),{snapItem:e.snapElements[q].item})),
e.snapElements[q].snapping=!1}}});a.ui.plugin.add("draggable","stack",{start:function(){var c=a(this).data("draggable").options,c=a.makeArray(a(c.stack)).sort(function(c,d){return(parseInt(a(c).css("zIndex"),10)||0)-(parseInt(a(d).css("zIndex"),10)||0)});if(c.length){var d=parseInt(c[0].style.zIndex)||0;a(c).each(function(a){this.style.zIndex=d+a});this[0].style.zIndex=d+c.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(c,d){c=a(d.helper);d=a(this).data("draggable").options;if(c.css("zIndex"))d._zIndex=
c.css("zIndex");c.css("zIndex",d.zIndex)},stop:function(c,d){c=a(this).data("draggable").options;c._zIndex&&a(d.helper).css("zIndex",c._zIndex)}})})(avpw_jQuery);
(function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var c=this.options,d=c.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(d)?d:function(a){return a.is(d)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[c.scope]=a.ui.ddmanager.droppables[c.scope]||[];a.ui.ddmanager.droppables[c.scope].push(this);
c.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var c=a.ui.ddmanager.droppables[this.options.scope],d=0;d<c.length;d++)c[d]==this&&c.splice(d,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(c,d){if(c=="accept")this.accept=a.isFunction(d)?d:function(a){return a.is(d)};a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(c){var d=a.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);d&&this._trigger("activate",c,this.ui(d))},_deactivate:function(c){var d=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);d&&this._trigger("deactivate",c,this.ui(d))},_over:function(c){var d=a.ui.ddmanager.current;if(d&&(d.currentItem||d.element)[0]!=this.element[0])if(this.accept.call(this.element[0],d.currentItem||d.element))this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",
c,this.ui(d))},_out:function(c){var d=a.ui.ddmanager.current;if(d&&(d.currentItem||d.element)[0]!=this.element[0])if(this.accept.call(this.element[0],d.currentItem||d.element))this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(d))},_drop:function(c,d){var e=d||a.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0])return!1;var f=!1;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var c=a.data(this,
"droppable");if(c.options.greedy&&!c.options.disabled&&c.options.scope==e.options.scope&&c.accept.call(c.element[0],e.currentItem||e.element)&&a.ui.intersect(e,a.extend(c,{offset:c.element.offset()}),c.options.tolerance))return f=!0,!1});if(f)return!1;if(this.accept.call(this.element[0],e.currentItem||e.element))return this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",c,this.ui(e)),
this.element;return!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.11"});a.ui.intersect=function(c,d,e){if(!d.offset)return!1;var f=(c.positionAbs||c.position.absolute).left,j=f+c.helperProportions.width,k=(c.positionAbs||c.position.absolute).top,m=k+c.helperProportions.height,l=d.offset.left,p=l+d.proportions.width,q=d.offset.top,v=q+d.proportions.height;switch(e){case "fit":return l<=
f&&j<=p&&q<=k&&m<=v;case "intersect":return l<f+c.helperProportions.width/2&&j-c.helperProportions.width/2<p&&q<k+c.helperProportions.height/2&&m-c.helperProportions.height/2<v;case "pointer":return a.ui.isOver((c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top,(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left,q,l,d.proportions.height,d.proportions.width);case "touch":return(k>=q&&k<=v||m>=q&&m<=v||k<q&&m>v)&&(f>=l&&f<=p||j>=l&&j<=p||f<l&&j>p);
default:return!1}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,d){var e=a.ui.ddmanager.droppables[c.options.scope]||[],f=d?d.type:null,j=(c.currentItem||c.element).find(":data(droppable)").andSelf(),k=0;a:for(;k<e.length;k++)if(!(e[k].options.disabled||c&&!e[k].accept.call(e[k].element[0],c.currentItem||c.element))){for(var m=0;m<j.length;m++)if(j[m]==e[k].element[0]){e[k].proportions.height=0;continue a}e[k].visible=e[k].element.css("display")!="none";if(e[k].visible)f==
"mousedown"&&e[k]._activate.call(e[k],d),e[k].offset=e[k].element.offset(),e[k].proportions={width:e[k].element[0].offsetWidth,height:e[k].element[0].offsetHeight}}},drop:function(c,d){var e=!1;a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(c,this,this.options.tolerance)&&(e=e||this._drop.call(this,d)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)))this.isout=
1,this.isover=0,this._deactivate.call(this,d)});return e},drag:function(c,d){c.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(c,d);a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var e=a.ui.intersect(c,this,this.options.tolerance);if(e=!e&&this.isover==1?"isout":e&&this.isover==0?"isover":null){var f;if(this.options.greedy){var j=this.element.parents(":data(droppable):eq(0)");if(j.length)f=a.data(j[0],"droppable"),
f.greedyChild=e=="isover"?1:0}if(f&&e=="isover")f.isover=0,f.isout=1,f._out.call(f,d);this[e]=1;this[e=="isout"?"isover":"isout"]=0;this[e=="isover"?"_over":"_out"].call(this,d);if(f&&e=="isout")f.isout=0,f.isover=1,f._over.call(f,d)}}})}}})(avpw_jQuery);
(function(a){a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var c=this,d=this.options;this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");d.disabled&&this.element.addClass("ui-slider-disabled ui-disabled");
this.range=a([]);if(d.range){if(d.range===!0){this.range=a("<div></div>");if(!d.values)d.values=[this._valueMin(),this._valueMin()];if(d.values.length&&d.values.length!==2)d.values=[d.values[0],d.values[0]]}else this.range=a("<div></div>");this.range.appendTo(this.element).addClass("ui-slider-range");(d.range==="min"||d.range==="max")&&this.range.addClass("ui-slider-range-"+d.range);this.range.addClass("ui-widget-header")}a(".ui-slider-handle",this.element).length===0&&a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");
if(d.values&&d.values.length)for(;a(".ui-slider-handle",this.element).length<d.values.length;)a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=a(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){d.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){d.disabled?
a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")});this.handles.each(function(c){a(this).data("index.ui-slider-handle",c)});this.handles.keydown(function(d){var f=!0,j=a(this).data("index.ui-slider-handle"),k,m,l;if(!c.options.disabled){switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(f=
!1,!c._keySliding&&(c._keySliding=!0,a(this).addClass("ui-state-active"),k=c._start(d,j),k===!1))return}l=c.options.step;k=c.options.values&&c.options.values.length?m=c.values(j):m=c.value();switch(d.keyCode){case a.ui.keyCode.HOME:m=c._valueMin();break;case a.ui.keyCode.END:m=c._valueMax();break;case a.ui.keyCode.PAGE_UP:m=c._trimAlignValue(k+(c._valueMax()-c._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:m=c._trimAlignValue(k-(c._valueMax()-c._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(k===
c._valueMax())return;m=c._trimAlignValue(k+l);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(k===c._valueMin())return;m=c._trimAlignValue(k-l)}c._slide(d,j,m);return f}}).keyup(function(d){var f=a(this).data("index.ui-slider-handle");if(c._keySliding)c._keySliding=!1,c._stop(d,f),c._change(d,f),a(this).removeClass("ui-state-active")});this._refreshValue();this._animateOff=!1},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");
this._mouseDestroy();return this},_mouseCapture:function(c){var d=this.options,e,f,j,k,m;if(d.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();e=this._normValueFromMouse({x:c.pageX,y:c.pageY});f=this._valueMax()-this._valueMin()+1;k=this;this.handles.each(function(c){var d=Math.abs(e-k.values(c));f>d&&(f=d,j=a(this),m=c)});d.range===!0&&this.values(1)===d.min&&(m+=1,j=a(this.handles[m]));if(this._start(c,
m)===!1)return!1;this._mouseSliding=!0;k._handleIndex=m;j.addClass("ui-state-active").focus();d=j.offset();this._clickOffset=!a(c.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:c.pageX-d.left-j.width()/2,top:c.pageY-d.top-j.height()/2-(parseInt(j.css("borderTopWidth"),10)||0)-(parseInt(j.css("borderBottomWidth"),10)||0)+(parseInt(j.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(c,m,e);return this._animateOff=!0},_mouseStart:function(){return!0},
_mouseDrag:function(a){var d=this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,d);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var d;this.orientation===
"horizontal"?(d=this.elementSize.width,a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(d=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));d=a/d;d>1&&(d=1);d<0&&(d=0);this.orientation==="vertical"&&(d=1-d);a=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+d*a)},_start:function(a,d){var e={handle:this.handles[d],value:this.value()};if(this.options.values&&this.options.values.length)e.value=this.values(d),
e.values=this.values();return this._trigger("start",a,e)},_slide:function(a,d,e){var f;if(this.options.values&&this.options.values.length){f=this.values(d?0:1);if(this.options.values.length===2&&this.options.range===!0&&(d===0&&e>f||d===1&&e<f))e=f;e!==this.values(d)&&(f=this.values(),f[d]=e,a=this._trigger("slide",a,{handle:this.handles[d],value:e,values:f}),this.values(d?0:1),a!==!1&&this.values(d,e,!0))}else e!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[d],value:e}),a!==!1&&
this.value(e))},_stop:function(a,d){var e={handle:this.handles[d],value:this.value()};if(this.options.values&&this.options.values.length)e.value=this.values(d),e.values=this.values();this._trigger("stop",a,e)},_change:function(a,d){if(!this._keySliding&&!this._mouseSliding){var e={handle:this.handles[d],value:this.value()};if(this.options.values&&this.options.values.length)e.value=this.values(d),e.values=this.values();this._trigger("change",a,e)}},value:function(a){if(arguments.length)this.options.value=
this._trimAlignValue(a),this._refreshValue(),this._change(null,0);return this._value()},values:function(c,d){var e,f,j;arguments.length>1&&(this.options.values[c]=this._trimAlignValue(d),this._refreshValue(),this._change(null,c));if(arguments.length)if(a.isArray(arguments[0])){e=this.options.values;f=arguments[0];for(j=0;j<e.length;j+=1)e[j]=this._trimAlignValue(f[j]),this._change(null,j);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(c):this.value();
else return this._values()},_setOption:function(c,d){var e,f=0;if(a.isArray(this.options.values))f=this.options.values.length;a.Widget.prototype._setOption.apply(this,arguments);switch(c){case "disabled":d?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.attr("disabled","disabled"),this.element.addClass("ui-disabled")):(this.handles.removeAttr("disabled"),this.element.removeClass("ui-disabled"));break;case "orientation":this._detectOrientation();
this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(e=0;e<f;e+=1)this._change(null,e);this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(a){var d,e;if(arguments.length)return d=this.options.values[a],this._trimAlignValue(d);
else{d=this.options.values.slice();for(e=0;e<d.length;e+=1)d[e]=this._trimAlignValue(d[e]);return d}},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var d=this.options.step>0?this.options.step:1,e=(a-this._valueMin())%d;alignValue=a-e;Math.abs(e)*2>=d&&(alignValue+=e>0?d:-d);return parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var c=
this.options.range,d=this.options,e=this,f=!this._animateOff?d.animate:!1,j,k={},m,l,p,q;if(this.options.values&&this.options.values.length)this.handles.each(function(c){j=(e.values(c)-e._valueMin())/(e._valueMax()-e._valueMin())*100;k[e.orientation==="horizontal"?"left":"bottom"]=j+"%";a(this).stop(1,1)[f?"animate":"css"](k,d.animate);if(e.options.range===!0)if(e.orientation==="horizontal"){if(c===0)e.range.stop(1,1)[f?"animate":"css"]({left:j+"%"},d.animate);if(c===1)e.range[f?"animate":"css"]({width:j-
m+"%"},{queue:!1,duration:d.animate})}else{if(c===0)e.range.stop(1,1)[f?"animate":"css"]({bottom:j+"%"},d.animate);if(c===1)e.range[f?"animate":"css"]({height:j-m+"%"},{queue:!1,duration:d.animate})}m=j});else{l=this.value();p=this._valueMin();q=this._valueMax();j=q!==p?(l-p)/(q-p)*100:0;k[e.orientation==="horizontal"?"left":"bottom"]=j+"%";this.handle.stop(1,1)[f?"animate":"css"](k,d.animate);if(c==="min"&&this.orientation==="horizontal")this.range.stop(1,1)[f?"animate":"css"]({width:j+"%"},d.animate);
if(c==="max"&&this.orientation==="horizontal")this.range[f?"animate":"css"]({width:100-j+"%"},{queue:!1,duration:d.animate});if(c==="min"&&this.orientation==="vertical")this.range.stop(1,1)[f?"animate":"css"]({height:j+"%"},d.animate);if(c==="max"&&this.orientation==="vertical")this.range[f?"animate":"css"]({height:100-j+"%"},{queue:!1,duration:d.animate})}}});a.extend(a.ui.slider,{version:"1.8.11"})})(avpw_jQuery);typeof AV=="undefined"&&(AV={});AV.FlashControls=function(){};AV.FlashControls.prototype={setup:function(){},enablePlugin:function(a){AV_paintWidget.onModuleLoaded(a)},activatePlugin:function(){},deactivatePlugin:function(){},onPreviewRendered:function(){},syncProperty:function(){},syncPreview:function(){}};
Aviary=function(){var a={UPLOAD_TO_SERVER:"UPLOAD_TO_SERVER",UPLOAD_TO_AVIARY:"UPLOAD_TO_AVIARY",REPLACE_IMAGE:"REPLACE_IMAGE",log:function(){}},c=typeof document.getElementById!="undefined"&&typeof document.getElementsByTagName!="undefined"&&typeof document.createElement!="undefined",d=navigator.userAgent.toLowerCase(),e=navigator.platform.toLowerCase(),f=e?/win/.test(e):/win/.test(d),e=e?/mac/.test(e):/mac/.test(d),d=/webkit/.test(d)?parseFloat(d.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,
j=AV__getInternetExplorerVersion()>0;a.w3=c;a.wk=d;a.ie=j;a.win=f;a.mac=e;return a}();
Aviary.Plugins=function(){return{Crop:{id:"crop",name:"Crop",file:AV_feather_baseURL+"crop.swf",text:"Draw the crop rect, drag it by clicking inside or redraw clicking outside. Press ENTER to apply."},Resize:{id:"resize",name:"Resize",file:AV_feather_baseURL+"resize.swf",text:"Resize an image. Use the preview rectangle to see the quality of the resized image.",controls:[{type:"slider",id:"width",name:"Width","default":"@width",from:100,to:3E3},{type:"slider",id:"height",name:"Height","default":"@height",
from:100,to:3E3},{type:"checkbox",id:"keep_proportions",name:"Keep proportions",selected:!0}]},Rotate:{id:"rotate90",name:"Rotate",file:AV_feather_baseURL+"rotate90.swf",text:"Rotate an image.",presets:[{angle:0},{angle:90},{angle:180},{angle:270}],controls:[{type:"slider",id:"rotation",name:"Rotation","default":"0",from:-360,to:360}]},RedEyeRemoval:{id:"redeye",name:"Red Eye Removal",file:AV_feather_baseURL+"redeye.swf",text:"The Red Eyes Removal plugin can be used to remove red eyes caused by the camera flash. Draw with the brush onto the eyes you want to heal.",
controls:[{type:"slider",id:"threshold",name:"Threshold",description:"The amount of red used to guess if the region is a red eye or not.","default":50,from:0,to:100},{type:"slider",id:"radius",name:"Brush size",description:"The size of the brush.","default":10,from:2,to:40}]},Colors:{id:"colors",name:"Colors",file:AV_feather_baseURL+"colors.swf",text:"The Colors plugin bla bla bla.",controls:[{type:"slider",id:"hue",name:"Hue","default":0,from:-180,to:180},{type:"slider",id:"saturation",name:"Saturation",
"default":0,from:-100,to:100},{type:"slider",id:"brightness",name:"Saturation","default":0,from:-100,to:100}],presets:[{hue:-90,saturation:0,brightness:0},{hue:0,saturation:-100,brightness:0},{hue:90,saturation:0,brightness:0}]},Saturation:{id:"saturation",name:"Saturation",file:AV_feather_baseURL+"saturation.swf",presets:[{value:0},{value:0.66},{value:1.33},{value:2}]},Brightness:{id:"brightness",name:"Brightness",file:AV_feather_baseURL+"brightness.swf",text:"Brightness adjustment",presets:[{brightnessvalue:0.33,
contrastvalue:1},{brightnessvalue:0.77,contrastvalue:1},{brightnessvalue:1.22,contrastvalue:1},{brightnessvalue:1.66,contrastvalue:1}]},Contrast:{id:"contrast",name:"Contrast",file:AV_feather_baseURL+"contrast.swf",presets:[{contrastvalue:0.33,brightnessvalue:1},{contrastvalue:0.77,brightnessvalue:1},{contrastvalue:1.22,brightnessvalue:1},{contrastvalue:1.66,brightnessvalue:1}]},Blur:{id:"blur",name:"Blur",file:AV_feather_baseURL+"blur.swf",presets:[{radius:0},{radius:5},{radius:10},{radius:15}]},
Sharpen:{id:"sharpen",name:"Sharpen",file:AV_feather_baseURL+"sharpen.swf",presets:[{value:0},{value:33},{value:66},{value:100}]},Blemish:{id:"blemish",name:"Blemish",file:AV_feather_baseURL+"blemish.swf"},Drawing:{id:"drawing",name:"Drawing",file:AV_feather_baseURL+"drawing.swf"},Overlay:{id:"overlay",name:"Stickers",file:AV_feather_baseURL+"overlay.swf"},Text:{id:"text",name:"Text",file:AV_feather_baseURL+"text.swf"},Flip:{id:"flip",name:"Flip",presets:[{vertical:!1,horizontal:!1},{vertical:!1,
horizontal:!0},{vertical:!0,horizontal:!1},{vertical:!0,horizontal:!0}],file:AV_feather_baseURL+"flip.swf"}}}();
Aviary.DOM=function(){var a=/\s*([a-zA-Z_][a-zA-Z_0-9]*)\s*(#\s*([a-zA-Z_][a-zA-Z_0-9]*))?\s*(\.\s*(.+))?\s*/;return{getElement:function(a){return a instanceof Aviary.Node?a.el:a},getNode:function(a){if(!a||a instanceof Aviary.Node)return a;if(typeof a=="string")return Aviary.DOM.getNode(document.getElementById(a));return new Aviary.Node(a)},create:function(c,d,e){var c=a.exec(c),f=c[3],j=c[5],c=document.createElement(c[1]);if(f)c.id=f;if(j)c.className=j;if(d)for(var k in d)c.style[k]=d[k];if(e){d=
e.length;for(k=0;k<d;++k)c.appendChild(Aviary.DOM.getElement(e[k]))}return new Aviary.Node(c)},text:function(a){return document.createTextNode(a)},embedSWF:function(a,d,e,f,j){var j=j||{},k={};k.id=a;k.name=a;k.align="middle";this._embedSWF(d||a+".swf",a+"Content",e||"100%",f||"100%","10.0.32","",j,{quality:"high",bgcolor:"#808080",allowscriptaccess:"always",allowfullscreen:"true"},k)},_embedSWF:function(a,d,e,f,j,k,m,l,p){e+="";f+="";j={};if(p&&typeof p==="object")for(var q in p)j[q]=p[q];j.data=
a;j.width=e;j.height=f;a={};if(l&&typeof l==="object")for(var v in l)a[v]=l[v];if(m&&typeof m==="object")for(var u in m)typeof a.flashvars!="undefined"?a.flashvars+="&"+u+"="+m[u]:a.flashvars=u+"="+m[u];this._createSWF(j,a,d)},_createSWF:function(a,d,e){var f=document.getElementById(e);if(f){if(typeof a.id=="undefined")a.id=e;if(Aviary.ie&&Aviary.win){var j="",k;for(k in a)if(a[k]!=Object.prototype[k])k.toLowerCase()=="data"?d.movie=a[k]:k.toLowerCase()=="styleclass"?j+=' class="'+a[k]+'"':k.toLowerCase()!=
"classid"&&(j+=" "+k+'="'+a[k]+'"');k="";for(var m in d)d[m]!=Object.prototype[m]&&(k+='<param name="'+m+'" value="'+d[m]+'" />');f.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+j+">"+k+"</object>";typeof objIdArr=="undefined"&&(objIdArr=[]);objIdArr[objIdArr.length]=a.id}else{m=document.createElement("object");m.setAttribute("type","application/x-shockwave-flash");for(j in a)a[j]!=Object.prototype[j]&&(j.toLowerCase()=="styleclass"?m.setAttribute("class",a[j]):j.toLowerCase()!=
"classid"&&m.setAttribute(j,a[j]));for(var l in d)d[l]!=Object.prototype[l]&&l.toLowerCase()!="movie"&&this._createObjParam(m,l,d[l]);f.parentNode.replaceChild(m,f)}}},_createObjParam:function(a,d,e){var f=document.createElement("param");f.setAttribute("name",d);f.setAttribute("value",e);a.appendChild(f)}}}();Aviary.Node=function(a){this.el=a};
Aviary.Node.prototype=function(){var a=Aviary.DOM.getNode,c=Aviary.DOM.getElement;return{parent:function(){return a(this.el.parentNode)},show:function(){this.el.style.display="block"},hide:function(){this.el.style.display="none"},add:function(){for(var a=0;a<arguments.length;++a)this.el.appendChild(c(arguments[a]));return this},remove:function(){this.el.parentNode&&this.el.parentNode.removeChild(this.el);return this},move:function(c){c=a(c);this.remove();c.add(this);return this},prop:function(a){for(var c in a)this.el[c]=
a[c];return this}}}();Aviary.Canvas=function(a){this.canvas=document.getElementById(a)};
Aviary.Canvas.prototype={setup:function(a,c){var d;Aviary.log("Setting up canvas");typeof AV_proxyServer!="undefined"?(d=AV_proxyServer+"?url="+escape(a),Aviary.log("Setting up canvas:",d),this.canvas.setup(d,c)):(Aviary.log("Setting up canvas (localtest!!):",a),this.canvas.setup(a,c))},activatePlugin:function(a){this.canvas.activatePlugin(a)},deactivatePlugin:function(a){this.canvas.deactivatePlugin(a)},executePlugin:function(){this.canvas.executePlugin()},renderGoldenEgg:function(a,c,d){this.canvas.renderGoldenEgg(a,
c,d)},changeProperty:function(a,c){this.canvas.changeProperty(a,c)},commit:function(a,c){this.canvas.commit(a,c)},undo:function(){this.canvas.undo()},redo:function(){this.canvas.redo()},doCrop:function(){this.canvas.executeCrop()},renderPreview:function(a,c){this.canvas.renderPreview(a,c)},getHistory:function(){return this.canvas.getHistory()},getDynamicPropertyDefaultValue:function(a){return this.canvas.getDynamicPropertyDefaultValue(a)}};Aviary.Controls=function(){this.controls=new AV.FlashControls};
Aviary.Controls.prototype={setup:function(a){this.controls.setup(a)},enablePlugin:function(a,c){this.controls.enablePlugin(a,c)},activatePlugin:function(a){this.controls.activatePlugin(a)},deactivatePlugin:function(a){this.controls.deactivatePlugin(a)},onPreviewRendered:function(a,c){this.controls.onPreviewRendered(a,c)},syncProperty:function(a,c){this.controls.syncProperty(a,c)},syncPreview:function(a){this.controls.syncPreview(a)}};Aviary.Bridge=function(){};
Aviary.Bridge.prototype=function(){var a=Aviary.DOM.getNode,c=Aviary.DOM.create,d=Aviary.log;return{listEditableImages:function(){return document.getElementsByTagName("img")},getPlugins:function(){return[Aviary.Plugins.Crop,Aviary.Plugins.Resize,Aviary.Plugins.Rotate,Aviary.Plugins.RedEyeRemoval,Aviary.Plugins.Colors,Aviary.Plugins.Brightness,Aviary.Plugins.Saturation,Aviary.Plugins.Contrast,Aviary.Plugins.Blemish,Aviary.Plugins.Overlay,Aviary.Plugins.Drawing,Aviary.Plugins.Text,Aviary.Plugins.Flip]},
setEditable:function(d){var d=a(d),f=c("div",{position:"relative",display:"inline"});d.parent().add(f.add(c("a",{fontSize:"22px",fontWeight:"bold",textDecoration:"none",right:"10px",bottom:"10px",position:"absolute"})));var j=a(f.el.getElementsByTagName("a")[0]);j.hide();d.move(f);f.prop({onmouseover:function(){j.show()},onmouseout:function(){j.hide()}})},createCanvas:function(){this.initsize?Aviary.DOM.embedSWF("canvas",AV_feather_baseURL+"canvas.swf",this.initsize.width,this.initsize.height):Aviary.DOM.embedSWF("canvas",
AV_feather_baseURL+"canvas.swf");Aviary.DOM.embedSWF("thumb1",AV_feather_baseURL+"Thumb.swf","64px","64px",{callback:"AV_FlashThumbClickCallback",uid:"thumb1"});Aviary.DOM.embedSWF("thumb2",AV_feather_baseURL+"Thumb.swf","64px","64px",{callback:"AV_FlashThumbClickCallback",uid:"thumb2"});Aviary.DOM.embedSWF("thumb3",AV_feather_baseURL+"Thumb.swf","64px","64px",{callback:"AV_FlashThumbClickCallback",uid:"thumb3"});Aviary.DOM.embedSWF("thumb4",AV_feather_baseURL+"Thumb.swf","64px","64px",{callback:"AV_FlashThumbClickCallback",
uid:"thumb4"})},createControls:function(){this._onComponentLoaded("controls")},setupEditingUI:function(){a("editorOverlay")},destroyEditingUI:function(){var c=a("editorOverlay");c&&c.remove()},onSave:function(a){return this.onEndEditing(a)},onEndEditing:function(a){a.commit(Aviary.UPLOAD_TO_AVIARY,{url:"http://test.viary.com/apps/xmlapi/receiver.aspx?auid=aviaryframework",name:"image2"})},onCommitComplete:function(a){d("Commit has been completed:",a);AV__controlsWidget_onImageSaved(a.url)},_onComponentLoaded:function(a){Aviary.log("_onComponentLoaded: ",
a);switch(a){case "canvas":Aviary.API._onCanvasLoaded(new Aviary.Canvas("canvas"));break;case "controls":Aviary.API._onControlsLoaded(new Aviary.Controls("controls"))}},_onComponentReady:function(a){Aviary.log("_onComponentReady: ",a);switch(a){case "canvas":Aviary.API._onCanvasReady();break;case "controls":Aviary.API._onControlsReady()}}}}();
Aviary.API=function(){var a=Aviary.log,c=Aviary.DOM.getNode,d=Aviary.DOM.getElement;return{customBridge:function(a){var c=function(){};c.prototype=new Aviary.Bridge;c.prototype.constructor=Aviary.Bridge;for(var d in a)c.prototype[d]=a[d];return c},activate:function(a){this.bridge=a||new Aviary.Bridge;this._install();this.goldenEggCallback=null},startEditing:function(d){a("startEditing: ",d);d=c(d);this.controls=this.canvas=null;this.active_target=d;this.bridge.setupEditingUI();this.bridge.createCanvas();
this.bridge.createControls()},restartEditing:function(a){this.active_target=a=c(a);this._setupEditing()},save:function(){this.bridge.onSave(this.canvas)},close:function(){this.bridge.destroyEditingUI()},runGoldenEgg:function(a,c,d,k){this.goldenEggCallback=k;this.canvas.renderGoldenEgg(a,c,d)},doCrop:function(){this.canvas.doCrop()},endEditing:function(){this.bridge.onEndEditing(this.canvas);this.goldenEggCallback=null},activatePlugin:function(c){a("Activate plugin:",c);this.canvas.activatePlugin(c);
this.controls.activatePlugin(c)},deactivatePlugin:function(c){a("Dectivate plugin:",c,this.canvas,this.controls);this.canvas.deactivatePlugin(c);this.controls.deactivatePlugin(c)},changeProperty:function(c,d){a("Changing property:",c,d);this.canvas.changeProperty(c,d)},resizeCanvas:function(a,c){var d=this.canvas.canvas;d.width=a+"px";d.height=c+"px"},getCanvasWidth:function(){return parseInt(this.canvas.canvas.width)},getCanvasHeight:function(){return parseInt(this.canvas.canvas.height)},executePlugin:function(){this.canvas.executePlugin()},
renderPreview:function(a,c){this.canvas.renderPreview(a,c)},getDynamicPropertyDefaultValue:function(a){return this.canvas.getDynamicPropertyDefaultValue(a)},syncProperty:function(a,c){this.controls.syncProperty(a,c)},syncPreview:function(a){this.controls.syncPreview(a)},setImageData:function(a,d){c(a).el.src=d},setThumb:function(a,c){var d=document.getElementById("thumb"+a);d&&d.refreshThumb(c)},getHistory:function(){return this.canvas.getHistory()},_cropSelectionStarted:function(){},_onPreviewRendered:function(a,
c){this.controls.onPreviewRendered(a,c)},_onPluginLoaded:function(c,d){a("Enabling plugin:",c);this.controls.enablePlugin(c,d)},_onImageLoaded:function(){a("Image loaded");AV_paintWidgetLauncher_Flash_stage2&&AV_paintWidgetLauncher_Flash_stage2()},_onGoldenEggComplete:function(){this.goldenEggCallback&&this.goldenEggCallback()},_onCanvasLoaded:function(a){this.canvas=a;null!=this.controls&&(Aviary.log("_onCanvasLoaded, setting up editing"),this._setupEditing())},_onControlsLoaded:function(a){this.controls=
a;null!=this.canvas&&this._setupEditing()},_onCanvasReady:function(){this.canvas.ready=!0;this.controls.ready&&this._activateEditing()},_onControlsReady:function(){this.controls.ready=!0;this.canvas.ready&&this._activateEditing()},_onCommitComplete:function(a){this.bridge.onCommitComplete(a)},_setupEditing:function(){a("Setup Editing");var c=this.bridge.getPlugins();this.controls.setup(c);this.canvas.setup(d(this.active_target).src,c)},_activateEditing:function(){a("Editing")},_install:function(){for(var c=
this.bridge.listEditableImages(),d=[],j=0;j<c.length;++j)d.push(c[j]);c=this.targets=d;a("Installing Widget on "+c.length+" images");for(d=0;d<c.length;++d)this.bridge.setEditable(c[d],!0)},_onUndo:function(){a("undo");this.canvas.undo()},_onRedo:function(){a("redo");this.canvas.redo()}}}();
function AviaryAPIActivate(a){var c=Aviary.log;Aviary.API.activate(function(){if(!a)return new Aviary.Bridge;if(a.plugins){for(var d=[],e=a.plugins.toLowerCase().split(","),f=0;f<e.length;++f){var j=e[f],k;for(k in Aviary.Plugins){var m=Aviary.Plugins[k];c("Adding plugin: "+k);if(m.id==j||m.name.toLowerCase()==j){c("Added plugin: "+j);d.push(m);break}}}c("Plugins: ",d.length);if(d.length>0)a.getPlugins=function(){return d};delete a.plugins}if(a.targets){for(var l=[],f=0;f<a.targets.length;++f)l.push(document.getElementById(a.targets[f]));
a.listEditableImages=function(){return l};delete a.targets}if(a.action){var p=a.action;a.onSave=function(a){a.commit(p.type,p)};delete a.action}e=function(){};e.prototype=new Aviary.Bridge;e.prototype.constructor=Aviary.Bridge;for(var q in a)e.prototype[q]=a[q];return new e}())};typeof AV=="undefined"&&(AV={});var AV_paintWidget,AV_controlsWidget;AV__getWidgetURL="http://www.aviary.com/html5";AV__giveFeedbackURL="http://www.aviary.com/contactus";typeof AV__jsonp_imgserver=="undefined"&&(AV__jsonp_imgserver="imgjsonpserver.cgi");AV.toolDefaults={redeye:{initialvalue:10},greeneye:{initialvalue:10},bulge:{radius:100,maxradius:200,power:50},pinch:{radius:100,maxradius:200,power:50},whiten:{initialvalue:10},blemish:{initialvalue:5},drawing:{width:10}};
AV.usageTracker=function(){var a=null,c={},d=[],e,f,j,k,m,l,p;return{clear:function(){a=null;c={};d=[]},getUUID:function(){if(a)return a;return a=Math.floor(Math.random()*4294967295).toString(16)+Math.floor(Math.random()*4294967295).toString(16)},addUsage:function(a,d){d||(d=1);c[a]===void 0?c[a]=d:c[a]+=d},setPageCount:function(a){var c;d=Array(a);for(c=0;c<a;c++)d[c]=0},addPageHit:function(a){a!==e&&d[a]++;e=a},submit:function(a){f||(f=avpw$("#avpw_track_form"),j=avpw$("#avpw_track_form_action"),
k=avpw$("#avpw_track_form_sessionid"),m=avpw$("#avpw_track_form_apikey"),l=avpw$("#avpw_track_form_data"),p=avpw$("#avpw_img_track_target_holder"));if(typeof AV_imgtrackServer!=="undefined"){j.val(a);k.val(this.getUUID());m.val(AV_launchData.APIKey);switch(a){case "close":l.val(AV.JSON.stringify({dataver:1,opentype:Feather_OpenType,pagehits:d,toolusage:c}));break;default:l.val("")}p.html(AV.buildHiddenFrame("avpw_img_track_target"));avpw$("#avpw_img_track_target").load(function(){setTimeout(function(){p.empty()},
5)});setTimeout(function(){f.submit()},5)}}}}();
function AV_paintWidgetGetPopupEmbedDiv(a){var c,d,e,f=["top","left","bottom","right","margin-top","margin-right","margin-bottom","margin-left","border-top","border-right","border-bottom","border-left","padding-top","padding-right","padding-bottom","padding-left"];c=avpw$("#avpw_canvas_embed_popup");if(c.length==0)c=document.createElement("div"),c.id="avpw_canvas_embed_popup";d=avpw$(a).css("display");if(d==""||d=="inline")d="inline-block";avpw$(c).css("display",d);for(d=0;d<f.length;d++)e=f[d],avpw$(c).css(e,
avpw$(a).css(e));avpw$(c).hide();avpw$(c).css("position","relative");avpw$(c).insertBefore(a);return c}function AV_paintWidgetLauncher(a,c,d,e){if(!(typeof AV_paintWidget!="undefined"&&AV_paintWidget)){AV.usageTracker.clear();avpw$("#avpw_version").show();var f=AV__getInternetExplorerVersion();if(f>0&&f<9)document.getElementById("avpw_controls_2").onselectstart=function(){return!1};return AV__featherUseFlash?AV_paintWidgetLauncher_Flash(a,c,d,e):AV_paintWidgetLauncher_HTML(a,c,d,e)}}
function AV_mapToFlashToolName(a){switch(a){case "rotate":return"rotate90"}return a}function AV_mapFromFlashToolName(a){switch(a){case "rotate90":return"rotate"}return a}
function AV_getActiveTools(a,c){var d=a;typeof a==="string"&&(d=a.split(","));var e=[],f,j={},k;if(c)for(k=0;k<c.length;k++)f=c[k],j[f]=!0;for(k=0;k<d.length;k++)if(f=d[k],!(c&&f in j)&&(f==="stickers"&&(f="overlay"),e.push(f),f==="overlay"&&(f=AV_launchData.stickers,f[0]&&f[0].contents)))for(var m=1;m<f.length;m++)e.push("overlay");return e}
function AV_paintWidgetLauncher_Flash(a,c,d,e){function f(){avpw$(k).unbind("load",f);p=AV_controlsWidget.layoutNotify(Feather_OpenType,"getScaledImageDims_Flash",[m,k]);q=p.width;v=p.height;AV_controlsWidget.setMinWidth(q);AV_paintWidget=new AV.PaintWidget(q,v);AV_paintWidget.setOrigSize(q,v);AV_paintWidget.setActionListScaleFactor(AV_controlsWidget.calcActionListScaleFactor(k.width));var A=document.createElement("div");A.id="canvasContent";avpw$(m).append(A);AV_controlsWidget.initAllTools.AV_bindInst(AV_controlsWidget)();
for(u=0;u<C.length;u++)z=C[u],l.push(AV_mapToFlashToolName(z));l=l.join(",");var K={targets:[a.id],initsize:p,plugins:l,action:{posturl_:AV_launchData.postURL,hiresUrl_:AV_launchData.hiResURL,origUrl_:c?c:j.src,postdata_:typeof d=="undefined"?"":d,partnerHash_:"",sessionID_:AV.usageTracker.getUUID(),referrerUrl_:"",type:Aviary.UPLOAD_TO_AVIARY,url:AV_imgrecvServer,name:"file",fileFormat:AV_launchData.fileFormat,jpgQuality:AV_launchData.jpgQuality,debug:AV_launchData.debug,asyncSave:AV_launchData.asyncSave}};
AV_controlsWidget.layoutNotify(Feather_OpenType,"hideOriginalImage",[j]);AV_controlsWidget.layoutNotify(Feather_OpenType,"placeControls_Flash",[e]);avpw$("#avpw_controls").fadeIn(300);AV_launchData.noCloseButton&&avpw$("#avpw_control_cancel_pane").css("display","none");setTimeout(function(){AviaryAPIActivate(K);var c=Aviary.DOM.getNode(a);Aviary.API.startEditing(c);AV_controlsWidget.initWithPaintWidget(AV_paintWidget);AV_controlsWidget.setPanelMode(null);AV_controlsWidget.loaderPhase=1},300)}var j=
AV_getImageElem(a),k,m,l=[],p,q,v,u,z,A;AV__getInternetExplorerVersion();var C=AV_getActiveTools(AV_launchData.editOptions,["whiten","barrel","bulge","pinch"]);AV_controlsWidget=new AV.ControlsWidget(null,a,d,C);AV_controlsWidget.layoutNotify(Feather_OpenType,"onLaunch");avpw$(".avpw_isa_previewcanvas").hide();m=AV_controlsWidget.layoutNotify(Feather_OpenType,"getEmbedElement",[j]);avpw$(m).show();A=typeof AV_closureCompiled!="undefined"?"js/featherpaint_flash.js":"js/paintwidget_glue.js";k=document.createElement("img");
avpw$(k).css({display:"block",visibility:"hidden",position:"absolute"}).attr("src",avpw$(j).attr("src"));AV_loadFile(AV_feather_baseURL+A,"js",function(){AV_imgOnLoad(k,f)})}
function AV_paintWidgetLauncher_Flash_stage2(){AV_controlsWidget.loaderPhase=2;AV_controlsWidget.layoutNotify(Feather_OpenType,"launchStage2_Flash");AV_controlsWidget.showWaitThrobber(!1);avpw$(AV_controlsWidget.onEggWaitThrobber).hide();AV_controlsWidget.showFlashThumbs(null,!1);AV.usageTracker.submit("launch");AV_fireLaunchComplete()}
function AV_paintWidgetLauncher_HTML(a,c,d,e){var f=AV_getImageElem(a),j,k={},m,l,p=AV_getActiveTools(AV_launchData.editOptions);AV.isRelaunched&&typeof f.avpw_prevURL!="undefined"&&(c=f.avpw_prevURL);AV_controlsWidget=new AV.ControlsWidget(null,a,d,p);AV_controlsWidget.layoutNotify(Feather_OpenType,"onLaunch");AV_controlsWidget.origURL=c?c:avpw$(f).attr("src");AV_controlsWidget.layoutNotify(Feather_OpenType,"placeControls",[e]);avpw$("#avpw_controls").fadeIn(300);AV_launchData.noCloseButton&&avpw$("#avpw_control_cancel_pane").css("display",
"none");this.addEventListener("message",AV__controlsWidget_MessageHandler,!1);m=typeof AV_closureCompiled!="undefined"?"js/featherpaint.js":"js/paintwidget.js";embedElement=AV_controlsWidget.layoutNotify(Feather_OpenType,"getEmbedElement",[f]);j=document.createElement("img");j.id="avpw_temp_loading_image";AV_tempLoadingImage=j.src;avpw$(j).load(function(){function e(){avpw$(AV_controlsWidget.waitThrobber).unbind();topSpace=parseInt((k.height-AV_controlsWidget.waitThrobber.height)/2,10);leftSpace=
parseInt((k.width-AV_controlsWidget.waitThrobber.width)/2,10);avpw$(AV_controlsWidget.waitThrobber).css({position:"absolute",top:topSpace,left:leftSpace});avpw$(embedElement).append(AV_controlsWidget.waitThrobber)}l=AV_controlsWidget.getScaledDims(f.width,f.height);j.width=l.width;j.height=l.height;k.width=j.width;k.height=j.height;avpw$(j).unbind();avpw$(j).css("display","block");avpw$(embedElement).append(j);AV_controlsWidget.showWaitThrobber(!0);AV_controlsWidget.waitThrobber.complete||AV_controlsWidget.waitThrobber.readyState===
4?e():avpw$(AV_controlsWidget.waitThrobber).load(e);AV_controlsWidget.layoutNotify(Feather_OpenType,"hideOriginalImage",[f]);avpw$(embedElement).show();setTimeout(function(){typeof AV_closureCompiled!="undefined"?AV_loadFile(AV_feather_baseURL+m,"js",function(){AV_paintWidgetLauncher_stage2(a,c,d)}):AV_loadFile(AV_feather_baseURL+"js/json2.js","js",function(){AV_loadFile(AV_feather_baseURL+m,"js",function(){AV_paintWidgetLauncher_stage2(a,c,d)})})},5)});j.src=f.src;return!1}
function AV_paintWidgetRelauncher(a,c){return AV__featherUseFlash?AV_paintWidgetRelauncher_Flash(a,c):AV_paintWidgetRelauncher_HTML(a,c)}
function AV_paintWidgetRelauncher_Flash(a){AV_controlsWidget.showView("main");AV_controlsWidget.setPanelMode(null);AV_controlsWidget.paintWidget.setMode(null);var c=document.createElement("img");avpw$(c).css("display","none");avpw$(document.documentElement).append(c);avpw$(c).load(function(){var a=avpw$(c).width();AV_controlsWidget.setMinWidth(a);AV_controlsWidget.setActionListScaleFactor(a);Aviary.API.restartEditing(c)});avpw$(c).attr("src",a)}
function AV_paintWidgetRelauncher_HTML(a,c){var d=AV_getImageElem(AV_controlsWidget.paintImgIdElem),e=document.createElement("img");e.id="avpw_temp_loading_image";avpw$(e).css({width:AV_paintWidget.width,height:AV_paintWidget.height,display:"block"}).load(function(){function f(){avpw$(AV_controlsWidget.waitThrobber).unbind();topSpace=parseInt((e.height-AV_controlsWidget.waitThrobber.height)/2,10);leftSpace=parseInt((e.width-AV_controlsWidget.waitThrobber.width)/2,10);avpw$(AV_controlsWidget.waitThrobber).css({position:"absolute",
top:topSpace,left:leftSpace});avpw$(j).append(AV_controlsWidget.waitThrobber)}AV_controlsWidget.showView("main");AV_controlsWidget.setPanelMode(null);AV_controlsWidget.paintWidget.setMode(null);AV_controlsWidget.shutdownAllTools.AV_bindInst(AV_controlsWidget)();var j=avpw$("#avpw_canvas_embed");avpw$(j).children().remove();AV_paintWidget.shutdown();AV_controlsWidget.paintWidget=null;AV_controlsWidget.unbindControls();AV.flashThumbSet.shutdown();avpw$(j).append(e);avpw$(e).show();AV_controlsWidget.showWaitThrobber(!0);
AV_controlsWidget.waitThrobber.complete||AV_controlsWidget.waitThrobber.readyState===4?f():avpw$(AV_controlsWidget.waitThrobber).load(f);avpw$(j).show();AV_controlsWidget.filterEggs.setup.AV_bindInst(AV_controlsWidget)();AV_controlsWidget.origURL=a;setTimeout(function(){AV_paintWidgetLauncher_stage2(d,a,c)},5)});e.src=AV_tempLoadingImageSrc;return!1}
function AV_paintWidgetLauncher_stage2(a,c){var d=AV_getImageElem(a),e,f,j,k;f=AV_controlsWidget.getScaledDims(d.width,d.height);j=f.width;k=f.height;AV_controlsWidget.loaderPhase=1;AV_controlsWidget.setMinWidth(j);AV_paintWidget=new AV.PaintWidget(j,k);AV_paintWidget.setOrigSize(j,k);AV_paintWidget.setActionListScaleFactor(AV_controlsWidget.calcActionListScaleFactor(d.width));AV_controlsWidget.initWithPaintWidget(AV_paintWidget);c!=null?avpw$.ajax({type:"GET",dataType:"json",url:AV__jsonp_imgserver+
"?callback=?",data:{url:escape(c)},success:function(a){e=new Image;avpw$(e).load(function(){f=AV_controlsWidget.getScaledDims(e.width,e.height);e.width=f.width;e.height=f.height;AV_paintWidget.setDimensions(e.width,e.height);AV_paintWidget.setBackground(e);avpw$(AV_paintWidget.canvas).insertBefore("#avpw_temp_loading_image");avpw$("#avpw_temp_loading_image").remove();AV_tempLoadingImageSrc=c;AV_controlsWidget.showWaitThrobber(!1);AV_controlsWidget.loaderPhase=2}).attr("src",a.data)}}):(AV_paintWidget.setBackground(d),
avpw$("#avpw_controls").insertAfter(AV_paintWidget.canvas),avpw$(AV_paintWidget.canvas).insertBefore("#avpw_temp_loading_image"),avpw$("#avpw_temp_loading_image").remove(),AV_tempLoadingImageSrc=d.src,AV_controlsWidget.showWaitThrobber(!1),avpw$(AV_controlsWidget.onEggWaitThrobber).hide(),AV_controlsWidget.loaderPhase=2);AV.usageTracker.submit("launch");AV_fireLaunchComplete();return!1}
function AV_fireLaunchComplete(){AV_launchData.startTool&&AV_controlsWidget.setActiveTool(AV_launchData.startTool);if(typeof AV_launchData.onLaunchComplete==="function")AV_launchData.onLaunchComplete()}
function AV_paintWidgetShutdown(){AV__featherUseFlash||this.removeEventListener("message",AV__controlsWidget_MessageHandler,!1);avpw$("#avpw_controls").hide();AV__featherUseFlash&&Aviary.API.close();AV_controlsWidget.layoutNotify(Feather_OpenType,"onShutdown");if(typeof AV_launchData.onClose==="function")AV_launchData.onClose(AV_paintWidget.dirty);AV_paintWidget.shutdown();AV_controlsWidget.shutdown();AV.flashThumbSet.shutdown();AV.usageTracker.submit("close");AV_tempLoadingImageSrc=AV_controlsWidget=
AV_paintWidget=null}AV_paintWidgetCloser=function(a){AV_controlsWidget.layoutNotify(Feather_OpenType,"onClose",[a]);a?(avpw$("#avpw_controls").hide(),AV_paintWidgetShutdown()):avpw$("#avpw_controls").fadeOut(300,AV_paintWidgetShutdown)};AV_paintWidgetActivateTool=function(a){AV_controlsWidget.setActiveTool(a)};
function AV__getDomain(a,c){var d,e,f;d=a.substr(0,7)=="http://"?7:a.substr(0,8)=="https://"?8:a.substr(0,6)=="ftp://"?6:0;e=a.indexOf("/",d);if(e==-1)e=a.length;c||(f=a.lastIndexOf(".",e),f=a.lastIndexOf(".",f-1),d=f==-1?d:f+1);return a.substring(d,e)}
AV__controlsWidget_onImageSaved=function(a){if(typeof AV_launchData.onSave==="function")AV_launchData.onSave(AV_getImageId(AV_controlsWidget.paintImgIdElem),a);AV_getImageElem(AV_controlsWidget.paintImgIdElem).avpw_prevURL=a;AV_controlsWidget.showView("main");AV_controlsWidget.setPanelMode(null);AV_controlsWidget.paintWidget.setMode(null);AV_controlsWidget.setLastPanel("avpw_aviary_beensaved");AV_controlsWidget.paintWidget.dirty=!1;setTimeout(function(){AV_controlsWidget.wasJustSaved=!0;AV_controlsWidget.scrollPanelInfo.prevPanel=
AV_controlsWidget.scrollPanelInfo.curPanel;AV_controlsWidget.scrollMainTo(AV_controlsWidget.scrollPanelInfo.panelCount-1)},5);AV_controlsWidget.saving=!1};
AV__controlsWidget_MessageHandler=function(a){var c=a.data,d;if(AV_feather_baseURL!=""&&(d=AV__getDomain(a.origin),d!="aviary.com"&&d!="amazonaws.com")){a=AV__getDomain(AV_feather_baseURL);if(a==""||d=="")return;if(a!=d)return}c.substr(0,19)=="avpw:filter_result:"?(c=c.substr(19),AV_controlsWidget.paintWidget.module_serverfilter.onComplete(c)):c.substr(0,5)=="avpw:"&&(c=c.substr(5),avpw$("#avpw_img_submit_target").unbind("load"),avpw$("#avpw_img_submit_target_holder").empty(),AV__controlsWidget_onImageSaved(c))};
AV.ControlsWidget=function(a,c,d,e){this.maxHeight=this.maxWidth=parseInt(AV_launchData.maxSize);this.saving=!1;this.origURL=null;this.activeTools=e;this.wasJustSaved=!1;this.quitCount=0;this.paintImgIdElem=c;this.postdata=d;this.curMode=null;this.setupScrollPanels();this.setLastPanel("avpw_aviary_about");this.scrollMain();this.filterEggs.setup.AV_bindInst(this)();this.populatePulldown("crop");this.populatePulldown("resize");AV__checkbox_style_startup();AV__dropdown_style_startup();this.showView("main",
1);a&&this.initWithPaintWidget(a);this.waitThrobber=document.createElement("img");this.waitThrobber.src=AV_feather_baseURL+"images/eggthrobber-"+AV_theme+".gif";this.onEggWaitThrobber=document.createElement("img");this.onEggWaitThrobber.src=AV_feather_baseURL+"images/eggthrobber-egg-"+AV_theme+".gif";avpw$(this.onEggWaitThrobber).addClass("avpw_on_egg_wait_throbber");this.onGoldEggWaitThrobber=document.createElement("img");this.onGoldEggWaitThrobber.src=AV_feather_baseURL+"images/eggthrobber-gold-"+
AV_theme+".gif";avpw$(this.onGoldEggWaitThrobber).addClass("avpw_on_egg_wait_throbber")};AV.ControlsWidget.prototype.tool={};AV.ControlsWidget.prototype.layout={};AV.ControlsWidget.prototype.moduleNotify=function(a,c,d){return this.objectNotify("tool",a,c,d)};AV.ControlsWidget.prototype.layoutNotify=function(a,c,d){return this.objectNotify("layout",a,c,d)};
AV.ControlsWidget.prototype.objectNotify=function(a,c,d,e){if(typeof this[a][c]=="object"&&(a=this[a][c],typeof a[d]=="function"))return d=a[d],e||(e=[]),d.apply(a,e);return!0};
AV.ControlsWidget.prototype.shutdown=function(){AV__checkbox_style_shutdown();AV__dropdown_style_shutdown();this.shutdownAllTools();this.unbindControls();this.paintWidget.showWaitThrobber=null;avpw$(this.waitThrobber).remove();this.waitThrobber=null;avpw$(this.onEggWaitThrobber).remove();this.onEggWaitThrobber=null;avpw$(this.onGoldEggWaitThrobber).remove();this.onGoldEggWaitThrobber=null;this.showPanel(null)};
AV.ControlsWidget.prototype.initAllTools=function(){for(var a in this.activeTools){var c=this.activeTools[a];this.tool.hasOwnProperty(c)&&AV_paintWidget.moduleLoaded(c,function(a){this.moduleNotify(a,"init",[this])}.AV_bindInst(this))}};AV.ControlsWidget.prototype.shutdownAllTools=function(){for(var a in this.activeTools)this.moduleNotify(this.activeTools[a],"shutdown")};
AV.ControlsWidget.prototype.unbindControls=function(){avpw$("#avpw_controls_2").unbind();avpw$(".avpw_filter_thumb").unbind("click");avpw$("#avpw_control_undo").unbind("click");avpw$("#avpw_control_redo").unbind("click");avpw$("#avpw_save_button").unbind("click");avpw$("#avpw_control_cancel").unbind("click");avpw$("#avpw_all_effects").unbind("click");avpw$("#avpw_close_nosave").unbind();avpw$("#avpw_close_save").unbind();avpw$("#avpw_resume_editing").unbind();avpw$("#avpw_header").unbind();avpw$(".avpw_icon a").unbind("click");
avpw$(".avpw_is_navpip").unbind("click");avpw$("#avpw_lftArrow").unbind("click");avpw$("#avpw_rghtArrow").unbind("click");avpw$(".avpw_filter_eggs_panel_egg_holder").unbind()};
AV.ControlsWidget.prototype.initWithPaintWidget=function(a){this.paintWidget=a;avpw$(".avpw_is_navpip").click(function(a){this.scrollMainTo(avpw$(a.currentTarget).attr("pagenum"));return!1}.AV_bindInst(this));a=function(){this.wasJustSaved||this.quitCount>0?(this.quitCount=0,this.wasJustSaved=!1,this.scrollMainTo(this.scrollPanelInfo.prevPanel,!1,function(){this.setLastPanel("avpw_aviary_about")}.AV_bindInst(this))):this.scrollMainDir(-1);return!1}.AV_bindInst(this);avpw$("#avpw_lftArrow").click(a);
avpw$("#avpw_resume_editing").click(a);avpw$("#avpw_rghtArrow").click(function(){this.scrollMainDir(1);return!1}.AV_bindInst(this));avpw$("#avpw_controls_2").mousedown(function(a){var d=a.target.tagName.toLowerCase();d!="input"&&d!="textarea"&&d!="object"&&a.preventDefault()});avpw$("#avpw_control_undo").click(this.undo.AV_bindInst(this));avpw$("#avpw_control_redo").click(this.redo.AV_bindInst(this));avpw$("#avpw_save_button").click(this.save.AV_bindInst(this));avpw$("#avpw_control_cancel").click(this.cancel.AV_bindInst(this));
avpw$("#avpw_close_save").click(this.save.AV_bindInst(this));avpw$("#avpw_close_nosave").click(this.cancel.AV_bindInst(this));avpw$("#avpw_all_effects").click(function(){this.scrollMain(!0);this.showView("main");this.setPanelMode(null);this.paintWidget.setMode(null);return!1}.AV_bindInst(this));avpw$("#avpw_header").click(function(){this.showView("main");this.setPanelMode(null);this.paintWidget.setMode(null);this.setLastPanel("avpw_aviary_about");setTimeout(function(){this.scrollPanelInfo.prevPanel=
this.scrollPanelInfo.curPanel;this.scrollMainTo(this.scrollPanelInfo.panelCount-1)}.AV_bindInst(this),5);return!1}.AV_bindInst(this));avpw$("#avpw_header").unbind().click(function(){console.log(this.paintWidget.actionExportJSON(!0));return!1}.AV_bindInst(this));AV__featherUseFlash||this.initAllTools();avpw$(".avpw_icon a").each(function(a,d){var e=d.id.replace("avpw_main_","");avpw$(d).click(function(){this.setActiveTool(e,d);return!1}.AV_bindInst(this))}.AV_bindInst(this));this.paintWidget.showWaitThrobber=
this.showWaitThrobber.AV_bindInst(this)};
AV.ControlsWidget.prototype.setActiveTool=function(a,c){var d=function(){this.paintWidget.busy||(this.setPanelModeFromMain(a),avpw$(AV_controlsWidget.onEggWaitThrobber).hide(),AV.usageTracker.addUsage(a))}.AV_bindInst(this);if(a.indexOf("overlay")>-1){var e=a.split("overlay_")[1];if(e)this.tool.overlay.stickerGroupIndex=e;a="overlay"}!this.paintWidget.moduleLoaded(a,d)&&c&&(avpw$(c).children(".avpw_main_egg_icon").append(this.onEggWaitThrobber),avpw$(this.onEggWaitThrobber).show(),avpw$(this.onEggWaitThrobber).css({top:"1px",
left:"3px",width:"37px",height:"46px"}))};AV.ControlsWidget.prototype.setMinWidth=function(a){var c=AV__getInternetExplorerVersion();c<0||c>=8||(a=parseInt(a)+330,avpw$("#avpw_wrapper_1").css("min-width",a))};AV.ControlsWidget.prototype.calcActionListScaleFactor=function(a){return Math.max(1,a/this.maxWidth)};AV.ControlsWidget.prototype.setActionListScaleFactor=function(a){a=this.calcActionListScaleFactor(a);this.paintWidget.setActionListScaleFactor(a);return a};
AV.ControlsWidget.prototype.imageIsScaled=function(){return this.paintWidget.actionListScaleFactor>1};AV.ControlsWidget.prototype.showWaitThrobber=function(a,c){var d,e;a?(this.paintWidget&&(d=parseInt((this.paintWidget.canvas.height-this.waitThrobber.height)/2,10),e=parseInt((this.paintWidget.canvas.width-this.waitThrobber.width)/2,10),avpw$(this.waitThrobber).css({position:"absolute",top:d,left:e})),avpw$(this.waitThrobber).show()):avpw$(this.waitThrobber).hide();c&&setTimeout(c,5)};
AV.ControlsWidget.prototype.panelMode2WidgetMode=function(a){switch(a){case "rotate":return"rotate90";case "filters":return null;case "greeneye":return"redeye";case "pinch":return"bulge"}return a};
AV.ControlsWidget.prototype.setPanelMode=function(a){var c;c=this.panelMode2WidgetMode(a);this.moduleNotify(this.curMode,"panelWillClose");this.moduleNotify(a,"panelWillOpen");a=="filters"&&this.filterEggs.setMode(null);this.resizeFlashThumbs(a);this.paintWidget.setMode(c);this.showPanel(a);this._resetUI(a);this.paintWidget.setCurrentLayerByName("background");this.moduleNotify(this.curMode,"panelDidClose");this.moduleNotify(a,"panelDidOpen");this.curMode=a};
AV.ControlsWidget.prototype.setPanelModeFromMain=function(a){this.showView("editpanel");this.setPanelMode(a)};
AV.ControlsWidget.prototype.showView=function(a,c){var d=200;c&&(d=c);switch(a){case "editpanel":c<=5?(avpw$("#avpw_tool_main_container").hide(),avpw$("#avpw_tool_options_container").show(),avpw$("#avpw_filter_eggs_panel").hide()):(avpw$("#avpw_tool_main_container").fadeOut(d),avpw$("#avpw_tool_options_container").fadeIn(d),avpw$("#avpw_filter_eggs_panel").fadeOut(d));break;case "main":c<=5?(avpw$("#avpw_tool_main_container").show(),avpw$("#avpw_tool_options_container").hide(),avpw$("#avpw_filter_eggs_panel").show()):
(avpw$("#avpw_tool_main_container").fadeIn(d),avpw$("#avpw_tool_options_container").fadeOut(d),avpw$("#avpw_filter_eggs_panel").fadeIn(d))}};AV.ControlsWidget.prototype.setNavPip=function(a){avpw$(".avpw_is_navpip").removeClass("avpw_page_selected");avpw$("#avpw_navpip_"+a).addClass("avpw_page_selected")};AV.ControlsWidget.prototype.scrollMainTo=function(a,c,d){this.scrollPanelInfo.curPanel=parseInt(a);this.scrollMain(c,d)};
AV.ControlsWidget.prototype.scrollMainDir=function(a,c,d){this.scrollPanelInfo.curPanel+=a;this.scrollMain(c,d)};
AV.ControlsWidget.prototype.scrollMain=function(a,c){var d,e=avpw$("#avpw_control_main_scroll_panel");if(this.scrollPanelInfo.curPanel<0)this.scrollPanelInfo.curPanel=0;else if(this.scrollPanelInfo.curPanel>this.scrollPanelInfo.panelCount-1)this.scrollPanelInfo.curPanel=this.scrollPanelInfo.panelCount-1;AV.usageTracker.addPageHit(this.scrollPanelInfo.curPanel);d=this.scrollPanelInfo.curPanel*(this.scrollPanelInfo.widthPx+this.scrollPanelInfo.padding);a?avpw$(e).animate({scrollLeft:d},1,"swing",c):
avpw$(e).animate({scrollLeft:d},300,"swing",c);this.setNavPip(this.scrollPanelInfo.curPanel);this.scrollPanelInfo.curPanel==0?(avpw$("#avpw_lftArrow").addClass("avpw_prev_disabled"),avpw$("#avpw_lftArrow").removeClass("avpw_prev_enabled")):(avpw$("#avpw_lftArrow").removeClass("avpw_prev_disabled"),avpw$("#avpw_lftArrow").addClass("avpw_prev_enabled"));this.scrollPanelInfo.curPanel==this.scrollPanelInfo.panelCount-1?(avpw$("#avpw_rghtArrow").addClass("avpw_next_disabled"),avpw$("#avpw_rghtArrow").removeClass("avpw_next_enabled")):
(avpw$("#avpw_rghtArrow").removeClass("avpw_next_disabled"),avpw$("#avpw_rghtArrow").addClass("avpw_next_enabled"))};AV.ControlsWidget.prototype.scrollFilterTo=function(a,c,d){this.scrollFilterPanelInfo.curPanel=parseInt(a);this.scrollFilter(c,d)};AV.ControlsWidget.prototype.scrollFilterDir=function(a,c,d){this.scrollFilterPanelInfo.curPanel+=a;this.scrollFilter(c,d)};
AV.ControlsWidget.prototype.scrollFilter=function(a,c){var d,e=avpw$("#avpw_filter_control_main_scroll_panel");if(this.scrollFilterPanelInfo.curPanel<0)this.scrollFilterPanelInfo.curPanel=0;else if(this.scrollFilterPanelInfo.curPanel>this.scrollFilterPanelInfo.panelCount-1)this.scrollFilterPanelInfo.curPanel=this.scrollFilterPanelInfo.panelCount-1;d=avpw$(".avpw_filter_scroll_pane")[this.scrollFilterPanelInfo.curPanel];d=avpw$(d).position().left;a?avpw$(e).animate({scrollLeft:d},1,"swing",c):avpw$(e).animate({scrollLeft:d},
300,"swing",c);this.setNavPip(this.scrollFilterPanelInfo.curPanel);this.scrollFilterPanelInfo.curPanel==0?(avpw$("#avpw_filter_lftArrow").addClass("avpw_prev_disabled"),avpw$("#avpw_filter_lftArrow").removeClass("avpw_prev_enabled")):(avpw$("#avpw_filter_lftArrow").removeClass("avpw_prev_disabled"),avpw$("#avpw_filter_lftArrow").addClass("avpw_prev_enabled"));this.scrollFilterPanelInfo.curPanel==this.scrollFilterPanelInfo.panelCount-1?(avpw$("#avpw_filter_rghtArrow").addClass("avpw_next_disabled"),
avpw$("#avpw_filter_rghtArrow").removeClass("avpw_next_enabled")):(avpw$("#avpw_filter_rghtArrow").removeClass("avpw_next_disabled"),avpw$("#avpw_filter_rghtArrow").addClass("avpw_next_enabled"))};
AV.ControlsWidget.prototype.setupScrollPanels=function(){var a,c,d,e,f,j,k,m=0;this.scrollPanelInfo=this.layoutNotify(Feather_OpenType,"getScrollPanelDims");this.scrollPanelInfo.padding=5;this.scrollPanelInfo.curPanel=0;this.scrollPanelInfo.prevPanel=0;f=this.scrollPanelInfo.across*this.scrollPanelInfo.down;this.scrollPanelInfo.panelCount=parseInt((this.activeTools.length-1)/f)+1;this.scrollPanelInfo.panelCount++;AV.usageTracker.setPageCount(this.scrollPanelInfo.panelCount);e="";for(a=0;a<this.scrollPanelInfo.panelCount-
1;a++){var l="";for(d=c=a*f;d<c+f;d++)d<this.activeTools.length?(j=this.activeTools[d],j=="overlay"?(k=AV_launchData.stickers,k[m]&&k[m].label?(k=k[m].label,j="overlay_"+m,m++):k="Stickers"):k=j=="barrel"?"Bulge":j.substr(0,1).toUpperCase()+j.substr(1),l+=['<div class="avpw_egg avpw_icon" id="avpw_main_icon_'+j+'">','<a href="#" id="avpw_main_'+j+'">','<div class="avpw_main_egg_icon" id="avpw_main_egg_icon_'+j+'">',"</div>",'<span class="avpw_icon_text_style">'+k+"</span>","</a></div>\n"].join("")):
l+='<div class="avpw_egg avpw_icon">\n</div>\n';e+=['<div class="avpw_scrolling_region_panel">\n',l,"</div>\n"].join("")}e+=['<div class="avpw_scrolling_region_panel" style="margin-top:0px;">\n<div id="avpw_aviary_about" class="avpw_isa_last_panel">\n<div class="avpw_aviary_about_text_toppadding avpw_aviary_about_text avpw_aviary_about_text_style">Powered by Aviary.com</div>\n<div class="avpw_get_widget_top_margin avpw_iblock_center">\n<div style="display:inline-block">\n','<a href="'+AV__giveFeedbackURL+
'" target="_blank"><div class="avpw_button avpw_button_style avpw_padlr" id="avpw_give_feedback"><div>give feedback</div></div></a>\n','</div>\n<div style="display:inline-block">\n','<a href="'+AV__getWidgetURL+'" target="_blank"><div class="avpw_button avpw_button_style avpw_padlr" id="avpw_embed_widget"><div>get this widget</div></div></a>\n','</div>\n</div>\n<div style="height:10px;min-height:10px;font-size:1px;">&nbsp;</div>\n<div class="avpw_aviary_about_feather"></div>\n</div>\n<div id="avpw_aviary_beensaved" class="avpw_isa_last_panel">\n<div class="avpw_aviary_about_text_toppadding avpw_aviary_about_text avpw_aviary_about_text_style">Your work was saved!</div>\n<div style="margin-top:5px;" class="avpw_iblock_center">\n<div style="display:inline-block">\n',
'<a href="'+AV__getWidgetURL+'" target="_blank"><div class="avpw_button avpw_button_style avpw_padlr" id="avpw_embed_widget2"><div>get this widget</div></div></a>\n','</div>\n</div>\n<div class="avpw_aviary_about_feather"></div>\n</div>\n<div id="avpw_aviary_quitareyousure" class="avpw_isa_last_panel"><div class="avpw_aviary_savechanges_top avpw_aviary_about_text_small">Wait! You didn\'t save your work. Are you certain that you want to close this editor?</div><div style="margin:0;border:0;"><div id="avpw_resumeclosesave_holder" style="text-align:center;width:100%;margin-bottom:10px;"><div style="display:inline-block;"><a style="display:block;" href="#"><div class="avpw_button avpw_button_style avpw_padlr" id="avpw_resume_editing"><div>resume</div></div></a></div>\n<div style="display:inline-block;"><a style="display:block;" href="#"><div class="avpw_button avpw_button_style avpw_padlr" id="avpw_close_nosave"><div>close</div></div></a></div>&nbsp;<div style="display:inline-block;"><a style="display:block;" href="#"><div class="avpw_button avpw_button_style avpw_padlr" id="avpw_close_save"><div>save</div></div></a></div>&nbsp;</div></div></div></div>'].join("");
avpw$("#avpw_control_main_scrolling_region").html(e);avpw$("#avpw_control_main_scrolling_region").width();avpw$("#avpw_control_main_scrolling_region").css("width");avpw$("#avpw_control_main_scrolling_region").width((243+this.scrollPanelInfo.padding)*this.scrollPanelInfo.panelCount);this.scrollPanelInfo.widthPx=243;c="";for(a=0;a<this.scrollPanelInfo.panelCount;a++)c+='<li class="avpw_is_navpip" pagenum="'+a+'" id="avpw_navpip_'+a+'"><a href="#"></a></li>\n';avpw$("#avpw_tools_pager ul").html(c);this.setNavPip(this.scrollPanelInfo.curPanel)};
AV.ControlsWidget.prototype.setLastPanel=function(a){avpw$(".avpw_isa_last_panel").hide();avpw$("#"+a).show()};
AV.ControlsWidget.prototype.filterEggs=function(){var a={polaroid:{flash:'<parameters><parameter id="Inner Placement" value="0.5"/><parameter id="Desaturation Factor" value="0.8"/><parameter id="Background Color" value="-1"/><parameter id="Light Leak Active" value="true"/><parameter id="Light Leak Seed" value="-17130388"/><parameter id="Color Grading Active" value="true"/><parameter id="Color Grading Seed" value="-101359189"/><parameter id="Red Variation Strength" value="25"/><parameter id="Green Variation Strength" value="25"/><parameter id="Blue Variation Strength" value="25"/><parameter id="Shadow Center" value="0.4,0.2"/><parameter id="Stains Active" value="true"/><parameter id="Stains On Frame Only" value="true"/><parameter id="Stains Density" value="30"/><parameter id="Stains Minimum Drop Size" value="1"/><parameter id="Stains Maximum Drop Size" value="80"/><parameter id="Stains Smoothing" value="8"/></parameters>',server:'{parameters:{parameter:[{id:"Inner Placement",value:0.5},{id:"Desaturation Factor",value:0.8},{id:"Background Color",value:-1},{id:"Light Leak Active",value:"true"},{id:"Light Leak Seed",value:-17130388},{id:"Color Grading Active",value:"true"},{id:"Color Grading Seed",value:-101359189},{id:"Red Variation Strength",value:25},{id:"Green Variation Strength",value:25},{id:"Blue Variation Strength",value:25},{id:"Shadow Center",value:"0.4,0.2"},{id:"Stains Active",value:"true"},{id:"Stains On Frame Only",value:"true"},{id:"Stains Density",value:30},{id:"Stains Minimum Drop Size",value:1},{id:"Stains Maximum Drop Size",value:80},{id:"Stains Smoothing",value:8}]}}'},
autocorrection:{flash:'<parameters><parameter uid="0" value="true" /><parameter uid="1" value="true" /><parameter uid="2" value="false" /><parameter uid="3" value="true" /><parameter uid="4" value="false" /></parameters>',server:'{parameters:{parameter:[{uid:0,value:"true"},{uid:1,value:"true"},{uid:2,value:"false"},{uid:3,value:"true"},{uid:4,value:"false"}]}}'},toycamera:{flash:'<parameters><parameter id="Contrast" value="0.1"/><parameter id="Saturation"  value="1"/><parameter id="Glow Threshold" value="128"/><parameter id="Glow Radius" value="34"/><parameter id="Glow Intensity" value="0.5"/><parameter id="Grain Random Seed" value="-48494495"/><parameter id="Grain Intensity"  value="0.32"/><parameter id="Grain Size" value="3.2"/><parameter id="Grain Clumping Iterations" value="3"/><parameter id="Grain Clumping Strength" value="7"/><parameter id="Color Grading Seed" value="-86426274"/><parameter id="Red Variation Strength" value="30.1"/><parameter id="Green Variation Strength" value="21.5"/><parameter id="Blue Variation Strength" value="38.6"/><parameter id="Inner Limit" value="0.3"/><parameter id="Outer Limit" value="2"/><parameter id="Blur Radius" value="10"/><parameter id="Radius Factor" value="1"/><parameter id="Radius Gamma" value="2.5"/></parameters>',
server:'{parameters:{parameter:[{id:"Contrast",value:0.1},{id:"Saturation",value:1},{id:"Glow Threshold",value:128},{id:"Glow Radius",value:34},{id:"Glow Intensity",value:0.5},{id:"Grain Random Seed",value:-48494495},{id:"Grain Intensity",value:0.32},{id:"Grain Size",value:3.2},{id:"Grain Clumping Iterations",value:3},{id:"Grain Clumping Strength",value:7},{id:"Color Grading Seed",value:-86426274},{id:"Red Variation Strength",value:30.1},{id:"Green Variation Strength",value:21.5},{id:"Blue Variation Strength",value:38.6},{id:"Inner Limit",value:0.3},{id:"Outer Limit",value:2},{id:"Blur Radius",value:10},{id:"Radius Factor",value:1},{id:"Radius Gamma",value:2.5}]}}'},
oldphoto:{flash:'<parameters><parameter id="Contrast" value="0.2"/><parameter id="Glow Threshold" value="175"/><parameter id="Glow Radius" value="30"/><parameter id="Glow Intensity" value="0.2"/><parameter id="Grain Intensity" value="0.5"/><parameter id="Grain Size" value="1.2"/><parameter id="Grain Clumping Iterations" max="2" value="2"/><parameter id="Grain Clumping Strength" value="7"/><parameter id="Tint Color" value="52"/><parameter id="Add Dust" value="true"/><parameter id="Dust Amount" value="30"/><parameter id="Add Stains" value="true"/><parameter id="Add Dots" value="true"/><parameter id="Dots Random Seed" value="-147552578"/><parameter id="Dots Amount" value="3"/></parameters>',
server:'{parameters:{parameter:[{id:"Contrast",value:0.2},{id:"Glow Threshold",value:175},{id:"Glow Radius",value:30},{id:"Glow Intensity",value:0.2},{id:"Grain Intensity",value:0.5},{id:"Grain Size",value:1.2},{id:"Grain Clumping Iterations",max:2,value:2},{id:"Grain Clumping Strength",value:7},{id:"Tint Color",value:52},{id:"Add Dust",value:"true"},{id:"Dust Amount",value:30},{id:"Add Stains",value:"true"},{id:"Add Dots",value:"true"},{id:"Dots Random Seed",value:-147552578},{id:"Dots Amount",value:3}]}}'},
retro:{flash:'<parameters><parameter id="Matte Padding" value="0.008"/><parameter id="Matte Color" value="-66590"/><parameter id="Matte Corner Radius" value="0.03"/><parameter id="Border Radius" value="30"/><parameter id="Border Intensity" value="1"/><parameter id="Color Effect Intensity" value="0.2"/><parameter id="Grain Intensity" value="0.1"/><parameter id="Grain Size" value="2"/><parameter id="Grain Clumping Iterations" value="4"/><parameter id="Grain Clumping Strength" value="6"/><parameter id="Tint Random Seed" value="-142803775"/><parameter id="TintIntensity" value="1"/><parameter id="Fuzziness" value="35"/><parameter id="Add Light Leak" value="false"/><parameter id="Add Dots" value="true"/><parameter id="Dots Amount" value="5"/><parameter id="Add Scratches" value="true"/><parameter id="Scratches Amount" value="1"/><parameter id="Add Wrinkles" value="true"/><parameter id="Add Stains" value="false"/><parameter id="Stain Amount" value="10"/><parameter id="Red Adjust" value="40"/><parameter id="Green Adjust" value="80"/><parameter id="Blue Adjust" value="3"/><parameter id="Red Contrast" value="0.6"/><parameter id="Green Contrast" value="0.6"/><parameter id="Blue Contrast" value="0.6"/><parameter id="Saturation" value="1"/></parameters>',
server:'{parameters:{parameter:[{id:"Matte Padding",value:0.008},{id:"Matte Color",value:-66590},{id:"Matte Corner Radius",value:0.03},{id:"Border Radius",value:30},{id:"Border Intensity",value:1},{id:"Color Effect Intensity",value:0.2},{id:"Grain Intensity",value:0.1},{id:"Grain Size",value:2},{id:"Grain Clumping Iterations",value:4},{id:"Grain Clumping Strength",value:6},{id:"Tint Random Seed",value:-142803775},{id:"TintIntensity",value:1},{id:"Fuzziness",value:35},{id:"Add Light Leak",value:"false"},{id:"Add Dots",value:"true"},{id:"Dots Amount",value:5},{id:"Add Scratches",value:"true"},{id:"Scratches Amount",value:1},{id:"Add Wrinkles",value:"true"},{id:"Add Stains",value:"false"},{id:"Stain Amount",value:10},{id:"Red Adjust",value:40},{id:"Green Adjust",value:80},{id:"Blue Adjust",value:3},{id:"Red Contrast",value:0.6},{id:"Green Contrast",value:0.6},{id:"Blue Contrast",value:0.6},{id:"Saturation",value:1}]}}'}},
c={toycamera:"Toy&nbsp;Camera",polaroid:"Instant!",autocorrection:"Auto",oldphoto:"Old&nbsp;Photo",colorgrading:"Color&nbsp;Grading",vignetteblur:"Vignette&nbsp;Blur",colormatrix:"Color&nbsp;Matrix",filmgrain:"Film&nbsp;Grain",retro:"Retro"};return{setup:function(){var d,e,f,j,k;e=AV_launchData.hiResURL?["autocorrection","toycamera","oldphoto","retro"]:AV_launchData.useServerFilters?["autocorrection","toycamera","oldphoto","retro"]:["polaroid","toycamera","oldphoto","retro"];for(d=0;d<e.length;d++)f=
e[d],j="#avpw_effects_egg"+d,avpw$(j+" .avpw_filter_text").html(c[f]),avpw$(j+" .avpw_filter_egg_icon").addClass("avpw_filter_egg_icon_"+f),avpw$(j).data("avpw_filter_name",f),avpw$(j).click(function(c){var d=function(){avpw$(AV_controlsWidget.onGoldEggWaitThrobber).hide()}.AV_bindInst(this),e=function(){this.paintWidget.busy||(k=avpw$(c.currentTarget).data("avpw_filter_name"),setTimeout(function(){var c=a[k];this.filterEggs.execute.AV_bindInst(this)(k,c,d)}.AV_bindInst(this),5))}.AV_bindInst(this);
AV_launchData.useServerFilters?this.paintWidget.moduleLoaded("serverfilter",e):this.paintWidget.moduleLoaded("flashfilter",e);avpw$(this.onGoldEggWaitThrobber).show();this.paintWidget.busy||avpw$(c.currentTarget).children(".avpw_filter_eggs_panel_eh_egg").append(this.onGoldEggWaitThrobber);avpw$(this.onGoldEggWaitThrobber).css({top:"2px",left:"7px",width:"33px",height:"44px"});return!1}.AV_bindInst(this))},setMode:function(a){a?(avpw$(".avpw_filter_thumb").hide(),avpw$(".avpw_filter_thumb").removeClass("avpw_filter_thumb_panelmode"),
avpw$("#avpw_"+a+"_thumb").show(),avpw$(".avpw_filter_thumb").addClass("avpw_filter_thumb_panelmode"),avpw$(".avpw_filterpanel").hide(),avpw$("#avpw_filterpanel_"+a).show()):(avpw$(".avpw_filterpanel").hide(),avpw$(".avpw_filter_thumb").show(),avpw$(".avpw_filter_thumb").removeClass("avpw_filter_thumb_panelmode"))},execute:function(a,c,f){AV.usageTracker.addUsage("filter_"+a);AV_launchData.useServerFilters?(this.paintWidget.setMode("serverfilter"),this.paintWidget.module_serverfilter.applyFilter(a,
c,!0,f)):(this.paintWidget.setMode("flashfilter"),this.paintWidget.module_flashfilter.applyFilter(a,c,!0,f));this.filterEggs.setMode(null);return!1}}}();
AV.ControlsWidget.prototype.populateSizePulldownPresets=function(a,c){for(var d,e,f,j=this.paintWidget.canvas.width*this.paintWidget.actionListScaleFactor,k=this.paintWidget.canvas.height*this.paintWidget.actionListScaleFactor,m=a.find(".avpw_dropdown_body_entry"),l=0;l<m.length;l++){(d=avpw$(m[l]).val())||(d=avpw$(m[l]).attr("value"));e=d.indexOf("x");if(e!=-1)switch(f=d.substr(0,e),d=d.substr(e+1),f=parseInt(f),d=parseInt(d),e=!0,c){case "cursizespect":k>j&&f>d&&(e=!1);j>k&&d>f&&(e=!1);if(f>j||
d>k)e=!1;break;case "cursize":if(f>j||d>k)e=!1;break;case "maxspect":k>j&&f>d&&(e=!1);j>k&&d>f&&(e=!1);if(f>this.maxWidth||d>this.maxHeight)e=!1;break;case "max":if(f>this.maxWidth||d>this.maxHeight)e=!1}else e=d.indexOf(":"),e=e==-1?!1:!0;e?avpw$(m[l]).show():avpw$(m[l]).hide()}AV__dropdown_style_reset(a,!1)};
AV.ControlsWidget.prototype.populatePulldown=function(a){var c=AV_launchData[a+"Sizes"];typeof c==="string"&&(c=c.split(","));var d=!1;c[0]instanceof Array&&(d=!0);var e,f,a=a==="crop"?avpw$("#avpw_crop_presets"):avpw$("#avpw_resize_presets");a.find(".avpw_isa_populated_dropdown_body_entry").remove();f=a.find(".avpw_dropdown_body_wrapper");e=f.html();for(a=0;a<c.length;a++){var j=d?c[a][1]:c[a],k=d?c[a][0]:j,j=j.replace(/\s/g,"").toLowerCase();e+='<a href="#"><div value="'+j+'" class="avpw_dropdown_body_entry avpw_isa_populated_dropdown_body_entry">'+
k+"</div></a>\n"}f.html(e)};AV.ControlsWidget.prototype.setImageScaledIndicator=function(){this.imageIsScaled()?avpw$(".avpw_scale_warn").show():avpw$(".avpw_scale_warn").hide()};AV.ControlsWidget.prototype._drawUICircle=function(a,c,d,e,f){AV__featherUseFlash?this._drawUICircle_Flash(a,c,d,e,f):this._drawUICircle_HTML(a,c,d,e,f)};
AV.ControlsWidget.prototype._drawUICircle_Flash=function(a,c,d,e,f){c=parseInt(c);d=AV__color_to_int(d);e=="transparent"?(a=!0,e=0):(a=!1,e=e?parseInt(e.slice(1),16):16777215);f?(f=parseInt(f),f/=10):f=0;AV_getFlashMovie("thumb1").setBrushThumb(c,d,e,f,a)};
AV.ControlsWidget.prototype._drawUICircle_HTML=function(a,c,d,e,f){if(f!=null&&e!="transparent")return this._drawUICircleSoft(a,c,d,e,f);a=avpw$(a)[0];f=a.getContext("2d");f.globalCompositeOperation="copy";f.clearRect(0,0,a.width,a.height);f.globalCompositeOperation="source-over";f.beginPath();f.strokeStyle=d!=null?d=="transparent"||AV__color_is_white(d)||e==null?"#444":d:"rgba(0,0,0,0)";f.lineWidth=3;f.arc(a.width/2,a.height/2,c,0,6.2831852,!1);f.closePath();f.stroke();if(e!=null)f.save(),f.clip(),
e=="transparent"?this._drawUIGrid(f,a.width,a.height):(f.fillStyle=e,f.fillRect(0,0,a.width,a.height)),f.restore()};
AV.ControlsWidget.prototype._drawUICircleSoft=function(a,c,d,e){var d=this.paintWidget.module_drawing.getHardFactor(),f=avpw$(a)[0],a=f.getContext("2d");c*=2;var j=f.width/2,k=f.height/2;f.width=f.width;this._drawUIGrid(a,f.width,f.height);d=Math.max(2,c*d);d=(d+c)*0.5;a.lineWidth=d;a.shadowBlur=c-d;a.shadowOffsetX=-100;a.shadowOffsetY=-100;a.lineCap="round";a.lineJoin="round";a.fillStyle=e;a.strokeStyle=e;a.shadowColor=a.strokeStyle;a.beginPath();a.moveTo(j+0.01+100,k+100);a.lineTo(j+100,k+100);
a.stroke();a.closePath()};AV.ControlsWidget.prototype._drawUIGrid=function(a,c,d,e){var f;e||(e=5);for(f=0;f<d+e;f+=e)for(c=0;c<d+e;c+=e)a.fillStyle=(c+f&1)==1?"#fff":"#ddd",a.fillRect(c,f,e,e)};AV.ControlsWidget.prototype.showPanel=function(a){a!=null&&(avpw$(".avpw_controlpanel").each(function(){avpw$(this).hide()}),avpw$("#avpw_controlpanel_"+a).show())};
AV.ControlsWidget.prototype.showFlashThumbs=function(a,c){if(AV__featherUseFlash){var d,e,f,j;d=a?avpw$("#avpw_controlpanel_"+a+" .avpw_flashthumb_holder"):avpw$(".avpw_flashthumb_holder");c?avpw$(d).each(function(a,c){a+=1;e="thumb"+a;j=AV_getFlashMovie(e);j.width=avpw$(c).width();j.height=avpw$(c).height();f=avpw$(c).offset();f.top+=1;f.left+=1;avpw$("#"+e).offset(f)}):avpw$(d).each(function(a){a+=1;e="thumb"+a;avpw$("#"+e).offset({top:-9999,left:-9999})})}};
AV.ControlsWidget.prototype.resizeFlashThumbs=function(a){if(AV__featherUseFlash){var c,d,a=avpw$("#avpw_controlpanel_"+a+" .avpw_flashthumb_holder");avpw$(a).each(function(a,f){a+=1;c="thumb"+a;d=AV_getFlashMovie(c);var j=avpw$(f).attr("width"),k=avpw$(f).attr("height");j||(j=avpw$(f).width());k||(k=avpw$(f).height());if(j&&k)d.width=j,d.height=k})}};
AV.ControlsWidget.prototype.tool.flip={flipNone_flash:function(){this.controls.paintWidget.module_flip.flashFlip(!1,!1)},flipHoriz_flash:function(){this.controls.paintWidget.module_flip.flashFlip(!0,!1)},flipVert_flash:function(){this.controls.paintWidget.module_flip.flashFlip(!1,!0)},flipBoth_flash:function(){this.controls.paintWidget.module_flip.flashFlip(!0,!0)},init:function(a){var c=this;this.controls=a;this.flippedV=this.flippedH=!1;avpw$("#avpw_flip_none_thumb").click(function(){if(c.flippedV)a.paintWidget.module_flip.vflip(!0),
c.flippedV=!c.flippedV;if(c.flippedH)a.paintWidget.module_flip.hflip(!0),c.flippedH=!c.flippedH;return!1});avpw$("#avpw_flip_horizontal_thumb").click(function(){if(c.flippedV)a.paintWidget.module_flip.vflip(!0),c.flippedV=!c.flippedV;if(!c.flippedH)a.paintWidget.module_flip.hflip(!0),c.flippedH=!c.flippedH;return!1});avpw$("#avpw_flip_vertical_thumb").click(function(){if(!c.flippedV)a.paintWidget.module_flip.vflip(!0),c.flippedV=!c.flippedV;if(c.flippedH)a.paintWidget.module_flip.hflip(!0),c.flippedH=
!c.flippedH;return!1});avpw$("#avpw_flip_both_thumb").click(function(){if(!c.flippedV)a.paintWidget.module_flip.vflip(!0),c.flippedV=!c.flippedV;if(!c.flippedH)a.paintWidget.module_flip.hflip(!0),c.flippedH=!c.flippedH;return!1})},panelWillOpen:function(){this.flippedV=this.flippedH=!1},panelDidOpen:function(){this.controls.showFlashThumbs("flip",!0);AV.flashThumbSet.addListener("thumb1",this.flipNone_flash.AV_bindInst(this));AV.flashThumbSet.addListener("thumb2",this.flipHoriz_flash.AV_bindInst(this));
AV.flashThumbSet.addListener("thumb3",this.flipVert_flash.AV_bindInst(this));AV.flashThumbSet.addListener("thumb4",this.flipBoth_flash.AV_bindInst(this))},panelWillClose:function(){this.controls.showFlashThumbs("flip",!1);AV.flashThumbSet.removeAllListeners()},resetUI:function(){var a=this.controls.paintWidget.module_flip;a.makeThumb(avpw$("#avpw_flip_none_thumb")[0],!1,!1);a.makeThumb(avpw$("#avpw_flip_horizontal_thumb")[0],!0,!1);a.makeThumb(avpw$("#avpw_flip_vertical_thumb")[0],!1,!0);a.makeThumb(avpw$("#avpw_flip_both_thumb")[0],
!0,!0)},shutdown:function(){avpw$("#avpw_flip_none_thumb").unbind("click");avpw$("#avpw_flip_horizontal_thumb").unbind("click");avpw$("#avpw_flip_vertical_thumb").unbind("click");avpw$("#avpw_flip_both_thumb").unbind("click");this.controls=null}};
AV.ControlsWidget.prototype.tool.redeye={init:function(a){this.controls=a;var c=AV.toolDefaults.redeye.initialvalue,d=!1;a.paintWidget.module_redeye.radius=c;d=!0;avpw$("#avpw_redeye_slider").slider({range:"min",value:c,max:20,min:3,slide:function(c,f){d||a._drawUICircle("#avpw_redeye_ui_circle",f.value,"#444")},change:function(c,d){a.paintWidget.module_redeye.setRadius(d.value)}});d=!1},shutdown:function(){avpw$("#avpw_redeye_slider").unbind("slide");avpw$("#avpw_redeye_slider").unbind("slidechange");
avpw$("#avpw_redeye_slider").slider({slide:null,change:null});this.controls=null},panelDidOpen:function(){this.controls.showFlashThumbs("redeye",!0);var a=avpw$("#avpw_redeye_slider").slider("value");this.controls.paintWidget.module_redeye.setRadius(a);this.controls._drawUICircle("#avpw_redeye_ui_circle",a,"#444")},panelWillOpen:function(){this.controls.paintWidget.module_redeye.mode="redeye"},panelWillClose:function(){this.controls.showFlashThumbs("redeye",!1);AV.flashThumbSet.removeAllListeners()}};
AV.ControlsWidget.prototype.tool.bulge={init:function(a){this.controls=a;var c=AV.toolDefaults.bulge.radius,d=AV.toolDefaults.bulge.maxradius,e=AV.toolDefaults.bulge.power;a.paintWidget.module_bulge.radius=c;a.paintWidget.module_bulge.power=e;avpw$("#avpw_bulge_slider_radius").slider({range:"min",value:c,max:d,min:3,slide:function(){},change:function(c,d){a.paintWidget.module_bulge.radius=d.value}});avpw$("#avpw_bulge_slider_power").slider({range:"min",value:e,max:100,min:0,change:function(c,d){a.paintWidget.module_bulge.power=
d.value}})},panelWillOpen:function(){this.controls.paintWidget.module_bulge.radius=avpw$("#avpw_bulge_slider_radius").slider("value");this.controls.paintWidget.module_bulge.power=avpw$("#avpw_bulge_slider_power").slider("value");this.controls.paintWidget.setMode("flatten");this.controls.paintWidget.module_flatten.flatten();this.controls.paintWidget.actionImplicit(!0)},panelWillClose:function(){this.controls.paintWidget.undoImplicitActions(!0)},shutdown:function(){avpw$("#avpw_bulge_slider_radius").unbind("slide");
avpw$("#avpw_bulge_slider_radius").unbind("slidechange");avpw$("#avpw_bulge_slider_radius").slider({slide:null,change:null});avpw$("#avpw_bulge_slider_power").unbind("slide");avpw$("#avpw_bulge_slider_power").unbind("slidechange");avpw$("#avpw_bulge_slider_power").slider({slide:null,change:null});this.controls=null}};
AV.ControlsWidget.prototype.tool.pinch={init:function(a){this.controls=a;var c=AV.toolDefaults.pinch.radius,d=AV.toolDefaults.pinch.maxradius,e=AV.toolDefaults.pinch.power;a.paintWidget.module_bulge.radius=c;a.paintWidget.module_bulge.power=e;avpw$("#avpw_pinch_slider_radius").slider({range:"min",value:c,max:d,min:3,slide:function(){},change:function(c,d){a.paintWidget.module_bulge.radius=d.value}});avpw$("#avpw_pinch_slider_power").slider({range:"min",value:e,max:100,min:0,change:function(c,d){a.paintWidget.module_bulge.power=
-d.value}})},panelWillOpen:function(){this.controls.paintWidget.module_bulge.radius=avpw$("#avpw_pinch_slider_radius").slider("value");this.controls.paintWidget.module_bulge.power=-avpw$("#avpw_pinch_slider_power").slider("value");this.controls.paintWidget.setMode("flatten");this.controls.paintWidget.module_flatten.flatten();this.controls.paintWidget.actionImplicit(!0)},panelWillClose:function(){this.controls.paintWidget.undoImplicitActions(!0)},shutdown:function(){avpw$("#avpw_pinch_slider_radius").unbind("slide");
avpw$("#avpw_pinch_slider_radius").unbind("slidechange");avpw$("#avpw_pinch_slider_radius").slider({slide:null,change:null});avpw$("#avpw_pinch_slider_power").unbind("slide");avpw$("#avpw_pinch_slider_power").unbind("slidechange");avpw$("#avpw_pinch_slider_power").slider({slide:null,change:null});this.controls=null}};
AV.ControlsWidget.prototype.tool.whiten={init:function(a){this.controls=a;var c=AV.toolDefaults.whiten.initialvalue;avpw$("#avpw_whiten_slider").slider({range:"min",value:c,max:20,min:3,slide:function(c,e){a._drawUICircle("#avpw_whiten_ui_circle",e.value,"#444")},change:function(c,e){a.paintWidget.module_whiten.radius=e.value}});a._drawUICircle("#avpw_whiten_ui_circle",c,"#444");a.paintWidget.module_whiten.radius=c},shutdown:function(){avpw$("#avpw_whiten_slider").unbind("slide");avpw$("#avpw_whiten_slider").unbind("slidechange");
avpw$("#avpw_whiten_slider").slider({slide:null,change:null});this.controls=null}};
AV.ControlsWidget.prototype.tool.greeneye={init:function(a){var c=this,d=AV.toolDefaults.greeneye.initialvalue;this.controls=a;avpw$("#avpw_greeneye_slider").slider({range:"min",value:d,max:20,min:3,slide:function(a,d){c.controls._drawUICircle("#avpw_greeneye_ui_circle",d.value,"#444")},change:function(a,d){c.controls.paintWidget.module_redeye.radius=d.value}});a._drawUICircle("#avpw_greeneye_ui_circle",d,"#444")},panelWillOpen:function(){this.controls.paintWidget.module_redeye.mode="greeneye"},shutdown:function(){this.controls=
null;avpw$("#avpw_greeneye_slider").unbind("slide");avpw$("#avpw_greeneye_slider").unbind("slidechange");avpw$("#avpw_greeneye_slider").slider({slide:null,change:null})}};
AV.ControlsWidget.prototype.tool.blemish={init:function(a){this.controls=a;var c=!1,d=AV.toolDefaults.blemish.initialvalue,c=!0;avpw$("#avpw_blemish_slider").slider({range:"min",value:d,max:20,min:3,slide:function(d,f){var j=f.value;c||a._drawUICircle("#avpw_blemish_ui_circle",j,"#444")},change:function(c,d){a.paintWidget.module_blemish.setRadius(d.value)}});c=!1},panelDidOpen:function(){this.controls.showFlashThumbs("blemish",!0);var a=avpw$("#avpw_blemish_slider").slider("value");this.controls.paintWidget.module_blemish.setRadius(a);
this.controls._drawUICircle("#avpw_blemish_ui_circle",a,"#444")},panelWillClose:function(){this.controls.showFlashThumbs("blemish",!1)},shutdown:function(){avpw$("#avpw_blemish_slider").unbind("slide");avpw$("#avpw_blemish_slider").unbind("slidechange");avpw$("#avpw_blemish_slider").slider({slide:null,change:null});this.controls=null}};
AV.ControlsWidget.prototype.tool.barrel={init:function(a){var c=this;this.controls=a;this.ignoreslider=this.dirty=!1;avpw$("#avpw_barrel_slider").slider({range:"min",max:100,min:-100,change:function(a,e){if(c.ignoreslider)return!0;avpw$("#avpw_barrel_slider").slider("option","value");c.controls.paintWidget.module_barrel.set(e.value,!0);c.dirty=!0}});avpw$("#avpw_barrel_thumb1").click(function(){avpw$("#avpw_barrel_slider").slider("value",-100)});avpw$("#avpw_barrel_thumb2").click(function(){avpw$("#avpw_barrel_slider").slider("value",
-33)});avpw$("#avpw_barrel_thumb3").click(function(){avpw$("#avpw_barrel_slider").slider("value",33)});avpw$("#avpw_barrel_thumb4").click(function(){avpw$("#avpw_barrel_slider").slider("value",100)})},commit:function(){this.controls.paintWidget.module_barrel.commit()},cancel:function(){this.controls.paintWidget.module_barrel.reset();this.resetUI();this.dirty=!1},panelWillClose:function(){if(this.dirty)this.commit(),this.dirty=!1},onUndo:function(){if(this.dirty)return this.cancel(),!1},onRedo:function(){this.dirty&&
this.cancel()},resetUI:function(){this.ignoreslider=!0;avpw$("#avpw_barrel_slider").slider("option","value",0);this.ignoreslider=!1;this.controls.paintWidget.module_barrel.makeThumb(avpw$("#avpw_barrel_thumb1")[0],-100);this.controls.paintWidget.module_barrel.makeThumb(avpw$("#avpw_barrel_thumb2")[0],-33);this.controls.paintWidget.module_barrel.makeThumb(avpw$("#avpw_barrel_thumb3")[0],33);this.controls.paintWidget.module_barrel.makeThumb(avpw$("#avpw_barrel_thumb4")[0],100)},shutdown:function(){this.controls=
null;avpw$("#avpw_barrel_slider").unbind("slidechange");avpw$("#avpw_barrel_slider").slider({slide:null,change:null});avpw$("#avpw_barrel_thumb1").unbind("click");avpw$("#avpw_barrel_thumb2").unbind("click");avpw$("#avpw_barrel_thumb3").unbind("click");avpw$("#avpw_barrel_thumb4").unbind("click")}};
AV.ControlsWidget.prototype.tool.sharpen={thumb1Hit:function(){avpw$("#avpw_sharpen_slider").slider("value",0)},thumb2Hit:function(){avpw$("#avpw_sharpen_slider").slider("value",33)},thumb3Hit:function(){avpw$("#avpw_sharpen_slider").slider("value",66)},thumb4Hit:function(){avpw$("#avpw_sharpen_slider").slider("value",100)},init:function(a){var c=this;this.controls=a;this.ignoreslider=this.dirty=!1;avpw$("#avpw_sharpen_slider").slider({range:"min",max:100,min:0,change:function(d,e){if(!c.ignoreslider)avpw$("#avpw_sharpen_slider").slider("option",
"value"),a.paintWidget.module_sharpen.set(e.value,!0),c.dirty=!0}});avpw$("#avpw_sharpen_thumb1").click(this.thumb1Hit);avpw$("#avpw_sharpen_thumb2").click(this.thumb2Hit);avpw$("#avpw_sharpen_thumb3").click(this.thumb3Hit);avpw$("#avpw_sharpen_thumb4").click(this.thumb4Hit)},commit:function(){this.controls.paintWidget.module_sharpen.commit()},cancel:function(){this.controls.paintWidget.module_sharpen.reset();this.resetUI();this.dirty=!1},panelWillOpen:function(){this.dirty=!1},panelDidOpen:function(){this.controls.showFlashThumbs("sharpen",
!0);AV.flashThumbSet.addListener("thumb1",this.thumb1Hit);AV.flashThumbSet.addListener("thumb2",this.thumb2Hit);AV.flashThumbSet.addListener("thumb3",this.thumb3Hit);AV.flashThumbSet.addListener("thumb4",this.thumb4Hit)},panelWillClose:function(){this.dirty&&this.commit();this.dirty=!1;this.controls.showFlashThumbs("sharpen",!1);AV.flashThumbSet.removeAllListeners()},onUndo:function(){if(this.dirty&&(this.cancel(),!AV__featherUseFlash))return!1},onRedo:function(){this.dirty&&this.cancel()},resetUI:function(){this.ignoreslider=
!0;avpw$("#avpw_sharpen_slider").slider("option","value",0);this.ignoreslider=!1;this.controls.paintWidget.module_sharpen.makeThumb(avpw$("#avpw_sharpen_thumb1")[0],0);this.controls.paintWidget.module_sharpen.makeThumb(avpw$("#avpw_sharpen_thumb2")[0],33);this.controls.paintWidget.module_sharpen.makeThumb(avpw$("#avpw_sharpen_thumb3")[0],67);this.controls.paintWidget.module_sharpen.makeThumb(avpw$("#avpw_sharpen_thumb4")[0],100)},shutdown:function(){avpw$("#avpw_sharpen_slider").unbind("slidechange");
avpw$("#avpw_sharpen_slider").slider({slide:null,change:null});avpw$("#avpw_sharpen_thumb1").unbind();avpw$("#avpw_sharpen_thumb2").unbind();avpw$("#avpw_sharpen_thumb3").unbind();avpw$("#avpw_sharpen_thumb4").unbind();this.controls=null}};
AV.ControlsWidget.prototype.tool.saturation={thumb1Hit:function(){avpw$("#avpw_saturation_slider").slider("value",0)},thumb2Hit:function(){avpw$("#avpw_saturation_slider").slider("value",66)},thumb3Hit:function(){avpw$("#avpw_saturation_slider").slider("value",133)},thumb4Hit:function(){avpw$("#avpw_saturation_slider").slider("value",200)},init:function(a){var c=this;this.ignoreslider=!1;this.controls=a;this.dirty=!1;avpw$("#avpw_saturation_slider").slider({range:"min",max:200,min:0,change:function(d,
e){if(c.ignoreslider)return!0;avpw$("#avpw_saturation_slider").slider("option","value");a.paintWidget.module_saturation.set(e.value/100,!0);c.dirty=!0}});avpw$("#avpw_saturation_thumb1").click(this.thumb1Hit);avpw$("#avpw_saturation_thumb2").click(this.thumb2Hit);avpw$("#avpw_saturation_thumb3").click(this.thumb3Hit);avpw$("#avpw_saturation_thumb4").click(this.thumb4Hit)},shutdown:function(){avpw$("#avpw_saturation_slider").unbind("slidechange");avpw$("#avpw_saturation_slider").slider({slide:null,
change:null});avpw$("#avpw_saturation_thumb1").unbind("click");avpw$("#avpw_saturation_thumb2").unbind("click");avpw$("#avpw_saturation_thumb3").unbind("click");avpw$("#avpw_saturation_thumb4").unbind("click");this.controls=null},commit:function(){this.controls.paintWidget.module_saturation.commit();return!1},cancel:function(){this.controls.paintWidget.module_saturation.reset();this.resetUI();return this.dirty=!1},panelDidOpen:function(){this.controls.showFlashThumbs("saturation",!0);AV.flashThumbSet.addListener("thumb1",
this.thumb1Hit);AV.flashThumbSet.addListener("thumb2",this.thumb2Hit);AV.flashThumbSet.addListener("thumb3",this.thumb3Hit);AV.flashThumbSet.addListener("thumb4",this.thumb4Hit)},panelWillClose:function(){if(this.dirty)this.commit(),this.dirty=!1;this.controls.showFlashThumbs("saturation",!1);AV.flashThumbSet.removeAllListeners()},onUndo:function(){if(this.dirty&&(this.cancel(),!AV__featherUseFlash))return!1},onRedo:function(){this.dirty&&this.cancel()},resetUI:function(){this.ignoreslider=!0;avpw$("#avpw_saturation_slider").slider("option",
"value",100);this.ignoreslider=!1;var a=this.controls.paintWidget.module_saturation;a.makeThumb(avpw$("#avpw_saturation_thumb1")[0],0);a.makeThumb(avpw$("#avpw_saturation_thumb2")[0],0.66);a.makeThumb(avpw$("#avpw_saturation_thumb3")[0],1.33);a.makeThumb(avpw$("#avpw_saturation_thumb4")[0],2)}};
AV.ControlsWidget.prototype.tool.brightness={thumb1Hit:function(){avpw$("#avpw_brightness_slider").slider("value",33)},thumb2Hit:function(){avpw$("#avpw_brightness_slider").slider("value",77)},thumb3Hit:function(){avpw$("#avpw_brightness_slider").slider("value",122)},thumb4Hit:function(){avpw$("#avpw_brightness_slider").slider("value",166)},init:function(a){var c=this;this.controls=a;this.dirty=this.ignoreslider=!1;avpw$("#avpw_brightness_slider").slider({range:"min",max:166,min:33,change:function(a,
e){if(c.ignoreslider)return!0;avpw$("#avpw_brightness_slider").slider("option","value");c.controls.paintWidget.module_brightness.set(e.value/100,1,!0);c.dirty=!0}});avpw$("#avpw_brightness_thumb1").click(this.thumb1Hit);avpw$("#avpw_brightness_thumb2").click(this.thumb2Hit);avpw$("#avpw_brightness_thumb3").click(this.thumb3Hit);avpw$("#avpw_brightness_thumb4").click(this.thumb4Hit)},commit:function(){this.controls.paintWidget.module_brightness.commit()},cancel:function(){this.controls.paintWidget.module_brightness.reset();
this.resetUI();this.dirty=!1},panelDidOpen:function(){this.controls.showFlashThumbs("brightness",!0);AV.flashThumbSet.addListener("thumb1",this.thumb1Hit);AV.flashThumbSet.addListener("thumb2",this.thumb2Hit);AV.flashThumbSet.addListener("thumb3",this.thumb3Hit);AV.flashThumbSet.addListener("thumb4",this.thumb4Hit)},panelWillClose:function(){if(this.dirty)this.commit(),this.dirty=!1;this.controls.showFlashThumbs("brightness",!1);AV.flashThumbSet.removeAllListeners()},onUndo:function(){if(this.dirty&&
(this.cancel(),!AV__featherUseFlash))return!1},onRedo:function(){this.dirty&&this.cancel()},resetUI:function(){this.ignoreslider=!0;avpw$("#avpw_brightness_slider").slider("option","value",100);this.ignoreslider=!1;this.controls.paintWidget.module_brightness.makeThumb(avpw$("#avpw_brightness_thumb1")[0],0.33,1);this.controls.paintWidget.module_brightness.makeThumb(avpw$("#avpw_brightness_thumb2")[0],0.77,1);this.controls.paintWidget.module_brightness.makeThumb(avpw$("#avpw_brightness_thumb3")[0],
1.22,1);this.controls.paintWidget.module_brightness.makeThumb(avpw$("#avpw_brightness_thumb4")[0],1.66,1)},shutdown:function(){this.controls=null;avpw$("#avpw_brightness_slider").unbind("slidechange");avpw$("#avpw_brightness_slider").slider({slide:null,change:null});avpw$("#avpw_brightness_thumb1").unbind("click");avpw$("#avpw_brightness_thumb2").unbind("click");avpw$("#avpw_brightness_thumb3").unbind("click");avpw$("#avpw_brightness_thumb4").unbind("click")}};
AV.ControlsWidget.prototype.tool.contrast={thumb1Hit:function(){avpw$("#avpw_contrast_slider").slider("value",33)},thumb2Hit:function(){avpw$("#avpw_contrast_slider").slider("value",77)},thumb3Hit:function(){avpw$("#avpw_contrast_slider").slider("value",122)},thumb4Hit:function(){avpw$("#avpw_contrast_slider").slider("value",166)},init:function(a){var c=this;this.controls=a;this.dirty=this.ignoreslider=!1;avpw$("#avpw_contrast_slider").slider({range:"min",max:166,min:33,change:function(a,e){if(c.ignoreslider)return!0;
avpw$("#avpw_contrast_slider").slider("option","value");c.controls.paintWidget.module_contrast.set(1,e.value/100,!0);c.dirty=!0}});avpw$("#avpw_contrast_thumb1").click(this.thumb1Hit);avpw$("#avpw_contrast_thumb2").click(this.thumb2Hit);avpw$("#avpw_contrast_thumb3").click(this.thumb3Hit);avpw$("#avpw_contrast_thumb4").click(this.thumb4Hit)},commit:function(){this.controls.paintWidget.module_contrast.commit()},cancel:function(){this.controls.paintWidget.module_contrast.reset();this.resetUI();this.dirty=
!1},panelDidOpen:function(){this.controls.showFlashThumbs("contrast",!0);AV.flashThumbSet.addListener("thumb1",this.thumb1Hit);AV.flashThumbSet.addListener("thumb2",this.thumb2Hit);AV.flashThumbSet.addListener("thumb3",this.thumb3Hit);AV.flashThumbSet.addListener("thumb4",this.thumb4Hit)},panelWillClose:function(){if(this.dirty)this.commit(),this.dirty=!1;this.controls.showFlashThumbs("contrast",!1);AV.flashThumbSet.removeAllListeners()},onUndo:function(){if(this.dirty&&(this.cancel(),!AV__featherUseFlash))return!1},
onRedo:function(){this.dirty&&this.cancel()},resetUI:function(){this.ignoreslider=!0;avpw$("#avpw_contrast_slider").slider("option","value",100);this.ignoreslider=!1;this.controls.paintWidget.module_contrast.makeThumb(avpw$("#avpw_contrast_thumb1")[0],1,0.33);this.controls.paintWidget.module_contrast.makeThumb(avpw$("#avpw_contrast_thumb2")[0],1,0.77);this.controls.paintWidget.module_contrast.makeThumb(avpw$("#avpw_contrast_thumb3")[0],1,1.22);this.controls.paintWidget.module_contrast.makeThumb(avpw$("#avpw_contrast_thumb4")[0],
1,1.66)},shutdown:function(){this.controls=null;avpw$("#avpw_contrast_slider").unbind("slidechange");avpw$("#avpw_contrast_slider").slider({slide:null,change:null});avpw$("#avpw_contrast_thumb1").unbind("click");avpw$("#avpw_contrast_thumb2").unbind("click");avpw$("#avpw_contrast_thumb3").unbind("click");avpw$("#avpw_contrast_thumb4").unbind("click")}};
AV.ControlsWidget.prototype.tool.blur={thumb1Hit:function(){avpw$("#avpw_blur_slider").slider("value",0)},thumb2Hit:function(){avpw$("#avpw_blur_slider").slider("value",5)},thumb3Hit:function(){avpw$("#avpw_blur_slider").slider("value",10)},thumb4Hit:function(){avpw$("#avpw_blur_slider").slider("value",15)},init:function(a){var c=this;this.controls=a;this.dirty=this.ignoreslider=!1;avpw$("#avpw_blur_slider").slider({range:"min",max:15,min:0,change:function(a,e){if(c.ignoreslider)return!0;avpw$("#avpw_blur_slider").slider("option",
"value");c.controls.paintWidget.module_blur.set(e.value,!0);c.dirty=!0}});avpw$("#avpw_blur_thumb1").click(this.thumb1Hit);avpw$("#avpw_blur_thumb2").click(this.thumb2Hit);avpw$("#avpw_blur_thumb3").click(this.thumb3Hit);avpw$("#avpw_blur_thumb4").click(this.thumb4Hit)},commit:function(){this.controls.paintWidget.module_blur.commit()},cancel:function(){this.controls.paintWidget.module_blur.reset();this.resetUI();this.dirty=!1},panelWillOpen:function(){this.dirty=!1},panelDidOpen:function(){this.controls.showFlashThumbs("blur",
!0);AV.flashThumbSet.addListener("thumb1",this.thumb1Hit);AV.flashThumbSet.addListener("thumb2",this.thumb2Hit);AV.flashThumbSet.addListener("thumb3",this.thumb3Hit);AV.flashThumbSet.addListener("thumb4",this.thumb4Hit)},panelWillClose:function(){if(this.dirty)this.commit(),this.dirty=!1;this.controls.showFlashThumbs("blur",!1);AV.flashThumbSet.removeAllListeners()},onUndo:function(){if(this.dirty&&(this.cancel(),!AV__featherUseFlash))return!1},onRedo:function(){this.dirty&&this.cancel()},resetUI:function(){this.ignoreslider=
!0;avpw$("#avpw_blur_slider").slider("option","value",0);this.ignoreslider=!1;this.controls.paintWidget.module_blur.makeThumb(avpw$("#avpw_blur_thumb1")[0],0);this.controls.paintWidget.module_blur.makeThumb(avpw$("#avpw_blur_thumb2")[0],2);this.controls.paintWidget.module_blur.makeThumb(avpw$("#avpw_blur_thumb3")[0],4);this.controls.paintWidget.module_blur.makeThumb(avpw$("#avpw_blur_thumb4")[0],6)},shutdown:function(){this.controls=null;avpw$("#avpw_blur_slider").unbind("slidechange");avpw$("#avpw_blur_slider").slider({slide:null,
change:null});avpw$("#avpw_blur_thumb1").unbind("click");avpw$("#avpw_blur_thumb2").unbind("click");avpw$("#avpw_blur_thumb3").unbind("click");avpw$("#avpw_blur_thumb4").unbind("click");this.controls=null}};
AV.ControlsWidget.prototype.tool.colors={init:function(a){var c=this;this.dirty=this.ignoresliders=!1;this.controls=a;avpw$("#avpw_r_slider").slider({range:"min",max:100,min:-100,change:function(d,e){if(c.ignoresliders)return!0;var f=avpw$("#avpw_g_slider").slider("option","value"),j=avpw$("#avpw_b_slider").slider("option","value");a.paintWidget.module_colors.set(e.value,f,j,!0);c.dirty=!0}});avpw$("#avpw_g_slider").slider({range:"min",max:100,min:-100,change:function(d,e){if(c.ignoresliders)return!0;
var f=avpw$("#avpw_r_slider").slider("option","value"),j=avpw$("#avpw_b_slider").slider("option","value");a.paintWidget.module_colors.set(f,e.value,j,!0);c.dirty=!0}});avpw$("#avpw_b_slider").slider({range:"min",max:100,min:-100,change:function(d,e){if(c.ignoresliders)return!0;var f=avpw$("#avpw_r_slider").slider("option","value"),j=avpw$("#avpw_g_slider").slider("option","value");a.paintWidget.module_colors.set(f,j,e.value,!0);c.dirty=!0}});avpw$("#avpw_color_reset").click(function(a,e){return c.cancel(a,
e)})},commit:function(){this.controls.paintWidget.module_colors.commit();return!1},cancel:function(){this.controls.paintWidget.module_colors.reset();this.resetUI();return this.dirty=!1},resetUI:function(){this.ignoresliders=!0;avpw$("#avpw_r_slider").slider("option","value",0);avpw$("#avpw_g_slider").slider("option","value",0);avpw$("#avpw_b_slider").slider("option","value",0);this.ignoresliders=!1},onUndo:function(){if(this.dirty)return this.cancel(),!1},onRedo:function(){this.dirty&&this.cancel()},
panelWillOpen:function(){this.ignoresliders=this.dirty=!1},panelWillClose:function(){if(this.dirty)this.commit(),this.dirty=!1},shutdown:function(){avpw$("#avpw_r_slider").unbind("slidechange");avpw$("#avpw_r_slider").slider({slide:null,change:null});avpw$("#avpw_g_slider").unbind("slidechange");avpw$("#avpw_g_slider").slider({slide:null,change:null});avpw$("#avpw_b_slider").unbind("slidechange");avpw$("#avpw_b_slider").slider({slide:null,change:null});avpw$("#avpw_color_reset").unbind("click");this.controls=
null}};
AV.ControlsWidget.prototype.tool.drawing={init:function(a){var c=this,d=AV.toolDefaults.drawing.width;this.uiCircleRadius=d/2;this.controls=a;this.ignoreslider=!1;this.ignoreslider=!0;avpw$("#avpw_drawing_width_slider").slider({range:"min",value:d,max:50,min:1,slide:function(a,d){var j;c.uiCircleRadius=d.value/2;j=c.controls.paintWidget.module_drawing.erase?"transparent":c.controls.paintWidget.module_drawing.color;this.ignoreslider||c.controls._drawUICircle("#avpw_drawing_ui_circle",c.uiCircleRadius,j,
j,c.controls.paintWidget.module_drawing.softness)},change:function(a,d){c.controls.paintWidget.module_drawing.setWidth(d.value)}});avpw$("#avpw_drawing_softness_slider").slider({range:"min",value:0,max:100,min:0,slide:function(a,d){var j;c.controls.paintWidget.module_drawing.setSoftness(d.value);j=c.controls.paintWidget.module_drawing.erase?"transparent":c.controls.paintWidget.module_drawing.color;this.ignoreslider||c.controls._drawUICircle("#avpw_drawing_ui_circle",c.uiCircleRadius,j,j,c.controls.paintWidget.module_drawing.softness)},
change:function(a,d){c.controls.paintWidget.module_drawing.setSoftness(d.value)}});this.ignoreslider=!1;avpw$("#avpw_draweraser_outer").click(function(){c.controls.paintWidget.module_drawing.erase?(avpw$("#avpw_draweraser").removeClass("avpw_selected"),c.controls.paintWidget.module_drawing.setErase(!1),avpw$("#avpw_drawing_color_selector").show(),c.controls._drawUICircle("#avpw_drawing_ui_circle",c.uiCircleRadius,c.controls.paintWidget.module_drawing.color,c.controls.paintWidget.module_drawing.color,
c.controls.paintWidget.module_drawing.softness)):(avpw$("#avpw_draweraser").addClass("avpw_selected"),c.controls.paintWidget.module_drawing.setErase(!0),avpw$("#avpw_drawing_color_selector").hide(),c.controls._drawUICircle("#avpw_drawing_ui_circle",c.uiCircleRadius,"white","transparent",c.controls.paintWidget.module_drawing.softness))});avpw$(".avpw_color_picker_drawing").click(function(a){a=a.currentTarget;a.id=="avpw_drawing_color_selector"||avpw$(a).parent().attr("id")=="avpw_drawing_color_selector"||
c.setColor(a)});this.doReset=!0},setColor:function(a){var c=avpw$(a).css("background-color");this.controls.paintWidget.module_drawing.setColor(c);var d=avpw$("#avpw_drawing_color_selector"),c=AV__color_is_light(c)?"#969696":"#fff";avpw$(d).detach();avpw$(d).css("border","1px solid "+c);avpw$(a).children(".avpw_relative100").append(d);avpw$(d).show();avpw$("#avpw_draweraser").removeClass("avpw_selected");this.controls.paintWidget.module_drawing.setErase(!1);this.controls._drawUICircle("#avpw_drawing_ui_circle",
this.uiCircleRadius,this.controls.paintWidget.module_drawing.color,this.controls.paintWidget.module_drawing.color,this.controls.paintWidget.module_drawing.softness);return!1},panelDidOpen:function(){this.controls.showFlashThumbs("drawing",!0);this.doReset?(this.controls.paintWidget.module_drawing.setWidth(AV.toolDefaults.drawing.width),this.controls.paintWidget.module_drawing.setSoftness(0),this.setColor(avpw$("#avpw_drawing_colors_white")),this.doReset=!1):AV__featherUseFlash&&this.controls.paintWidget.module_drawing.flashReset();
this.controls._drawUICircle("#avpw_drawing_ui_circle",this.uiCircleRadius,this.controls.paintWidget.module_drawing.color,this.controls.paintWidget.module_drawing.color,this.controls.paintWidget.module_drawing.softness);this.controls.paintWidget.setCurrentLayerByName("drawing");this.controls.paintWidget.module_drawing.erase?avpw$("#avpw_draweraser").addClass("avpw_selected"):avpw$("#avpw_draweraser").removeClass("avpw_selected");this.ignoreslider=!1},panelWillClose:function(){this.controls.showFlashThumbs("drawing",
!1)},shutdown:function(){this.controls=null;avpw$("#avpw_drawing_width_slider").unbind("slide");avpw$("#avpw_drawing_width_slider").unbind("slidechange");avpw$("#avpw_drawing_width_slider").slider({slide:null,change:null});avpw$("#avpw_draweraser_outer").unbind("click");avpw$(".avpw_colorpicker_drawing").unbind("click");avpw$("#avpw_drawing_softness_slider").unbind("slide");avpw$("#avpw_drawing_softness_slider").unbind("slidechange");avpw$("#avpw_drawing_softness_slider").slider({slide:null,change:null})}};
AV.ControlsWidget.prototype.tool.rotate={rotate0_flash:function(){this.controls.paintWidget.module_rotate90.rotate90(0,!0);this.controls.setMinWidth(this.controls.paintWidget.width)},rotate90_flash:function(){this.controls.paintWidget.module_rotate90.rotate90(90,!0);this.controls.setMinWidth(this.controls.paintWidget.width)},rotate180_flash:function(){this.controls.paintWidget.module_rotate90.rotate90(180,!0);this.controls.setMinWidth(this.controls.paintWidget.width)},rotate270_flash:function(){this.controls.paintWidget.module_rotate90.rotate90(270,
!0);this.controls.setMinWidth(this.controls.paintWidget.width)},init:function(a){var c=this;this.curRotation=0;this.controls=a;avpw$("#avpw_rotate0_thumb").click(function(){a.paintWidget.module_rotate90.rotate90(0-c.curRotation,!0);c.curRotation=0});avpw$("#avpw_rotate90_thumb").click(function(){a.paintWidget.module_rotate90.rotate90(90-c.curRotation,!0);c.curRotation=90});avpw$("#avpw_rotate180_thumb").click(function(){a.paintWidget.module_rotate90.rotate90(180-c.curRotation,!0);c.curRotation=180});
avpw$("#avpw_rotate270_thumb").click(function(){a.paintWidget.module_rotate90.rotate90(270-c.curRotation,!0);c.curRotation=270})},panelWillOpen:function(){this.curRotation=0},panelDidOpen:function(){this.controls.showFlashThumbs("rotate",!0);AV.flashThumbSet.addListener("thumb1",this.rotate0_flash.AV_bindInst(this));AV.flashThumbSet.addListener("thumb2",this.rotate90_flash.AV_bindInst(this));AV.flashThumbSet.addListener("thumb3",this.rotate180_flash.AV_bindInst(this));AV.flashThumbSet.addListener("thumb4",
this.rotate270_flash.AV_bindInst(this))},panelWillClose:function(){this.controls.showFlashThumbs("rotate",!1);AV.flashThumbSet.removeAllListeners()},resetUI:function(){this.controls.paintWidget.module_rotate90.makeThumb(avpw$("#avpw_rotate0_thumb")[0],0);this.controls.paintWidget.module_rotate90.makeThumb(avpw$("#avpw_rotate90_thumb")[0],90);this.controls.paintWidget.module_rotate90.makeThumb(avpw$("#avpw_rotate180_thumb")[0],180);this.controls.paintWidget.module_rotate90.makeThumb(avpw$("#avpw_rotate270_thumb")[0],
270)},shutdown:function(){avpw$("#avpw_rotate0_thumb").unbind();avpw$("#avpw_rotate90_thumb").unbind();avpw$("#avpw_rotate180_thumb").unbind();avpw$("#avpw_rotate270_thumb").unbind();this.controls=null}};
AV.ControlsWidget.prototype.tool.resize=function(){var a,c,d,e,f,j,k=function(){var c=a.paintWidget.getScaledSize();d.val(c.width);e.val(c.height);a.setImageScaledIndicator()},m=function(){var c,f=d.val(),j=e.val(),f=Math.max(1,f),j=Math.max(1,j);c=a.setActionListScaleFactor(Math.max(f,j));f/=c;j/=c;!isNaN(f)&&!isNaN(j)&&(a.paintWidget.module_resize.resize(f,j,!0),a.setMinWidth(f));a.setImageScaledIndicator();return!1},l=function(){var a=c.val(),f=a.indexOf("x");if(f!=-1){var j=a.substr(0,f),a=a.substr(f+
1),j=parseInt(j),a=parseInt(a);d.val(j);e.val(a);AV__checkbox_set("avpw_constrain_prop",!1);return!1}},p=function(){var j,k,l;f.attr("checked")&&AV_nextFrame(function(){k=d.val();j=k/a.paintWidget.width;l=Math.floor(a.paintWidget.height*j,10);l<1&&(l=1);e.val(l)},1);AV__dropdown_style_reset(c,!0)},q=function(){var e,j;f.attr("checked")&&AV_nextFrame(function(){e=avpw$("#avpw_resize_height").val();scale=e/a.paintWidget.height;j=Math.floor(a.paintWidget.width*scale,10);j<1&&(j=1);d.val(j)});AV__dropdown_style_reset(c,
!0)},v=function(){avpw$(this).attr("checked")&&(p(),AV__dropdown_style_reset(c,!0))};return{init:function(k){a=k;d=d||avpw$("#avpw_resize_width");d.keydown(p);e=e||avpw$("#avpw_resize_height");e.keydown(q);f=f||avpw$("#avpw_constrain_prop");f.click(v);j=j||avpw$("#avpw_resize_submit");j.click(m);c=c||avpw$("#avpw_resize_sizes");c.change(l)},panelWillOpen:function(){k();f.attr("checked")&&p();a.populateSizePulldownPresets(c)},onRedoComplete:function(){k()},onUndoComplete:function(){k()},shutdown:function(){d.unbind("keydown");
e.unbind("keydown");f.unbind("click");j.unbind("click");c.unbind("change");a=null}}}();
AV.ControlsWidget.prototype.tool.crop=function(){var a,c=0,d=!1,e="fixed",f="",j,k,m,l,p=function(a,c,f){f&&(!d||e==="fixed")&&AV__dropdown_style_reset(m,!1)},q=function(a){var d=c;c=a;switch(a){case 0:avpw$("#avpw_crop_body_checkbox").css("visibility","visible");l.html("<div>Crop</div>");avpw$("#avpw_crop_body_help_text").html(f);j.css("visibility","visible");AV__dropdown_style_reset(m,!0);break;case 1:avpw$("#avpw_crop_body_help_text").html("Your image was cropped."),l.html("<div>&nbsp;&nbsp;Crop&nbsp;Again&nbsp;&nbsp;</div>"),
avpw$("#avpw_crop_body_checkbox").css("visibility","hidden"),j.css("visibility","hidden")}return d},v=function(){var c=k[0].checked;a.paintWidget.module_crop.forceAspect(c);d=c},u=function(){switch(c){case 0:a.paintWidget.module_crop.crop();a.paintWidget.module_crop.hideSelection();a.setMinWidth(a.paintWidget.width);a.setImageScaledIndicator();q(1);break;case 1:a.paintWidget.module_crop.setInitialSelection(),avpw$("#avpw_crop_body_help_text").html(f),l.html("<div>Crop</div>"),avpw$("#avpw_crop_body_checkbox").css("visibility",
"visible"),q(0)}return!1},z=function(){var c=m.val(),d,f;if(c&&c!=="null"){var j=c.indexOf("x");f=!1;j!=-1?(e="fixed",d=c.substr(0,j),c=c.substr(j+1),d=parseInt(d),c=parseInt(c),d=a.paintWidget.a2c(d,!0),c=a.paintWidget.a2c(c,!0),a.paintWidget.module_crop.setInitialSelectionTo(d,c)):(j=c.indexOf(":"),j!=-1&&(e="ratio",d=c.substr(0,j),c=c.substr(j+1),f=parseInt(d),d=parseInt(c),a.paintWidget.module_crop.setInitialSelectionByRatio(f/d),f=!0));AV__checkbox_set("avpw_crop_prop",f);v()}return!1};return{init:function(e){a=
e;c=0;d=!1;f=avpw$("#avpw_crop_body_help_text").html();m=m||avpw$("#avpw_crop_sizes");m.change(z);l=l||avpw$("#avpw_crop_button");l.click(u);k=k||avpw$("#avpw_crop_prop");k.click(v);e.paintWidget.module_crop.setMouseDownCallback(p);j=j||avpw$("#avpw_crop_presets")},onUndo:function(){q(0)},onRedo:function(){q(0)},shutdown:function(){m.unbind("change");l.unbind("click");k.unbind("click");a.paintWidget.module_crop.setMouseDownCallback(null);a=null},panelWillOpen:function(){a.populateSizePulldownPresets(m,
"cursize");q(0);a.setImageScaledIndicator()},panelDidOpen:function(){AV__checkbox_set("avpw_crop_prop",!1);a.paintWidget.module_crop.forceAspect(!1);a.paintWidget.module_crop.setInitialSelection()}}}();
AV.ControlsWidget.prototype.tool.text={init:function(a){function c(){d.updateThumb()}var d=this;this.controls=a;this.textColor="#000";this.textShadowColor="#fff";this.firstTextTime=!0;avpw$("#avpw_text_font_size").change(c);avpw$("#avpw_text_font").change(c);avpw$("#avpw_text_area").keyup(function(){if(d.firstTextTime)avpw$("#avpw_text_area").val(""),d.firstTextTime=!1;d.updateThumb()});avpw$("#avpw_text_area").mousedown(function(){if(d.firstTextTime)avpw$("#avpw_text_area").val(""),d.firstTextTime=
!1,d.updateThumb()});avpw$(".avpw_color_picker_text").click(function(a){a=a.currentTarget;if(!(a.id=="avpw_text_color_selector"||avpw$(a).parent().attr("id")=="avpw_text_color_selector")){var c=avpw$(a).css("background-color"),j=avpw$(a).attr("shadowcolor");d.textColor=c;d.textShadowColor=j;d.updateThumb();j=avpw$("#avpw_text_color_selector");c=AV__color_is_light(c)?"#969696":"#fff";avpw$(j).detach();avpw$(j).css("border","1px solid "+c);avpw$(a).children(".avpw_relative100").append(j);return!1}});
avpw$("#avpw_add_text").click(function(){var a=avpw$("#avpw_text_font_size").val(),c=d.textColor,j=d.textShadowColor,k=avpw$("#avpw_text_font").val(),m=avpw$("#avpw_text_area").val();a==""&&(a=avpw$("#avpw_text_font_size").attr("value"));a==""&&(a="60");k==""&&(k=avpw$("#avpw_text_font").attr("value"));k==""&&(k="sans-serif");k=="sans-serif"&&(k='"Arial", sans-serif');a=parseFloat(a)/60;d.controls.paintWidget.module_text.newText(m,k,60,c,j,null,null,a,a,0);return!1});avpw$("#avpw_text_delete").click(function(){d.controls.paintWidget.module_text.deleteSelectedText();
return!1})},resetUI:function(){this.updateThumb()},updateThumb:function(){if(!AV__featherUseFlash){var a=avpw$("#avpw_text_thumb")[0],c=avpw$("#avpw_text_area").val(),d=avpw$("#avpw_text_font").val(),e=avpw$("#avpw_text_font_size").val(),f=""+e+"px "+d,d=a.getContext("2d");d.font=f;var c=c.split("\n"),j,f=e;d.globalCompositeOperation="copy";d.clearRect(0,0,a.width,a.height);d.globalCompositeOperation="source-over";a=e/19;a<1&&(a=1);for(j=0;j<c.length;j++)d.shadowColor=this.textShadowColor,d.shadowOffsetX=
a,d.shadowOffsetY=a,d.shadowBlur=a,d.fillStyle=this.textColor,d.fillText(c[j],0,f),f+=e}},shutdown:function(){this.controls=null;avpw$("#avpw_text_font_size").unbind("change");avpw$("#avpw_text_font").unbind("change");avpw$("#avpw_text_area").unbind();avpw$(".avpw_color_picker_text").unbind("click");avpw$("#avpw_add_text").unbind("click");avpw$("#avpw_text_delete").unbind("click")}};
AV.ControlsWidget.prototype.tool.overlay={init:function(a){this.stickerGroupIndex=0;var c=this;this.controls=a;avpw$("#avpw_overlay_delete").click(function(){c.controls.paintWidget.module_overlay.deleteSelectedOverlay();return!1});avpw$("#avpw_overlay_lftArrow").click(function(){c.scrollOverlayDir(-1);return!1});avpw$("#avpw_overlay_rghtArrow").click(function(){c.scrollOverlayDir(1);return!1});this.stickerLoadStarted={"default":!1}},panelWillOpen:function(){this.stickersLoad();this.scrollOverlay(!0)},
controlOverlayClicked:function(a){var c=a.currentTarget,d=avpw$(c).attr("fullimageurl");if(AV__featherUseFlash)this.controls.paintWidget.module_overlay.newOverlay_flash(d);else{var e=this.controls,f,j,k=this;this.controls.paintWidget.overlayRegistry.getClean(d)?this.controls.paintWidget.module_overlay.newOverlay(d):(avpw$(c).unbind("mousedown"),avpw$(c).parent().children(".avpw_isa_overlay_waiter").show(),setTimeout(function(){avpw$.ajax({type:"GET",dataType:"json",url:AV__jsonp_imgserver+"?callback=?",
data:{url:escape(d)},success:function(a){j=document.createElement("img");j.fullimageurl=d;avpw$(j).attr("src",a.data);f=function(){avpw$(j).unbind("load",f);e.paintWidget.overlayRegistry.add(d,j);avpw$(c).draggable({revert:!0,revertDuration:0,helper:"clone",appendTo:"body",zIndex:10001});avpw$(c).click(k.controlOverlayClicked.AV_bindInst(k));e.paintWidget.module_overlay.newOverlay(d);avpw$(c).parent().children(".avpw_isa_overlay_waiter").hide()};avpw$(j).load(f)}})},5));return!1}},stickersLoad:function(){var a=
AV_launchData.stickers,c="default";if(a[this.stickerGroupIndex]&&a[this.stickerGroupIndex].contents)c=a[this.stickerGroupIndex],a=c.contents,c=c.label;var d,e,f,j,k,m,l="";this.overlayCount=a.length;this.overlayDownloadCount=0;this.overlayThumbImages=[];this.overlayColsPerPage=4;this.overlayRowsPerPage=this.controls.layoutNotify(Feather_OpenType,"getStickerRowsPerPage");this.overlayPerPage=this.overlayRowsPerPage*this.overlayColsPerPage;this.overlayPages=parseInt((this.overlayCount-1)/this.overlayPerPage)+
1;this.overlayCurrentPage=0;if(!this.stickerLoadStarted[c]){this.stickerLoadStarted[c]=!0;avpw$("#avpw_sticker_group_name").html(c==="default"?"Stickers":c);if(this.overlayCount>0){avpw$("#avpw_overlay_progress_holder").hide();avpw$("#avpw_overlay_images_scroll_window").show();for(j=d=0;j<this.overlayPages;j++){l+='<div class="avpw_overlay_page">';for(e=0;e<this.overlayRowsPerPage&&d<this.overlayCount;e++){l+='<div class="avpw_overlay_row">';for(f=0;f<this.overlayColsPerPage&&d<this.overlayCount;f++)k=
a[d][0],m=a[d][1],l+='<div class="avpw_overlay_icon_text_holder">',l+='<div class="avpw_control_selector_overlay_icon avpw_isa_control_selector_overlay" fullimageurl="'+k+'">',l+='<img src="'+m+'" fullimageurl="'+k+'"></img>',l+="</div>",l+='<div class="avpw_control_selector_overlay_wait_icon avpw_isa_overlay_waiter">',l+="<div>",l+='<img src="'+AV_feather_baseURL+"images/eggthrobber-"+AV_theme+'.gif"></img>',l+="</div>",l+="</div>",l+="</div>",d++;l+="</div>"}l+="</div>"}avpw$("#avpw_overlay_images_scroll_region").html(l);
avpw$("#avpw_overlay_images_scroll_region .avpw_isa_overlay_waiter").hide();avpw$(".avpw_isa_control_selector_overlay").mousedown(this.controlOverlayClicked.AV_bindInst(this));overlayPipsHTML="";for(d=0;d<this.overlayPages;d++)overlayPipsHTML+='<li class="avpw_is_overlay_navpip" pagenum="'+d+'" id="avpw_overlay_navpip_'+d+'"><a href="#"></a></li>\n';avpw$("#avpw_overlay_pager ul").html(overlayPipsHTML);this.setOverlayNavPip(this.overlayCurrentPage);avpw$(".avpw_is_overlay_navpip").click(function(a){this.scrollOverlayTo(avpw$(a.currentTarget).attr("pagenum"));
return!1}.AV_bindInst(this));this.overlayPanelWidthPx=parseInt(avpw$(".avpw_overlay_page").css("width"));this.scrollOverlay(!0)}else this.overlayDownloadCount=this.overlayCount=0,this.overlayPages=1,avpw$("#avpw_overlay_images_scroll_region").html("No stickers defined in Feather_Stickers");this.stickerLoadStarted[c]=!1}},scrollOverlayTo:function(a){this.overlayCurrentPage=parseInt(a);this.scrollOverlay()},scrollOverlayDir:function(a){this.overlayCurrentPage+=a;this.scrollOverlay()},scrollOverlay:function(a){var c,
d=avpw$("#avpw_overlay_images_scroll_window");if(this.overlayCurrentPage<0)this.overlayCurrentPage=0;else if(this.overlayCurrentPage>this.overlayPages-1)this.overlayCurrentPage=this.overlayPages-1;c=this.overlayCurrentPage*this.overlayPanelWidthPx;a?avpw$(d).animate({scrollLeft:c},1):avpw$(d).animate({scrollLeft:c},300);this.setOverlayNavPip(this.overlayCurrentPage);this.overlayCurrentPage==0?(avpw$("#avpw_overlay_lftArrow").addClass("avpw_overlay_prev_disabled"),avpw$("#avpw_overlay_lftArrow").removeClass("avpw_overlay_prev_enabled")):
(avpw$("#avpw_overlay_lftArrow").removeClass("avpw_overlay_prev_disabled"),avpw$("#avpw_overlay_lftArrow").addClass("avpw_overlay_prev_enabled"));this.overlayCurrentPage==this.overlayPages-1?(avpw$("#avpw_overlay_rghtArrow").addClass("avpw_overlay_next_disabled"),avpw$("#avpw_overlay_rghtArrow").removeClass("avpw_overlay_next_enabled")):(avpw$("#avpw_overlay_rghtArrow").removeClass("avpw_overlay_next_disabled"),avpw$("#avpw_overlay_rghtArrow").addClass("avpw_overlay_next_enabled"))},setOverlayNavPip:function(a){avpw$(".avpw_is_overlay_navpip").removeClass("avpw_page_selected");
avpw$("#avpw_overlay_navpip_"+a).addClass("avpw_page_selected")},shutdown:function(){this.controls=null;avpw$("#avpw_overlay_delete").unbind("click");avpw$(".avpw_isa_control_selector_overlay").unbind();avpw$(".avpw_isa_control_selector_overlay").remove();avpw$("#avpw_overlay_lftArrow").unbind("click");avpw$("#avpw_overlay_rghtArrow").unbind("click");avpw$(".avpw_is_overlay_navpip").unbind("click");avpw$("#avpw_overlay_images_scroll_region").html("")}};
AV.ControlsWidget.prototype.layout.popup={onClose:function(){},onShutdown:function(){var a=avpw$("#avpw_canvas_embed_popup");avpw$(a).children().remove();avpw$(a).hide();avpw$("#"+AV_controlsWidget.paintImgId).show();avpw$(AV_getImageElem(AV_controlsWidget.paintImgIdElem)).show()},placeControls:function(){},hideOriginalImage:function(a){avpw$(a).hide()},getScrollPanelDims:function(){return{across:4,down:2}},getStickerRowsPerPage:function(){return 3},getEmbedElement:function(a){return AV_paintWidgetGetPopupEmbedDiv(a)},
onLaunch:function(){avpw$("#avpw_controls").draggable({handle:"#avpw_drag_handle",cursor:"pointer"})},getScaledImageDims_Flash:function(a,c){return{width:c.width,height:c.height}},placeControls_Flash:function(){},launchStage2_Flash:function(){}};
AV.ControlsWidget.prototype.layout.lightbox={onClose:function(a){a?avpw$("#avpw_fullscreen_bg").hide():avpw$("#avpw_fullscreen_bg").fadeOut(300)},onShutdown:function(){var a=avpw$("#avpw_canvas_embed");avpw$(a).children().remove();avpw$(a).hide()},placeControls:function(){avpw$("#avpw_fullscreen_bg").fadeIn(300)},getScrollPanelDims:function(){return{across:4,down:4}},getStickerRowsPerPage:function(){return 4},getEmbedElement:function(){return avpw$("#avpw_canvas_embed")},getScaledImageDims_Flash:function(a,
c){var d;d=AV_controlsWidget.getScaledDims(c.width,c.height);avpw$(a).width(c.width);avpw$(a).height(c.height);return d},placeControls_Flash:function(){var a=AV__getInternetExplorerVersion();a>0&&a<9&&(avpw$("#avpw_fullscreen_bg").width(avpw$(document).width()),avpw$("#avpw_fullscreen_bg").height(avpw$(document).height()),avpw$("#avpw_fullscreen_bg").css("filter","alpha(opacity=80)"))},launchStage2_Flash:function(){avpw$("#avpw_canvas_embed").width("auto");avpw$("#avpw_canvas_embed").height("auto")}};
AV.ControlsWidget.prototype.layout.inject={onClose:function(){},onShutdown:function(){return AV_controlsWidget.layoutNotify("lightbox","onShutdown",arguments)},placeControls:function(a){avpw$("#"+a).append(avpw$("#avpw_holder"));avpw$("#avpw_holder").css("position","relative");avpw$("#avpw_holder").css("text-align","inherit");avpw$("#avpw_controls").css("position","relative");avpw$("#avpw_controls").css("text-align","inherit");avpw$("#avpw_controls").css("top","inherit")},getScrollPanelDims:function(){return{across:4,
down:4}},getStickerRowsPerPage:function(){return 4},getEmbedElement:function(){return AV_controlsWidget.layoutNotify("lightbox","getEmbedElement",arguments)},getScaledImageDims_Flash:function(){return AV_controlsWidget.layoutNotify("lightbox","getScaledImageDims_Flash",arguments)},placeControls_Flash:function(a){var c=AV__getInternetExplorerVersion();avpw$("#"+a).append(avpw$("#avpw_holder"));avpw$("#avpw_holder").css("position","relative");avpw$("#avpw_controls").css("position","relative");if(c<
0||c>=8)avpw$("#avpw_controls").css("top","inherit"),avpw$("#avpw_controls").css("left","inherit"),avpw$("#avpw_holder").css("text-align","inherit"),avpw$("#avpw_controls").css("text-align","inherit")},launchStage2_Flash:function(){return AV_controlsWidget.layoutNotify("lightbox","launchStage2_Flash",arguments)}};
AV.ControlsWidget.prototype.save=function(a){if(AV_controlsWidget.loaderPhase<2)return!1;if(this.saving)return!1;this.showView("main");this.setPanelMode(null);this.paintWidget.setMode(null);this.saving=!0;AV.prevActionList=this.paintWidget.actionExportJSON(!0);if(AV__featherUseFlash)return this.save_Flash(a);return this.save_HTML(a)};AV.ControlsWidget.prototype.save_Flash=function(){Aviary.API.save();return!1};
AV.ControlsWidget.prototype.save_HTML=function(){function a(){var a="avpw_img_submit_target_"+Math.floor(Math.random()*4294967295).toString(16);avpw$("#avpw_img_submit_target_holder").html(AV.buildHiddenFrame("avpw_img_submit_target",a));avpw$("#avpw_save_form").attr("target",a);avpw$("#avpw_img_submit_target").load(function(){this.saveCallback_form(a)}.AV_bindInst(c));avpw$("#avpw_save_form_data").val(d);avpw$("#avpw_save_form_postdata").val(c.postdata);avpw$("#avpw_save_form_posturl").val(AV_launchData.postURL);
avpw$("#avpw_save_form_apikey").val(AV_launchData.APIKey);avpw$("#avpw_save_form_sessionid").val(AV.usageTracker.getUUID());avpw$("#avpw_save_form_actionlist").val(c.paintWidget.actionExportJSON(!0));avpw$("#avpw_save_form_origurl").val(c.origURL);avpw$("#avpw_save_form_hiresurl").val(AV_launchData.hiResURL);avpw$("#avpw_save_form_fileformat").val(AV_launchData.fileFormat);avpw$("#avpw_save_form_jpgquality").val(AV_launchData.jpgQuality);avpw$("#avpw_save_form_debug").val(AV_launchData.debug);avpw$("#avpw_save_form_asyncsave").val(AV_launchData.asyncSave);
avpw$("#avpw_save_form").submit()}var c=this,d=this.paintWidget.exportImage().base64data;this.paintWidget.showWaitThrobber(!0,function(){avpw$.support.cors&&(!AV.firefox||AV.firefox>=4)?AV.simpleXHRPost(AV_imgrecvServer,{postdata:c.postdata,posturl:AV_launchData.postURL,apikey:AV_launchData.APIKey,sessionid:AV.usageTracker.getUUID(),actionlist:c.paintWidget.actionExportJSON(!0),origurl:c.origURL,encodedas:"base64text",hiresurl:AV_launchData.hiResURL,contenttype:AV_launchData.fileFormat,jpgquality:AV_launchData.jpgQuality,
debug:AV_launchData.debug,asyncsave:AV_launchData.asyncSave,file:d},c.saveCallback_XHR.AV_bindInst(c))||a():a()});return!1};AV.ControlsWidget.prototype.saveCallback_form=function(a){this.paintWidget&&(this.paintWidget.showWaitThrobber(!1),window.avpw_img_submit_target_announcer.postMessage("avpw_load:"+a,"*"))};
AV.ControlsWidget.prototype.saveCallback_XHR=function(a){this.paintWidget.showWaitThrobber(!1);var c=avpw$(a).find("error");c.length>0?alert("file submission error: "+c.text()):(a=avpw$(a).find("url").text(),a=a.replace(/^\s+|\s+$/g,""),c=avpw$(AV_getImageElem(this.paintImgIdElem)),c.src=a,c.avpw_prevURL=a,AV__controlsWidget_onImageSaved(a))};
AV.ControlsWidget.prototype.showAreYouSure=function(){this.showView("main");this.setPanelMode(null);this.paintWidget.setMode(null);this.setLastPanel("avpw_aviary_quitareyousure");setTimeout(function(){this.scrollPanelInfo.prevPanel=this.scrollPanelInfo.curPanel;this.scrollMainTo(this.scrollPanelInfo.panelCount-1)}.AV_bindInst(this),5)};AV.ControlsWidget.prototype.cancel=function(){this.quitCount++;this.quitCount==1&&this.paintWidget.dirty?this.showAreYouSure():AV_paintWidgetCloser();return!1};
AV.ControlsWidget.prototype.undo=function(){if(this.paintWidget.busy)return!1;if(this.moduleNotify(this.curMode,"onUndo")===!1)return!1;this.paintWidget.undo();this.setMinWidth(this.paintWidget.width);this.moduleNotify(this.curMode,"onUndoComplete");return!1};
AV.ControlsWidget.prototype.redo=function(){if(this.paintWidget.busy)return!1;if(this.moduleNotify(this.curMode,"onRedo")===!1)return!1;this.paintWidget.redo();this.setMinWidth(this.paintWidget.width);this.moduleNotify(this.curMode,"onRedoComplete");return!1};AV.ControlsWidget.prototype._resetUI=function(a){this.moduleNotify(a,"resetUI")};
AV.ControlsWidget.prototype.getScaledDims=function(a,c){var d;if(a>this.maxWidth)d=this.maxWidth/a,a=this.maxWidth,c*=d;if(c>this.maxHeight)d=this.maxHeight/c,c=this.maxHeight,a*=d;return{width:a,height:c}};
AV__checkbox_style_startup=function(){var a=function(a){a=a.currentTarget;a.avpw_checkboxpeer.checked=!a.avpw_checkboxpeer.checked;avpw$(a.avpw_checkboxpeer).triggerHandler("click");AV__styledcheckbox_setbg(a,a.avpw_checkboxpeer.checked)},c=avpw$("#avpw_controls input[type=checkbox]");avpw$(c).each(function(c,e){if(!(e.avpw_styledcheckboxpeer!==void 0&&e.avpw_styledcheckboxpeer)){var f=document.createElement("div");f.avpw_checkboxpeer=e;f.avpw_checkboxpeer_display=avpw$(e).css("display");avpw$(f).addClass("avpw__is_styled_checkbox");
AV__styledcheckbox_setbg(f,f.avpw_checkboxpeer.checked);avpw$(f).click(a);avpw$(e).before(f);avpw$(e).css("display","none");e.avpw_styledcheckboxpeer=f}})};AV__styledcheckbox_setbg=function(a,c){c?(avpw$(a).removeClass("avpw__is_styled_checkbox_unchecked"),avpw$(a).addClass("avpw__is_styled_checkbox_checked")):(avpw$(a).removeClass("avpw__is_styled_checkbox_checked"),avpw$(a).addClass("avpw__is_styled_checkbox_unchecked"))};
AV__checkbox_set=function(a,c){if(avpw$("#"+a).attr("checked")!=c){var d=avpw$("#"+a)[0].avpw_styledcheckboxpeer;avpw$(d).trigger("click")}};AV__checkbox_style_shutdown=function(){var a=avpw$(".avpw__is_styled_checkbox");avpw$(a).each(function(a,d){d.avpw_checkboxpeer.avpw_styledcheckboxpeer=null;avpw$(d.avpw_checkboxpeer).css("display",d.avpw_checkboxpeer_display);avpw$(d).unbind("click");avpw$(d).detach();d.avpw_checkboxpeer=null})};
AV__xml_escape=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};function AV__dropdown_style_window_mouseup_handler(){avpw$(".avpw_dropdown .avpw_dropdown_body_wrapper").css("display","none");return!0}
function AV__dropdown_style_startup(){function a(a){a=avpw$(a.target).parents(".avpw_dropdown").children(".avpw_dropdown_body_wrapper");avpw$(a).css("display")=="none"?avpw$(a).css("display","block"):avpw$(a).css("display","none");return!1}avpw$(document).mouseup(AV__dropdown_style_window_mouseup_handler);avpw$(".avpw_dropdown .avpw_dropdown_header_wrapper").mousedown(a);avpw$(".avpw_dropdown .avpw_dropdown_header_wrapper").click(a);avpw$(".avpw_dropdown .avpw_dropdown_header_wrapper").mouseup(function(){avpw$(".avpw_dropdown .avpw_dropdown_body_wrapper").css("display",
"none");return!1});avpw$(".avpw_dropdown .avpw_dropdown_body_wrapper").mouseup(function(a){var d=avpw$(a.target).parents(".avpw_dropdown"),e=avpw$(a.target).attr("value");e&&(avpw$(d).val(e),avpw$(d).trigger("change"),avpw$(d).find(".avpw_dropdown_header_text").html(avpw$(a.target).html()));a=avpw$(d).children(".avpw_dropdown_body_wrapper");avpw$(a).css("display","none");return!1});avpw$(".avpw_dropdown_body_entry").mouseenter(function(a){avpw$(a.currentTarget).addClass("avpw_dropdown_hover")});avpw$(".avpw_dropdown_body_entry").mouseleave(function(a){avpw$(a.currentTarget).removeClass("avpw_dropdown_hover")})}
function AV__dropdown_style_reset(a,c){var d=a.find(".avpw_dropdown_body_entry"),e=d.attr("value");a.val(e);c&&a.trigger("change");a.find(".avpw_dropdown_header_text").html(d.html())}
function AV__dropdown_style_shutdown(){avpw$(window).unbind("mouseup",AV__dropdown_style_window_mouseup_handler);avpw$(".avpw_dropdown .avpw_dropdown_header_wrapper").unbind("mousedown");avpw$(".avpw_dropdown .avpw_dropdown_header_wrapper").unbind("click");avpw$(".avpw_dropdown .avpw_dropdown_header_wrapper").unbind("mouseup");avpw$(".avpw_dropdown .avpw_dropdown_body_wrapper").unbind("mouseup");avpw$(".avpw_dropdown_body_entry").unbind("mouseenter");avpw$(".avpw_dropdown_body_entry").unbind("mouseleave")}
function AV__color_is_light(a){return a=="#fff"||a=="#ffffff"||a=="rgb(255, 255, 255)"}function AV__color_is_white(a){a=a.toLowerCase();return a=="#fff"||a=="#ffffff"||a=="white"||a=="rgb(255, 255, 255)"}function AV__color_expand(a){a.length==4&&(r=a.charAt(1),g=a.charAt(2),b=a.charAt(3),a="#"+r+r+g+g+b+b);return a}
function AV__color_to_rgb(a){var c,d;a.charAt(0)=="#"&&(a=AV__color_expand(a),c=parseInt(a.substr(1,2),16),d=parseInt(a.substr(3,2),16),a=parseInt(a.substr(5,2),16),a="rgb("+c+","+d+","+a+")");return a}function AV__rgb_to_color(a){var c,d;if(d=a.match(/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)/))return a=parseInt(d[1]).toString(16),a.length==1&&(a="0"+a),c=parseInt(d[2]).toString(16),c.length==1&&(c="0"+c),d=parseInt(d[3]).toString(16),d.length==1&&(d="0"+d),"#"+a+c+d;return a}
function AV__color_to_int(a){a=AV__color_expand(a);a=AV__rgb_to_color(a);return parseInt(a.substr(1),16)}function AV_FlashThumbClickCallback(a){AV.flashThumbSet.doCallbacks(a)}
AV.flashThumbSet={listenerList:{},addListener:function(a,c){this.listenerList.hasOwnProperty(a)||(this.listenerList[a]=[]);this.listenerList[a].push(c)},removeAllListeners:function(){this.listenerList={}},doCallbacks:function(a){var c,d;if(this.listenerList.hasOwnProperty(a)){d=this.listenerList[a];for(c=0;c<d.length;c++)d[c](a)}},shutdown:function(){this.removeAllListeners()}};typeof AV=="undefined"&&(AV={});var AV__feather_loaded=!1,AV__feather_loading=!1;typeof AV_feather_baseURL=="undefined"&&(AV_feather_baseURL="");typeof AV_imgrecvServer=="undefined"&&(AV_imgrecvServer="imgrecvserver.cgi");typeof AV_imgrecvBase=="undefined"&&(AV_imgrecvBase="");typeof AV_imgtrackServer=="undefined"&&(AV_imgtrackServer="imgtrackserver.cgi");typeof AV__featherTargetAnnounce=="undefined"&&(AV__featherTargetAnnounce="feather_target_announce.html");
typeof AV__featherFilterAnnounce=="undefined"&&(AV__featherFilterAnnounce="feather_filter_announce.html");typeof AV_version=="undefined"&&(AV_version="");typeof AV_betaversion=="undefined"&&(AV_betaversion="");typeof Feather_ForceFlash!="undefined"&&(AV_Feather_ForceFlash=Feather_ForceFlash);AV_theme=typeof Feather_Theme=="undefined"?"bluesky":Feather_Theme;typeof Feather_OpenType=="undefined"&&(Feather_OpenType="popup");
Function.prototype.AV_bindInst=function(a){var c=this;return function(){return c.apply(a,arguments)}};function AV_getX(a){for(var c=0;a!=null;)c+=a.offsetLeft,a=a.offsetParent;return c}function AV_getY(a){for(var c=0;a!=null;)c+=a.offsetTop,a=a.offsetParent;return c}
function AV__injectControls(){var a,c;c=['<div id="avpw_save_container"><div id="avpw_save_button" class="avpw_shadow_save"><a href="#"> </a></div>','<form id="avpw_save_form" enctype="multipart/form-data" action="'+AV_imgrecvServer+'" method="POST" target="avpw_img_submit_target">','<input id="avpw_save_form_posturl" type="hidden" name="posturl" value=""></input><input id="avpw_save_form_postdata" type="hidden" name="postdata" value=""></input><input id="avpw_save_form_apikey" type="hidden" name="apikey" value=""></input><input id="avpw_save_form_data" type="hidden" name="file" value=""></input><input id="avpw_save_form_sessionid" type="hidden" name="sessionid" value=""></input><input id="avpw_save_form_actionlist" type="hidden" name="actionlist" value=""></input><input id="avpw_save_form_origurl" type="hidden" name="origurl" value=""></input><input id="avpw_save_form_hiresurl" type="hidden" name="hiresurl" value=""></input><input type="hidden" name="encodedas" value="base64text"></input><input id="avpw_save_form_fileformat" type="hidden" name="fileformat" value=""></input><input id="avpw_save_form_jpgquality" type="hidden" name="jpgquality" value=""></input><input id="avpw_save_form_debug" type="hidden" name="debug" value=""></input><input id="avpw_save_form_asyncsave" type="hidden" name="asyncsave" value=""></input></form></div>'].join("");
Feather_OpenType=="popup"?a="":(a=c,c="");a=['<div style="display:none;" title="Close existing image editor?" id="avpw_confirm_close_existing_dialog">There is another image editing window open.  Close itwithout saving and continue?</div><div id="avpw_fullscreen_bg" style="display: none;"></div><div style="display:none;" id="avpw_controls" class="avpw_controls_main_bg"><div id="avpw_drag_handle"></div><div id="avpw_controls_2" class="avpw_shadow2 avpw_controls_main_bg_hd"><div id="avpw_clouds"></div><div id="avpw_mountains"><div></div></div><div id="avpw_control_cancel_pane"><a id="avpw_control_cancel" href="#">&nbsp;</a></div><div id="avpw_rightbevel"></div><div id="avpw_topleft_corner"></div><div id="avpw_topright_corner"></div><div id="avpw_topbevel"><div></div></div><div id="avpw_header_wrapper"><div id="avpw_header"><a href="#"> </a></div></div><div id="avpw_control_undo"><a href="#"> </a></div><div id="avpw_control_redo"><a href="#"> </a></div>',
'<div id="avpw_version">'+AV_betaversion+"</div>",'<div id="avpw_wrapper_1"><div id="avpw_photo_content"><div id="avpw_photo_content_2" class="avpw_cardboard"><div id="avpw_canvas_embed" class="avpw_white_1px_border "></div></div></div><div id="avpw_tool_content_wrapper"><div id="avpw_flashthumb_corral"><div id="thumb1Content"></div><div id="thumb2Content"></div><div id="thumb3Content"></div><div id="thumb4Content"></div></div><div id="avpw_tool_content"><div id="avpw_tool_main_container" class="avpw_icon_container_style"><div class="avpw_tool_main_left_bevel"></div><div class="avpw_tool_main_right_bevel"></div><div id="avpw_control_main"><div id="avpw_control_main_scroll_panel"><div id="avpw_control_main_scrolling_region"></div></div><div id="avpw_lftArrow"><a href="#">&nbsp;</a></div><div id="avpw_rghtArrow"><a href="#">&nbsp;</a></div><div id="avpw_tools_pager" class="avpw_options_pager"><ul></ul><div class="avpw_clear"></div></div></div><div id="avpw_filter_control_main"></div></div><div id="avpw_tool_options_container" class="avpw_controlpanel_container_style" style="display:none;"><div class="avpw_tool_main_left_bevel"></div><div class="avpw_tool_main_right_bevel"></div><div id="avpw_control_upper"><div id="awpw_tool_properties_title"><div id="avpw_all_effects"><a href="#"> </a></div><div class="avpw_clear"></div></div><div id="avpw_controlpanel_brightness" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Brightness</h2></div></div><div class="avpw_thumb_and_slider avpw_big_egg_slider"><div id="avpw_brightness_thumbnails" class=""><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_brightness_thumb1" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_brightness_thumb2" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_brightness_thumb3" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_brightness_thumb4" width="46" height="46"></canvas></div><div class="avpw_briconsat_slider" id="avpw_brightness_slider"><div class="avpw_plus"></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_contrast" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Contrast</h2></div></div><div class="avpw_thumb_and_slider avpw_big_egg_slider"><div id="avpw_contrast_thumbnails" class=""><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_contrast_thumb1" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_contrast_thumb2" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_contrast_thumb3" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_contrast_thumb4" width="46" height="46"></canvas></div><div class="avpw_briconsat_slider" id="avpw_contrast_slider"><div class="avpw_plus"></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_saturation" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Saturation</h2></div></div><div class="avpw_thumb_and_slider avpw_big_egg_slider"><div id="avpw_saturation_thumbnails" class=""><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_saturation_thumb1" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_saturation_thumb2" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_saturation_thumb3" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_saturation_thumb4" width="46" height="46"></canvas></div><div class="avpw_briconsat_slider" id="avpw_saturation_slider"><div class="avpw_plus"></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_blur" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Blur</h2></div></div><div class="avpw_thumb_and_slider avpw_big_egg_slider"><div id="avpw_blur_thumbnails" class=""><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_blur_thumb1" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_blur_thumb2" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_blur_thumb3" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_blur_thumb4" width="46" height="46"></canvas></div><div class="avpw_briconsat_slider" id="avpw_blur_slider"><div class="avpw_plus"></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_barrel" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Bulge/Pinch</h2></div></div><div class="avpw_thumb_and_slider avpw_big_egg_slider"><div id="avpw_barrel_thumbnails" class=""><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_barrel_thumb1" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_barrel_thumb2" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_barrel_thumb3" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_barrel_thumb4" width="46" height="46"></canvas></div><div class="avpw_briconsat_slider" id="avpw_barrel_slider"><div class="avpw_plus"></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_sharpen" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Sharpen</h2></div></div><div class="avpw_thumb_and_slider avpw_big_egg_slider"><div id="avpw_sharpen_thumbnails" class=""><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="46" height="46" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_sharpen_thumb1" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_sharpen_thumb2" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_sharpen_thumb3" width="46" height="46"></canvas><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_sharpen_thumb4" width="46" height="46"></canvas></div><div class="avpw_briconsat_slider" id="avpw_sharpen_slider"><div class="avpw_plus"></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_rotate" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Rotate</h2></div></div><div id="avpw_rotate_thumbnails"><div><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_rotate0_thumb" width="85" height="85"></canvas>&nbsp;<img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_rotate90_thumb" width="85" height="85"></canvas></div><div><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_rotate180_thumb" width="85" height="85"></canvas>&nbsp;<img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_rotate270_thumb" width="85" height="85"></canvas></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_flip" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Flip</h2></div></div><div id="avpw_flip_thumbnails"><div><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_flip_none_thumb" width="85" height="85"></canvas>&nbsp;<img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_flip_horizontal_thumb" width="85" height="85"></canvas></div><div><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_flip_vertical_thumb" width="85" height="85"></canvas>&nbsp;<img src="__FEATHER_BASE_URL__images/trans1x1.png" width="85" height="85" class="avpw_flashthumb_holder"><canvas class="avpw_thumbnail avpw_isa_previewcanvas" id="avpw_flip_both_thumb" width="85" height="85"></canvas></div> \t\t\t</div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_crop" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Crop</h2></div></div><div id="avpw_crop_body"><div id="avpw_crop_body_help_text" class="avpw_small_font">Drag corners to resize crop area</div><div id="avpw_crop_body_checkbox" class="avpw_iblock_center"><div><input id="avpw_crop_prop" name="avpw_crop_prop" type="checkbox" value=""/></div><div class="avpw_small_font"><span class="avpw_small_font">&nbsp;Maintain proportions</span></div></div><div id="avpw_crop_presets"><div id="avpw_crop_sizes" class="avpw_dropdown" value="null"><div class="avpw_dropdown_header_wrapper"><div class="avpw_dropdown_header_text">Preset Sizes</div><div class="avpw_dropdown_header_arrow"><div class="avpw_dropdown_header_arrow_inner"></div></div></div><div class="avpw_dropdown_body_wrapper"><a href="#"><div value="null" class="avpw_dropdown_body_entry">Preset Sizes</div></a></div></div></div><div class="avpw_break"></div><div id="avpw_crop_ok_wrapper" class="avpw_iblock_center"><a href="#"><div class="avpw_button avpw_button_style" id="avpw_crop_button"><div>Crop</div></div></a></div></div><div class="avpw_scale_warn">Your image was temporarily shrunk to make it easier to edit it. When you hit Save, you will save the full display size.</div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_redeye" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Redeye</h2></div></div><div id="avpw_redeye_body" class="avpw_panel_margin"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="52" height="52" class="avpw_flashthumb_holder"><canvas id="avpw_redeye_ui_circle" class="avpw_isa_previewcanvas" width="52" height="52"></canvas><div class="avpw_inline_slider_block avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Brush size</div><div id="avpw_redeye_slider"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_bulge" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Bulge</h2></div></div><div id="avpw_bulge_body" class="avpw_panel_margin"><div class="avpw_bulge_slider_panel avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Brush size</div><div class="avpw_briconsat_slider" id="avpw_bulge_slider_radius"><div class="avpw_plus"></div></div></div><div class="avpw_bulge_slider_panel avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Power</div><div class="avpw_briconsat_slider" id="avpw_bulge_slider_power"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_pinch" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Pinch</h2></div></div><div id="avpw_pinch_body" class="avpw_panel_margin"><div class="avpw_bulge_slider_panel avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Brush size</div><div class="avpw_briconsat_slider" id="avpw_pinch_slider_radius"><div class="avpw_plus"></div></div></div><div class="avpw_bulge_slider_panel avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Power</div><div class="avpw_briconsat_slider" id="avpw_pinch_slider_power"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_whiten" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Whiten</h2></div></div><div id="avpw_whiten_body" class="avpw_panel_margin"><canvas id="avpw_whiten_ui_circle" class="avpw_isa_previewcanvas" width="52" height="52"></canvas><div class="avpw_inline_slider_block avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Brush size</div><div id="avpw_whiten_slider"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_greeneye" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Greeneye</h2></div></div><div id="avpw_greeneye_body" class="avpw_panel_margin"><canvas id="avpw_greeneye_ui_circle" class="avpw_isa_previewcanvas" width="52" height="52"></canvas><div class="avpw_inline_slider_block avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Brush size</div><div id="avpw_greeneye_slider"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_blemish" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Blemish</h2></div></div><div id="avpw_blemish_body" class="avpw_panel_margin"><canvas id="avpw_blemish_ui_circle" class="avpw_isa_previewcanvas" width="52" height="52"></canvas><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="52" height="52" class="avpw_flashthumb_holder"><div class="avpw_inline_slider_block avpw_big_egg_slider"><div class="avpw_inline_slider_label avpw_small_font">Brush size</div><div id="avpw_blemish_slider"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_resize" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Resize</h2></div></div><div id="avpw_resize_body" class="avpw_small_font"><div id="avpw_resize_body_checkbox" class="avpw_iblock_center"><div><input id="avpw_constrain_prop" name="avpw_constrain_prop" class="avpw_checkbox" type="checkbox" checked="checked" value="" /></div><div class="avpw_small_font">&nbsp;Maintain proportions</div></div><div id="avpw_resize_body_wh" class="avpw_iblock_center">Width <input class="avpw_resize_textinput" id="avpw_resize_width" type="text" value="640" maxlength="5"/>&nbsp;&nbsp;&nbsp;&nbsp;Height <input class="avpw_resize_textinput" id="avpw_resize_height" type="text" value="480" maxlength="5"/></div><div id="avpw_resize_presets"><div id="avpw_resize_sizes" class="avpw_dropdown" value="null"><div class="avpw_dropdown_header_wrapper"><div class="avpw_dropdown_header_text">Preset Sizes</div><div class="avpw_dropdown_header_arrow"><div class="avpw_dropdown_header_arrow_inner"></div></div></div><div class="avpw_dropdown_body_wrapper"><a href="#"><div value="null" class="avpw_dropdown_body_entry">Preset Sizes</div></a></div></div></div><div id="avpw_resize_ok_wrapper" class="avpw_block_center"><div style="display:inline-block;text-align:center;"><a href="#"><div class="avpw_button avpw_button_style" id="avpw_resize_submit"><div>Ok</div></div></a></div></div></div><div class="avpw_scale_warn">Your image was temporarily shrunk to make it easier to edit it. When you hit Save, you will save the full display size.</div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_colors" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Color</h2></div></div><div class="avpw_slider_area avpw_panel_margin"><div class="avpw_slider_and_label"><div class="avpw_slider_label"><div style="background-color: #f00;"></div></div><div class="avpw_color_slider" id="avpw_r_slider"><div class="avpw_plus"></div></div></div><div class="avpw_slider_and_label"><div class="avpw_slider_label"><div style="background-color:#0f0;"></div></div><div class="avpw_color_slider" id="avpw_g_slider"><div class="avpw_plus"></div></div></div><div class="avpw_slider_and_label"><div class="avpw_slider_label"><div style="background-color:#00f;"></div></div><div class="avpw_color_slider" id="avpw_b_slider"><div class="avpw_plus"></div></div></div></div><div id="avpw_colors_reset_wrapper" class="avpw_block_center"><div style="display:inline-block;text-align:center;"><a href="#"><div class="avpw_button avpw_button_style" id="avpw_color_reset"><div>Reset</div></div></a></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_filters" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Filters</h2></div></div><div id="avpw_filter_body"><div id="avpw_filter_body_scroll_window"><div id="avpw_filter_body_scroll_region"></div></div><div id="avpw_filter_body_scroll_left"></div><div id="avpw_filter_body_scroll_right"></div><div id="avpw_filter_body_scroll_navpips"></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_drawing" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Drawing</h2></div></div><div id="avpw_drawing_body" class="avpw_panel_margin"><div id="avpw_drawing_circle_colors"><img src="__FEATHER_BASE_URL__images/trans1x1.png" width="52" height="52" class="avpw_flashthumb_holder"><canvas id="avpw_drawing_ui_circle" class="avpw_isa_previewcanvas" width="52" height="52"></canvas><div id="avpw_drawing_colors"><div class="avpw_drawing_colors_row"><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#000000;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#444444;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#777777;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#878787;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#aaaaaa;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#bababa;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#dddddd;"><div class="avpw_relative100"></div></div><div id="avpw_drawing_colors_white" class="avpw_color_picker avpw_color_picker_drawing avpw_color_picker_selected" style="background-color:#ffffff;"><div class="avpw_relative100"><div class="avpw_white_grayborder"></div><div id="avpw_drawing_color_selector"></div></div></div></div><div class="avpw_drawing_colors_row"><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#fcff3d;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f9ce3c;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f89a3c;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f7663c;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f6311d;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f62e6a;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f7289b;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f81ecd;"><div class="avpw_relative100"></div></div></div><div class="avpw_drawing_colors_row"><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#f8639b;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#9700cb;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#650098;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#380098;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#3e00cb;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#2b61cb;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#249b33;"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_drawing" style="background-color:#41ff34;"><div class="avpw_relative100"></div></div></div><div id="avpw_drawing_colors_eraser" class="avpw_block_right"><div style="display:inline-block;"><div id="avpw_draweraser_outer"><span class="avpw_small_font">Eraser&nbsp;</span><div class="avpw_selected" id="avpw_draweraser"></div></div></div></div></div></div><div id="avpw_drawing_brushsize_label" class="avpw_small_font">Brush size</div><div id="avpw_drawing_sizer" class="avpw_big_egg_slider"><div id="avpw_drawing_width_slider"><div class="avpw_plus"></div></div></div><div id="avpw_drawing_softness_label" class="avpw_small_font">Brush softness</div><div id="avpw_drawing_softness" class="avpw_big_egg_slider"><div id="avpw_drawing_softness_slider"><div class="avpw_plus"></div></div></div></div><div class="avpw_tip"><div></div></div></div><div id="avpw_controlpanel_overlay" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style" id="avpw_sticker_group_name">Stickers</h2></div></div><div id="avpw_overlay_body" class="avpw_panel_margin"><div id="avpw_overlay_images"><div id="avpw_overlay_progress_holder"><div id="avpw_overlay_progress" class="avpw_progress"><div class="avpw_progress_completed"></div></div>Loading...</div><div id="avpw_overlay_images_scroll_window"><div id="avpw_overlay_images_scroll_region"></div></div></div><div id="avpw_overlay_lftArrow"><a href="#">&nbsp;</a></div><div id="avpw_overlay_rghtArrow"><a href="#">&nbsp;</a></div><div id="avpw_overlay_pager" class="avpw_overlay_options_pager avpw_panel_right_margin"><ul></ul></div></div></div><div id="avpw_controlpanel_text" class="avpw_controlpanel avpw_controlpanel_style"><div class="avpw_tool_properties_name"><div><div class="avpw_tool_prop_bg"></div><h2 class="avpw_title_text_style">Text</h2></div></div><div id="avpw_text_body" class=""><div id="avpw_controlpanel_text_entry_area"><textarea id="avpw_text_area" name="avpw_text_area" class="avpw_text_textinput" wrap="off">Enter text here</textarea></div><div id="avpw_controlpanel_text_options_colors"><div class="avpw_controlpanel_text_options_colors_row"><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#ffffff;" shadowcolor="#000"><div class="avpw_relative100"><div class="avpw_white_grayborder"></div></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#fcff3d;" shadowcolor="#000"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#32cf33;" shadowcolor="#fff"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#f7289b;" shadowcolor="#fff"><div class="avpw_relative100"></div></div></div><div class="avpw_controlpanel_text_options_colors_row"><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#cecece;" shadowcolor="#000"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#f89b1d;" shadowcolor="#000"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#279a66;" shadowcolor="#fff"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#c720cc;" shadowcolor="#fff"><div class="avpw_relative100"></div></div></div><div class="avpw_controlpanel_text_options_colors_row"><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#585858;" shadowcolor="#fff"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#f6661d;" shadowcolor="#fff"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#3c95fe;" shadowcolor="#000"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#940067;" shadowcolor="#fff"><div class="avpw_relative100"></div></div></div><div class="avpw_controlpanel_text_options_colors_row"><div class="avpw_color_picker_selected avpw_color_picker avpw_color_picker_text" style="background-color:#000000;" shadowcolor="#fff"><div class="avpw_relative100"><div id="avpw_text_color_selector"></div></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#f6001d;" shadowcolor="#fff"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#310ffd;" shadowcolor="#fff"><div class="avpw_relative100"></div></div><div class="avpw_color_picker avpw_color_picker_text" style="background-color:#662b98;" shadowcolor="#fff"><div class="avpw_relative100"></div></div></div></div><div id="avpw_controlpanel_text_options_area"><canvas id="avpw_text_thumb" class="avpw_isa_previewcanvas" style="display: none; margin-top:1px; border:solid 1px black;" width="220" height="45"></canvas><div id="avpw_controlpanel_text_options_pulldowns"><div id="avpw_text_font" class="avpw_dropdown" value="sans-serif"><div class="avpw_dropdown_header_wrapper"><div class="avpw_dropdown_header_text">Arial</div><div class="avpw_dropdown_header_arrow"><div class="avpw_dropdown_header_arrow_inner"></div></div></div><div class="avpw_dropdown_body_wrapper"><a href="#"><div value="serif" class="avpw_dropdown_body_entry">Times</div></a><a href="#"><div value="sans-serif" class="avpw_dropdown_body_entry">Arial</div></a><a href="#"><div value="monospace" class="avpw_dropdown_body_entry">Mono</div></a></div></div><div id="avpw_text_font_size" class="avpw_dropdown" value="60"><div class="avpw_dropdown_header_wrapper"><div class="avpw_dropdown_header_text">60 px</div><div class="avpw_dropdown_header_arrow"><div class="avpw_dropdown_header_arrow_inner"></div></div></div><div class="avpw_dropdown_body_wrapper"><a href="#"><div value="6" class="avpw_dropdown_body_entry">6 px</div></a><a href="#"><div value="10" class="avpw_dropdown_body_entry">10 px</div></a><a href="#"><div value="12" class="avpw_dropdown_body_entry">12 px</div></a><a href="#"><div value="16" class="avpw_dropdown_body_entry">16 px</div></a><a href="#"><div value="24" class="avpw_dropdown_body_entry">24 px</div></a><a href="#"><div value="36" class="avpw_dropdown_body_entry">36 px</div></a><a href="#"><div value="48" class="avpw_dropdown_body_entry">48 px</div></a><a href="#"><div value="60" class="avpw_dropdown_body_entry">60 px</div></a></div></div></div><div id="avpw_controlpanel_text_options_colors_ok"><div id="avpw_controlpane_text_options_ok"><div style="display:none"><a href="#"><div class="avpw_button avpw_button_style" id="avpw_text_delete"><div>delete</div></div></a></div><a href="#"><div class="avpw_button avpw_button_style" id="avpw_add_text"><div>Ok</div></div></a></div></div></div></div><div class="avpw_tip"><div></div></div></div></div></div></div><div id="avpw_filter_eggs_panel"><div id="avpw_effects_egg0" class="avpw_filter_eggs_panel_egg_holder"><div class="avpw_filter_eggs_panel_eh_egg"><div class="avpw_filter_egg_icon"></div></div><div class="avpw_filter_text avpw_filter_text_style"></div></div><div class="avpw_filter_eggs_panel_egg_spacer"></div><div id="avpw_effects_egg1" class="avpw_filter_eggs_panel_egg_holder"><div class="avpw_filter_eggs_panel_eh_egg"><div class="avpw_filter_egg_icon"></div></div><div class="avpw_filter_text avpw_filter_text_style"></div></div><div class="avpw_filter_eggs_panel_egg_spacer"></div><div id="avpw_effects_egg2" class="avpw_filter_eggs_panel_egg_holder"><div class="avpw_filter_eggs_panel_eh_egg"><div class="avpw_filter_egg_icon"></div></div><div class="avpw_filter_text avpw_filter_text_style"></div></div><div class="avpw_filter_eggs_panel_egg_spacer"></div><div id="avpw_effects_egg3" class="avpw_filter_eggs_panel_egg_holder"><div class="avpw_filter_eggs_panel_eh_egg"><div class="avpw_filter_egg_icon"></div></div><div class="avpw_filter_text avpw_filter_text_style"></div></div></div>',
a,'<div id="avpw_powered_by_aviary" class="avpw_cardboard"><div>Powered by Aviary</div></div></div></div><div id="avpw_control_upper2" style="display:none;"><div id="avpw_control_body_pane"></div></div>',c,"</div>",'<form style="display:none;" id="avpw_track_form" action="'+AV_imgtrackServer+'" method="GET" target="avpw_img_track_target">','<input id="avpw_track_form_action" type="hidden" name="action" value=""></input><input id="avpw_track_form_sessionid" type="hidden" name="sessionid" value=""></input><input id="avpw_track_form_apikey" type="hidden" name="apikey" value=""></input><input id="avpw_track_form_data" type="hidden" name="toolusagedata" value=""></input></form>',
'<form style="display:none;" id="avpw_filter_form" enctype="multipart/form-data" action="'+AV_filterServer+'" method="POST" target="avpw_img_filter_target">','<input id="avpw_filter_form_data" type="hidden" name="b64data" value=""></input><input id="avpw_filter_form_actionlist" type="hidden" name="actionlist" value=""></input></form></div><div id="avpw_img_submit_target_holder" style="position:absolute;top:0;left:0"></div><div id="avpw_img_track_target_holder" style="position:absolute;top:0;left:0"></div><div id="avpw_img_filter_target_holder" style="position:absolute;top:0;left:0"></div>',
AV.buildHiddenFrame("avpw_img_submit_target_announcer","avpw_img_submit_target_announcer",AV__featherTargetAnnounce),AV.buildHiddenFrame("avpw_img_filter_target_announcer","avpw_img_filter_target_announcer",AV__featherFilterAnnounce),'<div style="display:block;position:absolute;left-9999px;"><div id="avpw_OstrichFeather"></div></div>'].join("");c=document.createElement("div");c.id="avpw_holder";var d=document.getElementsByTagName("body");d&&(d=d[0]);if(!d)d=document.documentElement;d.appendChild(c);
c.innerHTML=a.replace(/__FEATHER_BASE_URL__/g,AV_feather_baseURL)}var AV_waitThrobber,AV_imageWrapper,AV_origImgElement;function AV_nextFrame(a){setTimeout(a,1)}function AV_setPopupPos(a){var c=AV_getX(a),d=AV_getY(a),a=c+a.width+15,c=document.getElementById("avpw_controls");c.style.position="absolute";c.style.left=a+"px";c.style.top=d+"px"}
function AV_setLightboxPos(){var a;a="pageYOffset"in window?window.pageYOffset:(((t=document.documentElement)||(t=document.body.parentNode))&&typeof t.ScrollTop=="number"?t:document.body).scrollTop;document.getElementById("avpw_controls").style.top=a+30+"px"}function AV_getImageElem(a){if(typeof a=="string")return document.getElementById(a);return a}function AV_getImageId(a){if(typeof a=="string")return a;return a.id}
function AV_wrapImage(a){AV_origImgElement=AV_getImageElem(a);if(!AV_imageWrapper)AV_waitThrobber=document.createElement("img"),AV_waitThrobber.src=AV_feather_baseURL+"images/eggthrobber-"+AV_theme+".gif",AV_waitThrobber.id="_AV_waitThrobber",AV_imageWrapper=document.createElement("div"),AV_imageWrapper.id="_AV_imageWrapper",AV_imageWrapper.style.position="relative",AV_imageWrapper.appendChild(AV_origImgElement);AV_origImgElement.parentNode.insertBefore(AV_imageWrapper,AV_origImgElement)}
function AV_imgOnLoad(a,c){avpw$(a).load(c);(a.complete==!0||a.readyState==4||a.readyState=="complete"||a.readyState=="loaded")&&avpw$(a).trigger("load")}
function AV_loadFile(a,c,d){var e,f;e=function(a){if(d)navigator.appName=="Microsoft Internet Explorer"?a.onreadystatechange=function(a){(this.readyState==4||this.readyState=="complete"||this.readyState=="loaded")&&d(a)}:a.onload=d};c=="js"?(f=document.createElement("script"),f.setAttribute("type","text/javascript"),e(f),f.setAttribute("src",a)):c=="css"?(f=document.createElement("link"),f.setAttribute("rel","stylesheet"),f.setAttribute("type","text/css"),e(f),f.setAttribute("href",a)):c=="img"&&
(f=document.createElement("img"),e(f),f.setAttribute("src",a));(c=="js"||c=="css")&&f&&document.getElementsByTagName("head")[0].appendChild(f)}AV.buildHiddenFrame=function(a,c,d){d||(d=AV_imgrecvBase+"blank.html");c||(c=a);return['<iframe width="1" height="1" style="position:absolute;left:-9999px;" ','id="'+a+'" name="'+c+'" src="'+d+'">',"</iframe>"].join("")};
AV.simpleXHRPost=function(a,c,d){function e(){d&&k.readyState===4&&d(k.responseXML)}function f(a){var c=[];avpw$.each(a,function(a,d){if(d){var e="";e+="Content-Disposition: form-data; ";e+='name="'+a+'"\r\n\r\n';e+=d+"\r\n";c.push(e)}});a="--"+j+"\r\n";a+=c.join("--"+j+"\r\n");a+="--"+j+"--\r\n";return a}var j="FEATHER-AJAX---"+(new Date).getTime(),k=new XMLHttpRequest;try{var m="multipart/form-data; charset=UTF-8; boundary="+j;k.open("POST",a,!0);k.setRequestHeader("Content-Type",m);k.onreadystatechange=
e;var l=f(c);k.send(l)}catch(p){return!1}return!0};
function AV_loadStageFinal(){avpw_swfobject.embedSWF(AV_feather_baseURL+"ostrich/OstrichFeather.swf","avpw_OstrichFeather","1","1","10.0.0","ostrich/playerProductInstall.swf",{initializedCallback:"engineReady",allowDomains:"*",completeCallback:"AV_paintWidget_module_flashfilter_onFilterComplete"},{quality:"high",bgcolor:"#ffffff",allowscriptaccess:"always",allowfullscreen:"true",hasPriority:"true"},{id:"avpw_OstrichFeather",name:"avpw_OstrichFeather",align:"middle"});AV__feather_loaded=!0;typeof Feather_OnLoad!=
"undefined"&&Feather_OnLoad()}function AV_featherLaunch(){var a,c,d,e;if(AV_paintWidget)return!1;else a=AV_launchData.imageIDelem,c=AV_launchData.imageURL,d=AV_launchData.postdata,e=AV_launchData.inlineSite,Feather_OpenType=="popup"?AV_setPopupPos(AV_getImageElem(a)):AV_setLightboxPos(AV_getImageElem(a)),AV_paintWidgetLauncher(a,c,d,e)}
function aviaryeditor(a,c,d,e){if(!featherIsLoaded())return!1;if(AV_paintWidget)return!1;var f={imageIDelem:null,imageURL:"",inlineSite:null,editOptions:["sharpen","whiten","rotate","flip","resize","crop","redeye","blemish","colors","saturation","blur","brightness","contrast","drawing","text","overlay"],startTool:"",useServerFilters:!1,noCloseButton:!1,maxSize:800,cropSizes:["4:3","16:9","320x240","640x480","800x600","1280x1024","1600x1200","240x320","480x640","600x800","1024x1280","1200x1600"],resizeSizes:["320x240",
"640x480","800x600","1280x1024","1600x1200","240x320","480x640","600x800","1024x1280","1200x1600"],stickers:[["http://www.aviary.com/images/feather/sticker/bandaid_01.png","http://www.aviary.com/images/feather/sticker/thumbs/bandaid_01.png"],["http://www.aviary.com/images/feather/sticker/beer_01.png","http://www.aviary.com/images/feather/sticker/thumbs/beer_01.png"],["http://www.aviary.com/images/feather/sticker/cigar_01.png","http://www.aviary.com/images/feather/sticker/thumbs/cigar_01.png"],["http://www.aviary.com/images/feather/sticker/glasses_01.png",
"http://www.aviary.com/images/feather/sticker/thumbs/glasses_01.png"],["http://www.aviary.com/images/feather/sticker/glasses_02.png","http://www.aviary.com/images/feather/sticker/thumbs/glasses_02.png"],["http://www.aviary.com/images/feather/sticker/glasses_03.png","http://www.aviary.com/images/feather/sticker/thumbs/glasses_03.png"],["http://www.aviary.com/images/feather/sticker/glasses_04.png","http://www.aviary.com/images/feather/sticker/thumbs/glasses_04.png"],["http://www.aviary.com/images/feather/sticker/hat_01.png",
"http://www.aviary.com/images/feather/sticker/thumbs/hat_01.png"],["http://www.aviary.com/images/feather/sticker/hat_02.png","http://www.aviary.com/images/feather/sticker/thumbs/hat_02.png"],["http://www.aviary.com/images/feather/sticker/hat_04.png","http://www.aviary.com/images/feather/sticker/thumbs/hat_04.png"],["http://www.aviary.com/images/feather/sticker/hat_05.png","http://www.aviary.com/images/feather/sticker/thumbs/hat_05.png"],["http://www.aviary.com/images/feather/sticker/hat_06.png","http://www.aviary.com/images/feather/sticker/thumbs/hat_06.png"],
["http://www.aviary.com/images/feather/sticker/hat_07.png","http://www.aviary.com/images/feather/sticker/thumbs/hat_07.png"],["http://www.aviary.com/images/feather/sticker/patch_01.png","http://www.aviary.com/images/feather/sticker/thumbs/patch_01.png"],["http://www.aviary.com/images/feather/sticker/sguriken_01.png","http://www.aviary.com/images/feather/sticker/thumbs/sguriken_01.png"],["http://www.aviary.com/images/feather/sticker/stache_01.png","http://www.aviary.com/images/feather/sticker/thumbs/stache_01.png"],
["http://www.aviary.com/images/feather/sticker/stache_02.png","http://www.aviary.com/images/feather/sticker/thumbs/stache_02.png"],["http://www.aviary.com/images/feather/sticker/stache_03.png","http://www.aviary.com/images/feather/sticker/thumbs/stache_03.png"],["http://www.aviary.com/images/feather/sticker/stache_04.png","http://www.aviary.com/images/feather/sticker/thumbs/stache_04.png"],["http://www.aviary.com/images/feather/sticker/stache_05.png","http://www.aviary.com/images/feather/sticker/thumbs/stache_05.png"]],
onLaunchComplete:null,onClose:null,onSave:null,APIKey:"",hiResURL:"",postURL:"",postdata:null,fileFormat:"",jpgQuality:100,debug:!1,asyncSave:!0};if(typeof Feather_APIKey!=="undefined")f.APIKey=Feather_APIKey;if(typeof Feather_PostURL!=="undefined")f.postURL=Feather_PostURL;if(typeof Feather_HiResURL!=="undefined")f.hiResURL=Feather_HiResURL;if(typeof Feather_EditOptions!=="undefined"&&Feather_EditOptions!=="all")f.editOptions=Feather_EditOptions;if(typeof Feather_UseServerFilters!=="undefined")f.useServerFilters=
Feather_UseServerFilters;if(typeof Feather_Stickers!=="undefined"&&Feather_Stickers!=="all")f.stickers=Feather_Stickers;if(typeof Feather_CropSizes!=="undefined")f.cropSizes=Feather_CropSizes;if(typeof Feather_MaxDisplaySize!=="undefined")f.maxSize=Feather_MaxDisplaySize;typeof Feather_MaxSize!=="undefined"?f.maxSize=Feather_MaxSize:Feather_MaxSize=f.maxSize;if(typeof Feather_NoCloseButton!=="undefined")f.noCloseButton=Feather_NoCloseButton;if(typeof Feather_OnLaunchComplete!=="undefined")f.onLaunchComplete=
Feather_OnLaunchComplete;if(typeof Feather_OnSave!=="undefined")f.onSave=Feather_OnSave;if(typeof Feather_OnClose!=="undefined")f.onClose=Feather_OnClose;typeof a==="string"||a.nodeType&&a.nodeType===Node.ELEMENT_NODE?AV_launchData=avpw$.extend(f,{imageIDelem:AV_getImageElem(a),imageURL:c,postdata:d,inlineSite:e}):(a.imageIDelem=AV_getImageElem(a.imageIDelem),AV_launchData=avpw$.extend(f,a));if(AV__featherUseFlash)AV_featherLaunch();else{if(!featherSupported())return!0;setTimeout(AV_featherLaunch,
5)}return!0}function aviarynewimage(a,c){AV_paintWidgetRelauncher(a,c)}function aviaryeditor_close(a){AV_paintWidgetCloser(a)}function aviaryeditor_relaunch(){AV.isRelaunched=!0;if(typeof AV_launchData!=="undefined"&&AV_launchData)aviaryeditor(AV_launchData);else return!1}function aviaryeditor_activatetool(a){AV_paintWidgetActivateTool(a)}function featherIsLoading(){return AV__feather_loading}function featherIsLoaded(){return AV__feather_loaded}
function featherSupported(){return typeof AV_Feather_ForceSupport!="undefined"||featherHtmlOk()||featherFlashOk()}function featherFlashOk(){if(typeof AV_Feather_ForceFlash!="undefined")return!0;var a=AV__getInternetExplorerVersion();return a<0||a>=7}function featherHtmlOk(){if(typeof AV_Feather_ForceFlash!="undefined")return!1;var a=!!document.createElement("canvas").getContext,c=typeof window.postMessage==="function";return a&&c}
function AV_getFlashMovie(a){return navigator.appName.indexOf("Microsoft")!=-1?window[a]:document[a]}AV.firefox=function(){var a;navigator.product==="Gecko"&&(a=navigator.userAgent.split("Firefox/")[1],a=parseInt(a,10));return a}();function AV__getInternetExplorerVersion(){var a=-1;navigator.appName=="Microsoft Internet Explorer"&&/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)!=null&&(a=parseFloat(RegExp.$1));return a}
(function(){function a(a){var d=AV__getInternetExplorerVersion(),a=AV_feather_baseURL+"css/"+a+"-"+AV_theme;AV_loadFile(a+".css","css");AV__featherUseFlash&&AV_loadFile(a+"-flash.css","css");d>=7&&d<8?AV_loadFile(a+"-ie7.css","css"):d>=8&&d<9&&AV_loadFile(a+"-ie8.css","css")}AV__featherUseFlash=!featherHtmlOk()&&featherFlashOk();Feather_OpenType=="float"&&(Feather_OpenType="popup");Feather_OpenType=="integrated"&&(Feather_OpenType="lightbox");Feather_OpenType=="inline"&&(Feather_OpenType="inject");
AV__featherUseFlash&&Feather_OpenType=="popup"&&(Feather_OpenType="lightbox");AV__injectControls();!AV__feather_loaded&&!AV__feather_loading&&(AV__feather_loading=!0,typeof AV_closureCompiled!="undefined"?(Feather_OpenType=="popup"?a("feather"):a("feather_hd"),AV_loadFile(AV_feather_baseURL+"images/atlas-"+AV_theme+".png","img",AV_loadStageFinal)):(AV_loadFile(AV_feather_baseURL+"css/ui-lightness/jquery-ui-1.8.11.custom.css","css"),Feather_OpenType=="popup"?a("controlswidget"):a("controlswidget_hd"),
AV_loadFile(AV_feather_baseURL+"js/swfobject.js","js",function(){AV_loadFile(AV_feather_baseURL+"js/avpw-jquery-1.5.1.min.js","js",function(){AV_loadFile(AV_feather_baseURL+"js/avpw-jquery-ui-1.8.11.custom.min.js","js",function(){AV_loadFile(AV_feather_baseURL+"js/widgetapi.js","js",function(){AV_loadFile(AV_feather_baseURL+"js/controlswidget.js","js",AV_loadStageFinal)})})})})))})();
